<html><head><title>Highlighted Intervals</title></head><body>
<h2>Commit: 9b2b803</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private List <span style="color: blue; font-weight: bold;">args</span> = new <span style="color: red; font-weight: bold;">LinkedList</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">names</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    <span style="color: green; font-weight: bold;">CommandLine</span>()
    {
</p></li>
<p>    void <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)
    {
        <span style="color: blue; font-weight: bold;">hashcodeMap</span>.<span style="color: green; font-weight: bold;">put</span>(new <span style="color: red; font-weight: bold;">Integer</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hashCode</span>()), <span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>
        if (<span style="color: blue; font-weight: bold;">key</span> == null)
        {
</p></li>
<p>        else
        {
            <span style="color: blue; font-weight: bold;">names</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">key</span>);
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    private void <span style="color: green; font-weight: bold;">init</span>()
    {
</p></li>
<p>    protected String[] <span style="color: green; font-weight: bold;">flatten</span>(Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
                               boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
</p></li>
<p>
</p></li>
<p>        for (int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++)
        {
            if ("--".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]))
            {
</p></li>
<p>                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>("--");
</p></li>
<p>            else if ("-".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]))
            {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>("-");
</p></li>
<p>            else if (<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">startsWith</span>("-"))
            {
                Option <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                if (<span style="color: blue; font-weight: bold;">option</span> == null)
                {
</p></li>
<p>                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = 
                            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0, 2));

                    if (<span style="color: blue; font-weight: bold;">specialOption</span> != null)
                    {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0, 2));
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2));
</p></li>
<p>                    else if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
                    {
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                    else
                    {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                else
                {
</p></li>
<p>
</p></li>
<p>                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = 
                            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0, 2));

                    if ((<span style="color: blue; font-weight: bold;">specialOption</span> != null) && (<span style="color: blue; font-weight: bold;">option</span> == null))
                    {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0, 2));
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2));
</p></li>
<p>                    else if ((<span style="color: blue; font-weight: bold;">currentOption</span> != null) && <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>())
                    {
                        if (<span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>())
                        {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
                            <span style="color: blue; font-weight: bold;">currentOption</span> = null;
</p></li>
<p>                        else if (<span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArgs</span>())
                        {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                        else if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
                        {
</p></li>
<p>                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>("--");
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                        else
                        {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                    }
                    else if (<span style="color: blue; font-weight: bold;">currentOption</span> != null)
                    {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
                    }
                    else if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
                    {
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>("--");
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>                    else
                    {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>            else
            {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>            if (<span style="color: blue; font-weight: bold;">eatTheRest</span>)
            {
                for (<span style="color: blue; font-weight: bold;">i</span>++; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++)
                {
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>]);
</p></li>
<p>
        return (String[]) <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">toArray</span>(new String[] {  });
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private int <span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">UNINITIALIZED</span>;
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">description</span>)
           throws IllegalArgumentException
</p></li>
<p>        this(<span style="color: blue; font-weight: bold;">opt</span>, null, false, <span style="color: blue; font-weight: bold;">description</span>);
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, 
                  String <span style="color: blue; font-weight: bold;">description</span>)
           throws IllegalArgumentException
</p></li>
<p>        <span style="color: blue; font-weight: bold;">OptionValidator</span>.<span style="color: green; font-weight: bold;">validateOption</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">opt</span>;
        this.<span style="color: blue; font-weight: bold;">longOpt</span> = <span style="color: blue; font-weight: bold;">longOpt</span>;
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">hasArg</span>)
        {
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">hasArg</span> = <span style="color: blue; font-weight: bold;">hasArg</span>;
        this.<span style="color: blue; font-weight: bold;">description</span> = <span style="color: blue; font-weight: bold;">description</span>;
</p></li>
<p>    String <span style="color: green; font-weight: bold;">getKey</span>()
    {
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span> == null)
        {
</p></li>
<p>
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setType</span>(Object <span style="color: blue; font-weight: bold;">type</span>)
    {
</p></li>
<p>    public String <span style="color: green; font-weight: bold;">getLongOpt</span>()
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setLongOpt</span>(String <span style="color: blue; font-weight: bold;">longOpt</span>)
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setOptionalArg</span>(boolean <span style="color: blue; font-weight: bold;">optionalArg</span>)
    {
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasLongOpt</span>()
    {
        return (this.<span style="color: blue; font-weight: bold;">longOpt</span> != null);
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasArg</span>()
    {
        return (this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> > 0) || (<span style="color: blue; font-weight: bold;">numberOfArgs</span> == <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span>);
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">isRequired</span>()
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setRequired</span>(boolean <span style="color: blue; font-weight: bold;">required</span>)
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgName</span>(String <span style="color: blue; font-weight: bold;">argName</span>)
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgs</span>(int <span style="color: blue; font-weight: bold;">num</span>)
    {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setValueSeparator</span>(char <span style="color: blue; font-weight: bold;">sep</span>)
    {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    private <span style="color: green; font-weight: bold;">OptionBuilder</span>()
    {
</p></li>
<p>    private static void <span style="color: green; font-weight: bold;">reset</span>()
    {
</p></li>
<p>
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withLongOpt</span>(String <span style="color: blue; font-weight: bold;">longopt</span>)
    {
</p></li>
<p>
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">hasArg</span>()
    {
</p></li>
<p>
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">isRequired</span>()
    {
</p></li>
<p>
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withDescription</span>(String <span style="color: blue; font-weight: bold;">description</span>)
    {
</p></li>
<p>
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>(char <span style="color: blue; font-weight: bold;">opt</span>)
                         throws IllegalArgumentException
</p></li>
<p>        return <span style="color: green; font-weight: bold;">create</span>(<span style="color: blue; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: blue; font-weight: bold;">opt</span>));
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>(String <span style="color: blue; font-weight: bold;">opt</span>)
                         throws IllegalArgumentException
</p></li>
<p>        Option <span style="color: blue; font-weight: bold;">option</span> = new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">description</span>);

</p></li>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setLongOpt</span>(<span style="color: blue; font-weight: bold;">longopt</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setRequired</span>(<span style="color: blue; font-weight: bold;">required</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setOptionalArg</span>(<span style="color: blue; font-weight: bold;">optionalArg</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgs</span>(<span style="color: blue; font-weight: bold;">numberOfArgs</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setType</span>(<span style="color: blue; font-weight: bold;">type</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setValueSeparator</span>(<span style="color: blue; font-weight: bold;">valuesep</span>);
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgName</span>(<span style="color: blue; font-weight: bold;">argName</span>);


</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionValidator.java:</strong><br>
<p>    static void <span style="color: green; font-weight: bold;">validateOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>)
                        throws IllegalArgumentException
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span> == null)
        {
</p></li>
<p>
</p></li>
<p>        else if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1)
        {
            char <span style="color: blue; font-weight: bold;">ch</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">charAt</span>(0);

            if (!<span style="color: green; font-weight: bold;">isValidOpt</span>(<span style="color: blue; font-weight: bold;">ch</span>))
            {
                throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>("illegal option value '" + <span style="color: blue; font-weight: bold;">ch</span>
                                                   + "'");
</p></li>
<p>
</p></li>
<p>        else
        {
</p></li>
<p>
            for (int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < chars.length; <span style="color: blue; font-weight: bold;">i</span>++)
            {
                if (!<span style="color: green; font-weight: bold;">isValidChar</span>(<span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>]))
                {
                    throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(
                            "opt contains illegal character value '" + <span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>]
                            + "'");
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidOpt</span>(char <span style="color: blue; font-weight: bold;">c</span>)
    {
        return (<span style="color: green; font-weight: bold;">isValidChar</span>(<span style="color: blue; font-weight: bold;">c</span>) || (<span style="color: blue; font-weight: bold;">c</span> == ' ') || (<span style="color: blue; font-weight: bold;">c</span> == '?') || <span style="color: blue; font-weight: bold;">c</span> == '@');
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidChar</span>(char <span style="color: blue; font-weight: bold;">c</span>)
    {
        return <span style="color: blue; font-weight: bold;">Character</span>.<span style="color: green; font-weight: bold;">isJavaIdentifierPart</span>(<span style="color: blue; font-weight: bold;">c</span>);
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private Map <span style="color: blue; font-weight: bold;">shortOpts</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">longOpts</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">optionGroups</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Options</span>()
    {
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, 
                             String <span style="color: blue; font-weight: bold;">description</span>)
    {
        <span style="color: green; font-weight: bold;">addOption</span>(new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>));

</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)
    {
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// add it to the long option list</span>
        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasLongOpt</span>())
        {
            <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span>);
        }

        <span style="color: purple; font-weight: bold;">// if the option is required add it to the required list</span>
        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() && !<span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">contains</span>(<span style="color: blue; font-weight: bold;">key</span>))
        {
            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">key</span>);
        }

        <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>    List <span style="color: green; font-weight: bold;">helpOptions</span>()
    {
        List <span style="color: blue; font-weight: bold;">opts</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>(<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>());
</p></li>
<p>
</p></li>
<p>
</p></li>
<p>
        return new <span style="color: red; font-weight: bold;">ArrayList</span>(<span style="color: blue; font-weight: bold;">opts</span>);
</p></li>
<p>    public List <span style="color: green; font-weight: bold;">getRequiredOptions</span>()
    {
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>)
    {
        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>(<span style="color: blue; font-weight: bold;">opt</span>))
        {
            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>
        return (Option) <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>)
    {
        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>(<span style="color: blue; font-weight: bold;">opt</span>);

        return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>(<span style="color: blue; font-weight: bold;">opt</span>) || <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>    public OptionGroup <span style="color: green; font-weight: bold;">getOptionGroup</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)
    {
        return (OptionGroup) <span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>());
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>(Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span>)
                      throws ParseException
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>(<span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, null, false);
</p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>(Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
                             Properties <span style="color: blue; font-weight: bold;">properties</span>, boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
        throws ParseException
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">options</span>;
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">arguments</span> == null)
        {
</p></li>
<p>        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: green; font-weight: bold;">flatten</span>(this.<span style="color: blue; font-weight: bold;">options</span>, 
                                               <span style="color: blue; font-weight: bold;">arguments</span>, 
                                               <span style="color: blue; font-weight: bold;">stopAtNonOption</span>));

</p></li>
<p>        while (<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>())
        {
            String <span style="color: blue; font-weight: bold;">t</span> = (String) <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();
</p></li>
<p>            if ("--".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">t</span>))
            {
</p></li>
<p>
</p></li>
<p>            else if ("-".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">t</span>))
            {
                if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
                {
</p></li>
<p>                else
                {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">t</span>);
</p></li>
<p>
</p></li>
<p>            else if (<span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-"))
            {
                if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">t</span>))
                {
</p></li>
<p>                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">t</span>);
</p></li>
<p>                else
                {
                    <span style="color: green; font-weight: bold;">processOption</span>(<span style="color: blue; font-weight: bold;">t</span>, <span style="color: blue; font-weight: bold;">iterator</span>);
</p></li>
<p>
</p></li>
<p>            else
            {
                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">t</span>);

                if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span>)
                {
</p></li>
<p>            if (<span style="color: blue; font-weight: bold;">eatTheRest</span>)
            {
                while (<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>())
                {
                    String <span style="color: blue; font-weight: bold;">str</span> = (String) <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();

</p></li>
<p>                    if (!"--".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">str</span>))
                    {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">str</span>);
</p></li>
<p>
        <span style="color: green; font-weight: bold;">processProperties</span>(<span style="color: blue; font-weight: bold;">properties</span>);
</p></li>
<p>
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processProperties</span>(Properties <span style="color: blue; font-weight: bold;">properties</span>)
    {
        if (<span style="color: blue; font-weight: bold;">properties</span> == null)
        {
</p></li>
<p>        for (Enumeration <span style="color: blue; font-weight: bold;">e</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">propertyNames</span>(); <span style="color: blue; font-weight: bold;">e</span>.<span style="color: green; font-weight: bold;">hasMoreElements</span>();)
        {
</p></li>
<p>            if (!<span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">option</span>))
            {
                Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">option</span>);
</p></li>
<p>                <span style="color: purple; font-weight: bold;">// get the value from the properties instance</span>
                String <span style="color: blue; font-weight: bold;">value</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">getProperty</span>(<span style="color: blue; font-weight: bold;">option</span>);

                if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArgs</span>())
                {
                    if ((<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() == null)
                        || (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> == 0))
                    {
                        try
                        {
                            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>(<span style="color: blue; font-weight: bold;">value</span>);
</p></li>
<p>                        catch (RuntimeException <span style="color: blue; font-weight: bold;">exp</span>)
                        {
</p></li>
<p>                else if (!("yes".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>(<span style="color: blue; font-weight: bold;">value</span>) 
                           || "true".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>(<span style="color: blue; font-weight: bold;">value</span>)
                           || "1".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>(<span style="color: blue; font-weight: bold;">value</span>)))
                {
</p></li>
<p>                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>        throws MissingOptionException
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() > 0)
        {
</p></li>
<p>            while (<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>())
            {
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>());
</p></li>
<p>            throw new <span style="color: red; font-weight: bold;">MissingOptionException</span>(<span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">toString</span>());
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processOption</span>(String <span style="color: blue; font-weight: bold;">arg</span>, ListIterator <span style="color: blue; font-weight: bold;">iter</span>)
        throws ParseException
</p></li>
<p>        boolean <span style="color: blue; font-weight: bold;">hasOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        if (!<span style="color: blue; font-weight: bold;">hasOption</span>)
        {
            throw new <span style="color: red; font-weight: bold;">UnrecognizedOptionException</span>("Unrecognized option: " 
                                                  + <span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        else
        {
            <span style="color: blue; font-weight: bold;">opt</span> = (Option) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>())
        {
            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>());
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>) != null)
        {
            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = (OptionGroup) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>);

            if (<span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">isRequired</span>())
            {
                <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">group</span>);
</p></li>
<p>
            <span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">setSelected</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArg</span>())
        {
            <span style="color: green; font-weight: bold;">processArgs</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">iter</span>);
</p></li>
<p>
</p></li>
<p>        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Util.java:</strong><br>
<p>    static String <span style="color: green; font-weight: bold;">stripLeadingHyphens</span>(String <span style="color: blue; font-weight: bold;">str</span>)
    {
        if (<span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>("--"))
        {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>(2, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>());
</p></li>
<p>        else if (<span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-"))
        {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>(1, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>());
</p></li>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private List <span style="color: blue; font-weight: bold;">args</span>    = new <span style="color: red; font-weight: bold;">LinkedList</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">names</span>   = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    <span style="color: green; font-weight: bold;">CommandLine</span>() {
</p></li>
<p>    void <span style="color: green; font-weight: bold;">addOption</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
        <span style="color: blue; font-weight: bold;">hashcodeMap</span>.<span style="color: green; font-weight: bold;">put</span>( new <span style="color: red; font-weight: bold;">Integer</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hashCode</span>() ), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">key</span> == null ) {
</p></li>
<p>        else {
            <span style="color: blue; font-weight: bold;">names</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">key</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    private void <span style="color: green; font-weight: bold;">init</span>() {
</p></li>
<p>    protected String[] <span style="color: green; font-weight: bold;">flatten</span>( Options <span style="color: blue; font-weight: bold;">options</span>, 
                                String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
                                boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> )
</p></li>
<p>        for( int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
            if( "--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
</p></li>
<p>                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
</p></li>
<p>            else if ( "-".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "-" );
</p></li>
<p>            else if( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                Option <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                if( <span style="color: blue; font-weight: bold;">option</span> == null ) {
</p></li>
<p>                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    if( <span style="color: blue; font-weight: bold;">specialOption</span> != null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
</p></li>
<p>                    else if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                    else {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                else {
</p></li>
<p>                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    if( <span style="color: blue; font-weight: bold;">specialOption</span> != null && <span style="color: blue; font-weight: bold;">option</span> == null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
</p></li>
<p>                    else if( <span style="color: blue; font-weight: bold;">currentOption</span> != null && <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
                        if( <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                            <span style="color: blue; font-weight: bold;">currentOption</span>= null;
</p></li>
<p>                        else if ( <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArgs</span>() ) {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                        else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
</p></li>
<p>                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                        else {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                    } 
                    else if (<span style="color: blue; font-weight: bold;">currentOption</span> != null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    } 
                    else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>                    else {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>            else {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>            if( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                for( <span style="color: blue; font-weight: bold;">i</span>++; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>        return (String[])<span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">toArray</span>( new String[] {} );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private int <span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">UNINITIALIZED</span>;   
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>( String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">description</span> ) 
    throws IllegalArgumentException
</p></li>
<p>        this( <span style="color: blue; font-weight: bold;">opt</span>, null, false, <span style="color: blue; font-weight: bold;">description</span> );
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>( String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span> ) 
    throws IllegalArgumentException
</p></li>
<p>        <span style="color: blue; font-weight: bold;">OptionValidator</span>.<span style="color: green; font-weight: bold;">validateOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">opt</span>          = <span style="color: blue; font-weight: bold;">opt</span>;
        this.<span style="color: blue; font-weight: bold;">longOpt</span>      = <span style="color: blue; font-weight: bold;">longOpt</span>;
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">hasArg</span> ) {
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">hasArg</span>       = <span style="color: blue; font-weight: bold;">hasArg</span>;
        this.<span style="color: blue; font-weight: bold;">description</span>  = <span style="color: blue; font-weight: bold;">description</span>;
</p></li>
<p>    String <span style="color: green; font-weight: bold;">getKey</span>() {
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">opt</span> == null ) {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setType</span>( Object <span style="color: blue; font-weight: bold;">type</span> ) {
</p></li>
<p>    public String <span style="color: green; font-weight: bold;">getLongOpt</span>() {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setLongOpt</span>( String <span style="color: blue; font-weight: bold;">longOpt</span> ) {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setOptionalArg</span>( boolean <span style="color: blue; font-weight: bold;">optionalArg</span> ) {
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasLongOpt</span>() {
        return ( this.<span style="color: blue; font-weight: bold;">longOpt</span> != null );
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasArg</span>() {
        return this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> > 0 || <span style="color: blue; font-weight: bold;">numberOfArgs</span> == <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span>;
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">isRequired</span>() {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setRequired</span>( boolean <span style="color: blue; font-weight: bold;">required</span> ) {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgName</span>( String <span style="color: blue; font-weight: bold;">argName</span> ) {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgs</span>( int <span style="color: blue; font-weight: bold;">num</span> ) {
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setValueSeparator</span>( char <span style="color: blue; font-weight: bold;">sep</span> ) {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">// private constructor</span>
    private <span style="color: green; font-weight: bold;">OptionBuilder</span>() {
</p></li>
<p>    private static void <span style="color: green; font-weight: bold;">reset</span>() {
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withLongOpt</span>( String <span style="color: blue; font-weight: bold;">longopt</span> ) {
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">hasArg</span>( ) {
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">isRequired</span>( ) {
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withDescription</span>( String <span style="color: blue; font-weight: bold;">description</span> ) {
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>( char <span style="color: blue; font-weight: bold;">opt</span> )
    throws IllegalArgumentException
</p></li>
<p>        return <span style="color: green; font-weight: bold;">create</span>( <span style="color: blue; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>( <span style="color: blue; font-weight: bold;">opt</span> ) );
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) 
    throws IllegalArgumentException
</p></li>
<p>        Option <span style="color: blue; font-weight: bold;">option</span> = new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">description</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setLongOpt</span>( <span style="color: blue; font-weight: bold;">longopt</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setRequired</span>( <span style="color: blue; font-weight: bold;">required</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setOptionalArg</span>( <span style="color: blue; font-weight: bold;">optionalArg</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgs</span>( <span style="color: blue; font-weight: bold;">numberOfArgs</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setType</span>( <span style="color: blue; font-weight: bold;">type</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setValueSeparator</span>( <span style="color: blue; font-weight: bold;">valuesep</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgName</span>( <span style="color: blue; font-weight: bold;">argName</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionValidator.java:</strong><br>
<p>    static void <span style="color: green; font-weight: bold;">validateOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) 
    throws IllegalArgumentException
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">opt</span> == null ) {
</p></li>
<p>        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            char <span style="color: blue; font-weight: bold;">ch</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">charAt</span>( 0 );
            if ( !<span style="color: green; font-weight: bold;">isValidOpt</span>( <span style="color: blue; font-weight: bold;">ch</span> ) ) {
                throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>( "illegal option value '" 
                                                    + <span style="color: blue; font-weight: bold;">ch</span> + "'" );
</p></li>
<p>        else {
</p></li>
<p>            for( int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < chars.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
                if( !<span style="color: green; font-weight: bold;">isValidChar</span>( <span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
                    throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>( "opt contains illegal character value '" + <span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>] + "'" );
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidOpt</span>( char <span style="color: blue; font-weight: bold;">c</span> ) {
        return ( <span style="color: green; font-weight: bold;">isValidChar</span>( <span style="color: blue; font-weight: bold;">c</span> ) || <span style="color: blue; font-weight: bold;">c</span> == ' ' || <span style="color: blue; font-weight: bold;">c</span> == '?' || <span style="color: blue; font-weight: bold;">c</span> == '@' );
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidChar</span>( char <span style="color: blue; font-weight: bold;">c</span> ) {
        return <span style="color: blue; font-weight: bold;">Character</span>.<span style="color: green; font-weight: bold;">isJavaIdentifierPart</span>( <span style="color: blue; font-weight: bold;">c</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private Map  <span style="color: blue; font-weight: bold;">shortOpts</span>    = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map  <span style="color: blue; font-weight: bold;">longOpts</span>     = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">optionGroups</span>  = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Options</span>() {        
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span> ) );        
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)  {
</p></li>
<p>        
            <span style="color: purple; font-weight: bold;">// add it to the long option list</span>
            if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasLongOpt</span>() ) {
                <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
            }
        
            <span style="color: purple; font-weight: bold;">// if the option is required add it to the required list</span>
            if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() && !<span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">contains</span>( <span style="color: blue; font-weight: bold;">key</span> ) ) {
                <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">key</span> );
            }
            <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    List <span style="color: green; font-weight: bold;">helpOptions</span>() {
        List <span style="color: blue; font-weight: bold;">opts</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );
</p></li>
<p>        return new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">opts</span> );
</p></li>
<p>    public List <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) {
</p></li>
<p>        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( <span style="color: blue; font-weight: bold;">opt</span> );

        if( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> ) ) {
            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return (Option) <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) {
        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> ) || <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    public OptionGroup <span style="color: green; font-weight: bold;">getOptionGroup</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, 
                              String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
    throws ParseException 
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, null, false );
</p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, 
                              String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
                              Properties <span style="color: blue; font-weight: bold;">properties</span>,
                              boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) 
    throws ParseException 
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">opts</span>;
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">arguments</span> == null ) {
</p></li>
<p>        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: green; font-weight: bold;">flatten</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">arguments</span>, <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) );
</p></li>
<p>        while( <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            String <span style="color: blue; font-weight: bold;">t</span> = (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();
</p></li>
<p>            if( "--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
</p></li>
<p>            else if( "-".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
                if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
</p></li>
<p>                else {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">t</span> );
</p></li>
<p>            else if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
</p></li>
<p>                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
</p></li>
<p>                else {
                    <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">t</span>, <span style="color: blue; font-weight: bold;">iterator</span> );
</p></li>
<p>            else {
                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
                if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
</p></li>
<p>            if( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                while( <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    String <span style="color: blue; font-weight: bold;">str</span> = (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();
</p></li>
<p>                    if( !"--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">str</span> ) ) {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">str</span> );
</p></li>
<p>        <span style="color: green; font-weight: bold;">processProperties</span>( <span style="color: blue; font-weight: bold;">properties</span> );
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processProperties</span>( Properties <span style="color: blue; font-weight: bold;">properties</span> ) {
        if( <span style="color: blue; font-weight: bold;">properties</span> == null ) {
</p></li>
<p>        for( Enumeration <span style="color: blue; font-weight: bold;">e</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">propertyNames</span>(); <span style="color: blue; font-weight: bold;">e</span>.<span style="color: green; font-weight: bold;">hasMoreElements</span>(); ) {
</p></li>
<p>            if( !<span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">option</span> ) ) {
                Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">option</span> );
</p></li>
<p>                <span style="color: purple; font-weight: bold;">// get the value from the properties instance</span>
                String <span style="color: blue; font-weight: bold;">value</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">getProperty</span>( <span style="color: blue; font-weight: bold;">option</span> );
</p></li>
<p>                if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArgs</span>() ) {
                    if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() == null || <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> == 0 ) {
                        try {
                            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>( <span style="color: blue; font-weight: bold;">value</span> );
</p></li>
<p>                        catch( RuntimeException <span style="color: blue; font-weight: bold;">exp</span> ) {
</p></li>
<p>                else if ( ! ( "yes".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span> ) ||
                              "true".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span> ) ||
                              "1".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span>) ) ) {
</p></li>
<p>                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    throws MissingOptionException 
</p></li>
<p>
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() > 0 ) {
</p></li>
<p>            while( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>() );
</p></li>
<p>            throw new <span style="color: red; font-weight: bold;">MissingOptionException</span>( <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">toString</span>() );
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processOption</span>( String <span style="color: blue; font-weight: bold;">arg</span>, ListIterator <span style="color: blue; font-weight: bold;">iter</span> ) 
    throws ParseException
</p></li>
<p>        boolean <span style="color: blue; font-weight: bold;">hasOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">arg</span> );
</p></li>
<p>        if( !<span style="color: blue; font-weight: bold;">hasOption</span> ) {
            throw new <span style="color: red; font-weight: bold;">UnrecognizedOptionException</span>("Unrecognized option: " + <span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        else {
            <span style="color: blue; font-weight: bold;">opt</span> = (Option) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arg</span> );
</p></li>
<p>        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
</p></li>
<p>        if ( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> ) != null ) {
            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = ( OptionGroup ) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> );
            if( <span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
                <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( <span style="color: blue; font-weight: bold;">group</span> );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">setSelected</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
            <span style="color: green; font-weight: bold;">processArgs</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">iter</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Util.java:</strong><br>
<p>    static String <span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( String <span style="color: blue; font-weight: bold;">str</span> ) {
        if( <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>( 2, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>() );
</p></li>
<p>        else if ( <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>( 1, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>() );
</p></li>
</li>
</ul>
<h2>Commit: aae50c5</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private List <span style="color: blue; font-weight: bold;">args</span>    = new <span style="color: red; font-weight: bold;">LinkedList</span>();
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** the recognised options/arguments */</span>
    private Map  <span style="color: blue; font-weight: bold;">options</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    <span style="color: green; font-weight: bold;">CommandLine</span>() {
    }
</p></li>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">value</span>) {
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( new <span style="color: red; font-weight: bold;">Character</span>(<span style="color: blue; font-weight: bold;">opt</span>), <span style="color: blue; font-weight: bold;">value</span> );
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** multipleArgs specifies whether this option has multiple argument values */</span>
    private boolean    <span style="color: blue; font-weight: bold;">multipleArgs</span> = false;   
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** ?? **/</span>
    private ArrayList  <span style="color: blue; font-weight: bold;">values</span>       = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, false, false );
    }

    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt character representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                  boolean <span style="color: blue; font-weight: bold;">required</span> ) {
        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, false );
    }

    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt character representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     * @param multipleArgs specifies whether the option has multiple argument 
     * values
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) {
        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>, null );
    }
    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span> ) {
        this.<span style="color: blue; font-weight: bold;">opt</span>          = new <span style="color: red; font-weight: bold;">Character</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        this.<span style="color: blue; font-weight: bold;">longOpt</span>      = <span style="color: blue; font-weight: bold;">longOpt</span>;
        this.<span style="color: blue; font-weight: bold;">hasArg</span>       = <span style="color: blue; font-weight: bold;">hasArg</span>;
        this.<span style="color: blue; font-weight: bold;">description</span>  = <span style="color: blue; font-weight: bold;">description</span>;
        this.<span style="color: blue; font-weight: bold;">required</span>     = <span style="color: blue; font-weight: bold;">required</span>;
        this.<span style="color: blue; font-weight: bold;">multipleArgs</span> = <span style="color: blue; font-weight: bold;">multipleArgs</span>;
        this.<span style="color: blue; font-weight: bold;">type</span>         = <span style="color: blue; font-weight: bold;">type</span>;
    }
</p></li>
<p>    public String <span style="color: green; font-weight: bold;">getLongOpt</span>() {
        return this.<span style="color: blue; font-weight: bold;">longOpt</span>;
    }
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasLongOpt</span>() {
        return ( this.<span style="color: blue; font-weight: bold;">longOpt</span> != null );
    }
</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">hasArg</span>() {
        return this.<span style="color: blue; font-weight: bold;">hasArg</span>;
    }
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option requires an argument</p>
      *
      * @return boolean flag indicating if an argument is required
      */</span>
     public boolean <span style="color: green; font-weight: bold;">isRequired</span>() {
         return this.<span style="color: blue; font-weight: bold;">required</span>;
     }

     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option can take multiple values</p>
      *
      * @return boolean flag indicating if multiple values are allowed
      */</span>
     public boolean <span style="color: green; font-weight: bold;">hasMultipleArgs</span>() {
         return this.<span style="color: blue; font-weight: bold;">multipleArgs</span>;
     }

    <span style="color: purple; font-weight: bold;">/** <p>Dump state, suitable for debugging.</p>
     *
     * @return Stringified form of this object
     */</span>
    public String <span style="color: green; font-weight: bold;">toString</span>() {
        StringBuffer <span style="color: blue; font-weight: bold;">buf</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>().<span style="color: green; font-weight: bold;">append</span>("[ option: ");
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">opt</span> );
        
        if ( this.<span style="color: blue; font-weight: bold;">longOpt</span> != null ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ")
            .<span style="color: green; font-weight: bold;">append</span>(this.<span style="color: blue; font-weight: bold;">longOpt</span>);
        }
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ");
        
        if ( <span style="color: blue; font-weight: bold;">hasArg</span> ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>( "+ARG" );
        }
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" :: ")
        .<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">description</span> );
        
        if ( this.<span style="color: blue; font-weight: bold;">type</span> != null ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" :: ")
            .<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">type</span> );
        }

        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ]");
        return <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">toString</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private Map  <span style="color: blue; font-weight: bold;">shortOpts</span>    = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map  <span style="color: blue; font-weight: bold;">longOpts</span>     = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map  <span style="color: blue; font-weight: bold;">requiredOpts</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    private Map <span style="color: blue; font-weight: bold;">optionGroups</span>  = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Options</span>() {        
    }
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, false );        
        return this;
    }

    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>) );        
        return this;
    }

    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @param multipleArgs specifies if this option can accept multiple argument values
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>) );        
        return this;
    }

    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>, <span style="color: blue; font-weight: bold;">type</span>) );        
        return this;
    }
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)  {
        String <span style="color: blue; font-weight: bold;">shortOptStr</span> = "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
        
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasLongOpt</span>() ) {
            <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "--" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
        }
        
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
        }

        <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
        
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
    }
</p></li>
<p>    public List <span style="color: green; font-weight: bold;">getOptions</span>() {
        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableList</span>(<span style="color: blue; font-weight: bold;">options</span>);
    }
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>) {
        return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: b0e1b80</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private Set <span style="color: blue; font-weight: bold;">options</span> = new <span style="color: red; font-weight: bold;">HashSet</span>();
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public int <span style="color: green; font-weight: bold;">hashCode</span>()
    {
        int <span style="color: blue; font-weight: bold;">result</span>;
        <span style="color: blue; font-weight: bold;">result</span> = ( <span style="color: blue; font-weight: bold;">opt</span> != null ? <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hashCode</span>() : 0 );
        <span style="color: blue; font-weight: bold;">result</span> = 31 * <span style="color: blue; font-weight: bold;">result</span> + ( <span style="color: blue; font-weight: bold;">longOpt</span> != null ? <span style="color: blue; font-weight: bold;">longOpt</span>.<span style="color: green; font-weight: bold;">hashCode</span>() : 0 );
        return <span style="color: blue; font-weight: bold;">result</span>;
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private Map <span style="color: blue; font-weight: bold;">options</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();

    <span style="color: purple; font-weight: bold;">/** the option name map */</span>
    private Map <span style="color: blue; font-weight: bold;">names</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>        <span style="color: blue; font-weight: bold;">hashcodeMap</span>.<span style="color: green; font-weight: bold;">put</span>(new <span style="color: red; font-weight: bold;">Integer</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hashCode</span>()), <span style="color: blue; font-weight: bold;">opt</span>);

        String <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>();

        if (<span style="color: blue; font-weight: bold;">key</span> == null)
        {
            <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>();
        }
        else
        {
            <span style="color: blue; font-weight: bold;">names</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">key</span>);
        }

        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
</ul>
<h2>Commit: 0c281fb</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** the option name map */</span>
    private Map <span style="color: blue; font-weight: bold;">names</span>   = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>        else {
            <span style="color: blue; font-weight: bold;">names</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">key</span> );
        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: f9df518</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    private Map <span style="color: blue; font-weight: bold;">options</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();

</p></li>
<p>        <span style="color: blue; font-weight: bold;">hashcodeMap</span>.<span style="color: green; font-weight: bold;">put</span>( new <span style="color: red; font-weight: bold;">Integer</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hashCode</span>() ), <span style="color: blue; font-weight: bold;">opt</span> );

        if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() ) != null ) {
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() )).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
        else {
            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), new <span style="color: red; font-weight: bold;">java.util.ArrayList</span>() );
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() ) ).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    private Map <span style="color: blue; font-weight: bold;">requiredOptions</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    public Map <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
        return <span style="color: blue; font-weight: bold;">requiredOpts</span>;
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) {

        Option <span style="color: blue; font-weight: bold;">option</span> = null;

        <span style="color: purple; font-weight: bold;">// short option</span>
        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// long option</span>
        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// a just-in-case</span>
        else {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }

        return (<span style="color: blue; font-weight: bold;">option</span> == null) ? null : (Option)<span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">clone</span>();
    }
</p></li>
<p>    boolean <span style="color: green; font-weight: bold;">hasOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>) {
</p></li>
<p>            return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            return <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** the recognised options */</span>
    private Map  <span style="color: blue; font-weight: bold;">options</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    private Collection <span style="color: blue; font-weight: bold;">requiredOptions</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    public Collection <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
        return <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">values</span>();
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>) {
</p></li>
<p>            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            return (Option) <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h2>Commit: 16b91ad</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** the recognised options */</span>
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private int    <span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">UNINITIALIZED</span>;   

    <span style="color: purple; font-weight: bold;">/** number of arguments constants */</span>
    public final static int <span style="color: blue; font-weight: bold;">UNINITIALIZED</span> = -1;
    public final static int <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span> = -2;
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">description</span>) 
    throws IllegalArgumentException
    {
        this(<span style="color: blue; font-weight: bold;">opt</span>, null, false, <span style="color: blue; font-weight: bold;">description</span>);
    }
</p></li>
<p>
        if( <span style="color: blue; font-weight: bold;">hasArg</span> ) {
            this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = 1;
        }
</p></li>
<p>        return this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> > 0 || <span style="color: blue; font-weight: bold;">numberOfArgs</span> == <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span>;
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option can take many values</p>
</span></p></li>
<p>     public boolean <span style="color: green; font-weight: bold;">hasArgs</span>() {
         return ( this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> > 1 || this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> == <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span> );
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Sets the number of argument values this Option can take.</p>
      *
      * @param num the number of argument values
      */</span>
     public void <span style="color: green; font-weight: bold;">setArgs</span>( int <span style="color: blue; font-weight: bold;">num</span> ) {
         this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">num</span>;
     }

     <span style="color: purple; font-weight: bold;">/** <p>Returns the number of argument values this Option can take.</p>
      *
      * @return num the number of argument values
      */</span>
     public int <span style="color: green; font-weight: bold;">getArgs</span>( ) {
         return this.<span style="color: blue; font-weight: bold;">numberOfArgs</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    private static int <span style="color: blue; font-weight: bold;">numberOfArgs</span> = Option.UNINITIALIZED;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">numberOfArgs</span> = Option.UNINITIALIZED;
</p></li>
<p>        instance.numberOfArgs = 1;
</p></li>
<p>        Option <span style="color: blue; font-weight: bold;">option</span> = new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">description</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgs</span>( <span style="color: blue; font-weight: bold;">numberOfArgs</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** the recognised options/arguments */</span>
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** multipleArgs specifies whether this option has multiple argument values */</span>
    private boolean    <span style="color: blue; font-weight: bold;">multipleArgs</span> = false;   
</p></li>
<p>        return this.<span style="color: blue; font-weight: bold;">hasArg</span>;
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option can take multiple values</p>
</span></p></li>
<p>     public boolean <span style="color: green; font-weight: bold;">hasMultipleArgs</span>() {
         return this.<span style="color: blue; font-weight: bold;">multipleArgs</span>;
</p></li>
<p>     public void <span style="color: green; font-weight: bold;">setMultipleArgs</span>( boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) {
         this.<span style="color: blue; font-weight: bold;">multipleArgs</span> = <span style="color: blue; font-weight: bold;">multipleArgs</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** has multiple arguments */</span>
    private static boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">arg</span> = false;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">multipleArgs</span> = false;
</p></li>
<p>        instance.arg = true;
</p></li>
<p>        Option <span style="color: blue; font-weight: bold;">option</span> = new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">arg</span>, <span style="color: blue; font-weight: bold;">description</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setMultipleArgs</span>( <span style="color: blue; font-weight: bold;">multipleArgs</span> );
</p></li>
</li>
</ul>
<h2>Commit: a8a8ec0</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        <span style="color: purple; font-weight: bold;">// nothing to do</span>
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: purple; font-weight: bold;">// hide the constructor</span>
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withLongOpt</span>(String <span style="color: blue; font-weight: bold;">newLongopt</span>)
</p></li>
<p>        OptionBuilder.longopt = <span style="color: blue; font-weight: bold;">newLongopt</span>;
</p></li>
<p>        OptionBuilder.numberOfArgs = 1;
</p></li>
<p>        OptionBuilder.required = true;
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withDescription</span>(String <span style="color: blue; font-weight: bold;">newDescription</span>)
</p></li>
<p>        OptionBuilder.description = <span style="color: blue; font-weight: bold;">newDescription</span>;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">OptionBuilder</span>.<span style="color: green; font-weight: bold;">reset</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>        
        <span style="color: purple; font-weight: bold;">// get the option represented by arg</span>
        final Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withLongOpt</span>(String <span style="color: blue; font-weight: bold;">longopt</span>)
</p></li>
<p>        instance.longopt = <span style="color: blue; font-weight: bold;">longopt</span>;
</p></li>
<p>        instance.numberOfArgs = 1;
</p></li>
<p>        instance.required = true;
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withDescription</span>(String <span style="color: blue; font-weight: bold;">description</span>)
</p></li>
<p>        instance.description = <span style="color: blue; font-weight: bold;">description</span>;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">instance</span>.<span style="color: green; font-weight: bold;">reset</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>        <span style="color: purple; font-weight: bold;">// get the option represented by arg</span>
        Option <span style="color: blue; font-weight: bold;">opt</span> = null;

</p></li>
<p>        else
        {
            <span style="color: blue; font-weight: bold;">opt</span> = (Option) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
        }
</p></li>
<p>            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = (OptionGroup) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
</li>
</ul>
<h2>Commit: 0f52eff</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() != null ) {
            System.out.<span style="color: green; font-weight: bold;">println</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() + "=" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> );
        }

</p></li>
</li>
</ul>
<h2>Commit: 347bbeb</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>();
        if( <span style="color: blue; font-weight: bold;">key</span> == null ) {
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() != null ) {
            System.out.<span style="color: green; font-weight: bold;">println</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() + "=" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> );
</p></li>
<p>
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">OptionValidator</span>.<span style="color: green; font-weight: bold;">validateOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    String <span style="color: green; font-weight: bold;">getKey</span>() {
        <span style="color: purple; font-weight: bold;">// if 'opt' is null, then it is a 'long' option</span>
        if( <span style="color: blue; font-weight: bold;">opt</span> == null ) {
            return this.<span style="color: blue; font-weight: bold;">longOpt</span>;
        }
        return this.<span style="color: blue; font-weight: bold;">opt</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">clearValues</span>() {
        this.<span style="color: blue; font-weight: bold;">values</span>.<span style="color: green; font-weight: bold;">clear</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionValidator.java:</strong><br>
<p>    static void <span style="color: green; font-weight: bold;">validateOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) 
    throws IllegalArgumentException
    {
        <span style="color: purple; font-weight: bold;">// check that opt is not NULL</span>
        if( <span style="color: blue; font-weight: bold;">opt</span> == null ) {
            return;
        }
        <span style="color: purple; font-weight: bold;">// handle the single character opt</span>
        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            char <span style="color: blue; font-weight: bold;">ch</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">charAt</span>( 0 );
            if ( !<span style="color: green; font-weight: bold;">isValidOpt</span>( <span style="color: blue; font-weight: bold;">ch</span> ) ) {
                throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>( "illegal option value '" 
                                                    + <span style="color: blue; font-weight: bold;">ch</span> + "'" );
            }
        }
        <span style="color: purple; font-weight: bold;">// handle the multi character opt</span>
        else {
            char[] <span style="color: blue; font-weight: bold;">chars</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">toCharArray</span>();
            for( int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < chars.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
                if( !<span style="color: green; font-weight: bold;">isValidChar</span>( <span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
                    throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>( "opt contains illegal character value '" + <span style="color: blue; font-weight: bold;">chars</span>[<span style="color: blue; font-weight: bold;">i</span>] + "'" );
                }
            }
        }
    }
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidOpt</span>( char <span style="color: blue; font-weight: bold;">c</span> ) {
        return ( <span style="color: green; font-weight: bold;">isValidChar</span>( <span style="color: blue; font-weight: bold;">c</span> ) || <span style="color: blue; font-weight: bold;">c</span> == ' ' || <span style="color: blue; font-weight: bold;">c</span> == '?' || <span style="color: blue; font-weight: bold;">c</span> == '@' );
    }
</p></li>
<p>    private static boolean <span style="color: green; font-weight: bold;">isValidChar</span>( char <span style="color: blue; font-weight: bold;">c</span> ) {
        return <span style="color: blue; font-weight: bold;">Character</span>.<span style="color: green; font-weight: bold;">isJavaIdentifierPart</span>( <span style="color: blue; font-weight: bold;">c</span> );
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">shortOpt</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> ) ) {
            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return (Option) <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">Util</span>.<span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> ) || <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, 
                              String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, null, false );
    }
</p></li>
<p>                              Properties <span style="color: blue; font-weight: bold;">properties</span>,
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">arguments</span> == null ) {
            <span style="color: blue; font-weight: bold;">arguments</span> = new String[0];
        }

</p></li>
<p>        <span style="color: green; font-weight: bold;">processProperties</span>( <span style="color: blue; font-weight: bold;">properties</span> );
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processProperties</span>( Properties <span style="color: blue; font-weight: bold;">properties</span> ) {
        if( <span style="color: blue; font-weight: bold;">properties</span> == null ) {
            return;
        }

        for( Enumeration <span style="color: blue; font-weight: bold;">e</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">propertyNames</span>(); <span style="color: blue; font-weight: bold;">e</span>.<span style="color: green; font-weight: bold;">hasMoreElements</span>(); ) {
            String <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">e</span>.<span style="color: green; font-weight: bold;">nextElement</span>().<span style="color: green; font-weight: bold;">toString</span>();
            if( !<span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">option</span> ) ) {
                Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">option</span> );
                if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() == null || <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> == 0 ) {
                    <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>( <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">getProperty</span>( <span style="color: blue; font-weight: bold;">option</span> ) );
                }
                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
            }
        }
    }
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Util.java:</strong><br>
<p>    static String <span style="color: green; font-weight: bold;">stripLeadingHyphens</span>( String <span style="color: blue; font-weight: bold;">str</span> ) {
        if( <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>( 2, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>() );
        }
        else if ( <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
            return <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">substring</span>( 1, <span style="color: blue; font-weight: bold;">str</span>.<span style="color: green; font-weight: bold;">length</span>() );
        }
        return <span style="color: blue; font-weight: bold;">str</span>;
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
        if( " ".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">key</span>) ) {
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> ) != null ) {
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> )).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
        else {
            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, new <span style="color: red; font-weight: bold;">java.util.ArrayList</span>() );
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> ) ).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>        <span style="color: green; font-weight: bold;">validateOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** 
     * <p>Dump state, suitable for debugging.</p>
     *
     * @return Stringified form of this object
     */</span>
    public String <span style="color: green; font-weight: bold;">toString</span>() {
        StringBuffer <span style="color: blue; font-weight: bold;">buf</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>().<span style="color: green; font-weight: bold;">append</span>("[ option: ");
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">opt</span> );
        
        if ( this.<span style="color: blue; font-weight: bold;">longOpt</span> != null ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ")
            .<span style="color: green; font-weight: bold;">append</span>(this.<span style="color: blue; font-weight: bold;">longOpt</span>);
        }
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ");
        
        if ( <span style="color: blue; font-weight: bold;">hasArg</span> ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>( "+ARG" );
        }
        
        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" :: ")
        .<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">description</span> );
        
        if ( this.<span style="color: blue; font-weight: bold;">type</span> != null ) {
            <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" :: ")
            .<span style="color: green; font-weight: bold;">append</span>( this.<span style="color: blue; font-weight: bold;">type</span> );
        }

        <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">append</span>(" ]");
        return <span style="color: blue; font-weight: bold;">buf</span>.<span style="color: green; font-weight: bold;">toString</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">shortOpt</span> = "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "--" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">shortOpt</span> );
</p></li>
<p>        Option <span style="color: blue; font-weight: bold;">option</span> = null;
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// short option</span>
        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// long option</span>
        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// a just-in-case</span>
        else {
            <span style="color: blue; font-weight: bold;">option</span> = (Option)<span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }

        return (<span style="color: blue; font-weight: bold;">option</span> == null) ? null : (Option)<span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">clone</span>();
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// short option</span>
        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// long option</span>
        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            return <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// a just-in-case</span>
        else {
            return <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">containsKey</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
</p></li>
<p>        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, false );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
</p></li>
</li>
</ul>
<h2>Commit: 872f1d5</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">optionList</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">keyList</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">key</span> );
</p></li>
</li>
</ul>
<h2>Commit: c08f738</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">addOption</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
</p></li>
<p>        <span style="color: blue; font-weight: bold;">optionList</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">keyList</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">key</span> );

</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">setOpt</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h2>Commit: 04490af</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
        if( " ".<span style="color: green; font-weight: bold;">equals</span>(<span style="color: blue; font-weight: bold;">key</span>) ) {
            <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>();
        }
        if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> ) != null ) {
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> )).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, new <span style="color: red; font-weight: bold;">java.util.ArrayList</span>() );
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">key</span> ) ).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private int <span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">UNINITIALIZED</span>;   
</p></li>
<p>    private ArrayList <span style="color: blue; font-weight: bold;">values</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>( String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">description</span> ) 
</p></li>
<p>        this( <span style="color: blue; font-weight: bold;">opt</span>, null, false, <span style="color: blue; font-weight: bold;">description</span> );
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>( String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span> ) 
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// ensure that the option is valid</span>
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// if hasArg is set then the number of arguments is 1</span>
</p></li>
<p>
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** 
      * <p>Query to see if this Option requires an argument</p>
</span></p></li>
<p>     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets whether this Option is mandatory.</p>
      *
      * @param required specifies whether this Option is mandatory
      */</span>
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** 
      * <p>Query to see if this Option can take many values</p>
</span></p></li>
<p>     <span style="color: purple; font-weight: bold;">/** 
      * <p>Sets the number of argument values this Option can take.</p>
</span></p></li>
<p>     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets the value separator.  For example if the argument value
      * was a Java property, the value separator would be '='.</p>
      *
      * @param sep The value separator.
      */</span>
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/**
      * <p>Returns the value separator character.</p>
      *
      * @return the value separator character.
      */</span>
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** 
      * <p>Returns the number of argument values this Option can take.</p>
</span></p></li>
<p>    <span style="color: purple; font-weight: bold;">/** 
     * <p>Dump state, suitable for debugging.</p>
</span></p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>        if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() ) != null ) {
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() )).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>            <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), new <span style="color: red; font-weight: bold;">java.util.ArrayList</span>() );
            ((java.util.List)<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() ) ).<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private int    <span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">UNINITIALIZED</span>;   

    <span style="color: purple; font-weight: bold;">/** number of arguments constants */</span>
    public final static int <span style="color: blue; font-weight: bold;">UNINITIALIZED</span> = -1;
    public final static int <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span> = -2;
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** ?? **/</span>
    private ArrayList  <span style="color: blue; font-weight: bold;">values</span>       = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">description</span>) 
</p></li>
<p>        this(<span style="color: blue; font-weight: bold;">opt</span>, null, false, <span style="color: blue; font-weight: bold;">description</span>);
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) 
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option requires an argument</p>
</span></p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Query to see if this Option can take many values</p>
</span></p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Sets the number of argument values this Option can take.</p>
</span></p></li>
<p>     private char <span style="color: blue; font-weight: bold;">valuesep</span>;

</p></li>
<p>     <span style="color: purple; font-weight: bold;">/** <p>Returns the number of argument values this Option can take.</p>
</span></p></li>
<p>    <span style="color: purple; font-weight: bold;">/** <p>Dump state, suitable for debugging.</p>
</span></p></li>
</li>
</ul>
<h2>Commit: 5aa47b7</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">value</span>) {
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">value</span> );
</p></li>
</li>
</ul>
<h2>Commit: 4cca25d</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">value</span>) {
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">value</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
</p></li>
<p><span style="color: purple; font-weight: bold;">     * @param opt short representation of the option
</span></p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p><span style="color: purple; font-weight: bold;">     * @param opt short representation of the option
</span></p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
</p></li>
<p>
    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt short representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     * @param multipleArgs specifies whether the option has multiple argument 
     * values
     * @param type specifies the type of the option
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">opt</span>          = <span style="color: blue; font-weight: bold;">opt</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">parserImpl</span> = <span style="color: blue; font-weight: bold;">System</span>.<span style="color: green; font-weight: bold;">getProperty</span>( "org.apache.commons.cli.parser" );
        try {
            <span style="color: blue; font-weight: bold;">parser</span> = (CommandLineParser)<span style="color: blue; font-weight: bold;">Class</span>.<span style="color: green; font-weight: bold;">forName</span>( <span style="color: blue; font-weight: bold;">parserImpl</span> ).<span style="color: green; font-weight: bold;">newInstance</span>();
        }
        catch( Exception <span style="color: blue; font-weight: bold;">exp</span> ) {
            <span style="color: purple; font-weight: bold;">// could not create according to parserImpl so default to</span>
            <span style="color: purple; font-weight: bold;">// PosixParser</span>
            try {
                <span style="color: blue; font-weight: bold;">parser</span> = (CommandLineParser)<span style="color: blue; font-weight: bold;">Class</span>.<span style="color: green; font-weight: bold;">forName</span>( <span style="color: blue; font-weight: bold;">defaultParserImpl</span> ).<span style="color: green; font-weight: bold;">newInstance</span>();
            }
            catch( Exception <span style="color: blue; font-weight: bold;">exp2</span> ) {
                <span style="color: purple; font-weight: bold;">// this will not happen ?</span>
            }
        }
        System.out.<span style="color: green; font-weight: bold;">println</span>( <span style="color: blue; font-weight: bold;">parser</span>.<span style="color: green; font-weight: bold;">getClass</span>().<span style="color: green; font-weight: bold;">getName</span>() );
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @param multipleArgs specifies if this option can accept multiple argument values
     * @param type specifies the type for the value of the option
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>) {
        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
            return (Option) <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/PosixParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">PosixParser</span> implements <span style="color: red; font-weight: bold;">CommandLineParser</span> {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/CommandLine.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">setOpt</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">value</span>) {
        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">put</span>( new <span style="color: red; font-weight: bold;">Character</span>(<span style="color: blue; font-weight: bold;">opt</span>), <span style="color: blue; font-weight: bold;">value</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
</p></li>
<p><span style="color: purple; font-weight: bold;">     * @param opt character representation of the option
</span></p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p><span style="color: purple; font-weight: bold;">     * @param opt character representation of the option
</span></p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
</p></li>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">opt</span>          = new <span style="color: red; font-weight: bold;">Character</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
</p></li>
<p>    public Option <span style="color: green; font-weight: bold;">getOption</span>(char <span style="color: blue; font-weight: bold;">opt</span>) {
</p></li>
</li>
</ul>
<h2>Commit: dde6993</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">GnuParser</span> extends <span style="color: red; font-weight: bold;">Parser</span> {
</p></li>
<p>    private ArrayList <span style="color: blue; font-weight: bold;">tokens</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">init</span>() {
        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">clear</span>();
</p></li>
<p>    protected String[] <span style="color: green; font-weight: bold;">flatten</span>( Options <span style="color: blue; font-weight: bold;">options</span>, 
                                String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
                                boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> )
</p></li>
<p>        <span style="color: green; font-weight: bold;">init</span>();
        for( int <span style="color: blue; font-weight: bold;">i</span> = 0; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
            Option <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
            try {
                Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                if( <span style="color: blue; font-weight: bold;">specialOption</span> != null && <span style="color: blue; font-weight: bold;">option</span> == null ) {
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
</p></li>
<p>                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>            catch( IndexOutOfBoundsException <span style="color: blue; font-weight: bold;">exp</span> ) {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>        return (String[])<span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">toArray</span>( new String[] {} );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>public abstract class <span style="color: red; font-weight: bold;">Parser</span> implements <span style="color: red; font-weight: bold;">CommandLineParser</span> {
</p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, String[] <span style="color: blue; font-weight: bold;">args</span> ) 
    throws ParseException 
    {
        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">args</span>, false );
</p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, 
                              String[] <span style="color: blue; font-weight: bold;">args</span>, 
                              boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) 
    throws ParseException 
    {
        <span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">opts</span>;
        <span style="color: blue; font-weight: bold;">requiredOptions</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getRequiredOptions</span>();
        String[] <span style="color: blue; font-weight: bold;">tokens</span> = <span style="color: green; font-weight: bold;">flatten</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">args</span>, <span style="color: blue; font-weight: bold;">stopAtNonOption</span> );
        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: blue; font-weight: bold;">tokens</span> );
        ListIterator <span style="color: blue; font-weight: bold;">iterator</span> = <span style="color: blue; font-weight: bold;">tokenList</span>.<span style="color: green; font-weight: bold;">listIterator</span>();
        <span style="color: blue; font-weight: bold;">cmd</span> = new <span style="color: red; font-weight: bold;">CommandLine</span>();
        boolean <span style="color: blue; font-weight: bold;">eatTheRest</span> = false;
        while( <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            String <span style="color: blue; font-weight: bold;">t</span> = (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();
            if( "--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
                <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
            }
            else if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
                    <span style="color: purple; font-weight: bold;">// not an option, so just drop it on the argument list</span>
                    if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
                    }
                }
                else {
                    <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">t</span>, <span style="color: blue; font-weight: bold;">iterator</span> );
                }
            }
            else {
                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
                if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                    <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                }
            }

            if( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                while( <span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>() );
                }
            }
        }
        <span style="color: green; font-weight: bold;">checkRequiredOptions</span>();
        return <span style="color: blue; font-weight: bold;">cmd</span>;
    }
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">checkRequiredOptions</span>( ) 
    throws ParseException {

        <span style="color: purple; font-weight: bold;">// if there are required options that have not been</span>
        <span style="color: purple; font-weight: bold;">// processsed</span>
        if( <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() > 0 ) {
            Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">values</span>().<span style="color: green; font-weight: bold;">iterator</span>();
            StringBuffer <span style="color: blue; font-weight: bold;">buff</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>();

            <span style="color: purple; font-weight: bold;">// loop through the required options</span>
            while( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                Option <span style="color: blue; font-weight: bold;">missing</span> = (Option)<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>();
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( "-" );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">missing</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( " " );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">missing</span>.<span style="color: green; font-weight: bold;">getDescription</span>() );
            }

            <span style="color: purple; font-weight: bold;">// throw the MissingOptionException</span>
            throw new <span style="color: red; font-weight: bold;">MissingOptionException</span>( <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">toString</span>() );
        }
    }
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processOption</span>( String <span style="color: blue; font-weight: bold;">arg</span>, ListIterator <span style="color: blue; font-weight: bold;">iter</span> ) 
    throws ParseException
    {
        <span style="color: purple; font-weight: bold;">// get the option represented by arg</span>
        Option <span style="color: blue; font-weight: bold;">opt</span> = null;

        boolean <span style="color: blue; font-weight: bold;">hasOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">arg</span> );

        <span style="color: purple; font-weight: bold;">// if there is no option throw an UnrecognisedOptionException</span>
        if( !<span style="color: blue; font-weight: bold;">hasOption</span> ) {
            throw new <span style="color: red; font-weight: bold;">UnrecognizedOptionException</span>("Unrecognized option: " + <span style="color: blue; font-weight: bold;">arg</span>);
        }
        else {
            <span style="color: blue; font-weight: bold;">opt</span> = (Option) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arg</span> );
        }

        <span style="color: purple; font-weight: bold;">// if the option is a required option remove the option from</span>
        <span style="color: purple; font-weight: bold;">// the requiredOptions list</span>
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
        }

        <span style="color: purple; font-weight: bold;">// if the option is in an OptionGroup make that option the selected</span>
        <span style="color: purple; font-weight: bold;">// option of the group</span>
        if ( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> ) != null ) {
            ( (OptionGroup)( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> ) ) ).<span style="color: green; font-weight: bold;">setSelected</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }

        <span style="color: purple; font-weight: bold;">// if the option takes an argument value</span>
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
            <span style="color: green; font-weight: bold;">processArgs</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">iter</span> );
        }

        <span style="color: purple; font-weight: bold;">// set the option on the command line</span>
        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">setOpt</span>( <span style="color: blue; font-weight: bold;">opt</span> );
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/PosixParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">PosixParser</span> extends <span style="color: red; font-weight: bold;">Parser</span> {
</p></li>
<p>    private ArrayList <span style="color: blue; font-weight: bold;">tokens</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">GnuParser</span> implements <span style="color: red; font-weight: bold;">CommandLineParser</span> {

    <span style="color: purple; font-weight: bold;">/** current options instance */</span>
    private Options <span style="color: blue; font-weight: bold;">options</span>;

    <span style="color: purple; font-weight: bold;">/** convience member for the command line */</span>
    private CommandLine <span style="color: blue; font-weight: bold;">cmd</span>;
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** required options subset of options */</span>
    private Map <span style="color: blue; font-weight: bold;">requiredOptions</span>;
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/**
     * Parse the arguments according to the specified options.
     *
     * @param options the specified Options
     * @param arguments the command line arguments
     * @return the list of atomic option and value tokens
     * @throws ParseException if there are any problems encountered
     * while parsing the command line tokens.
     */</span>
    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
    throws ParseException
    {
        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, false );
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/**
     * Parse the arguments according to the specified options.
     *
     * @param opts the specified Options
     * @param arguments the command line arguments
     * @param stopAtNonOption specifies whether to continue parsing the
     * arguments if a non option is encountered.
     * @return the CommandLine
     * @throws ParseException if there are any problems encountered
     * while parsing the command line tokens.
     */</span>
    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span>, boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) 
    throws ParseException
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// set the member instances</span>
        <span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">opts</span>;
        <span style="color: blue; font-weight: bold;">cmd</span> = new <span style="color: red; font-weight: bold;">CommandLine</span>();
        <span style="color: blue; font-weight: bold;">requiredOptions</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getRequiredOptions</span>();

        ListIterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: blue; font-weight: bold;">arguments</span> ).<span style="color: green; font-weight: bold;">listIterator</span>();
        String <span style="color: blue; font-weight: bold;">token</span> = null;

        <span style="color: purple; font-weight: bold;">// flag to indicate whether the remainder of the tokens should</span>
        <span style="color: purple; font-weight: bold;">// be added to the other arguments list</span>
        boolean <span style="color: blue; font-weight: bold;">eatTheRest</span> = false;

        while ( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            <span style="color: blue; font-weight: bold;">token</span> = (String) <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>();
            if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">equals</span>("--") ) {
                <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
            }
            else if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">startsWith</span>("--") ) {
                <span style="color: purple; font-weight: bold;">//process the long-option</span>
                <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">token</span>, <span style="color: blue; font-weight: bold;">iter</span> );
            }
            else if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-") ) {
                if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">length</span>() == 1) {
                    <span style="color: purple; font-weight: bold;">// It's not really an option, so</span>
                    <span style="color: purple; font-weight: bold;">// just drop it on the list</span>
                    if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">token</span> );
                    }
</p></li>
<p>                    <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">token</span>, <span style="color: blue; font-weight: bold;">iter</span> );
</p></li>
<p>            else {
                <span style="color: purple; font-weight: bold;">// It's just a normal non-option arg,</span>
                <span style="color: purple; font-weight: bold;">// so dump it into the list of returned</span>
                <span style="color: purple; font-weight: bold;">// values.</span>

                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">token</span> );

                if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                    <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                }
            }

            if ( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                while ( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( (String)<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>() );
                }
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// see if all required options have been processed</span>
        <span style="color: green; font-weight: bold;">checkRequiredOptions</span>( );

        return <span style="color: blue; font-weight: bold;">cmd</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/PosixParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">PosixParser</span> implements <span style="color: red; font-weight: bold;">CommandLineParser</span> {
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** current options instance */</span>
</p></li>
</li>
</ul>
<h2>Commit: 66d0ae6</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** current options instance */</span>
    private Options <span style="color: blue; font-weight: bold;">options</span>;

    <span style="color: purple; font-weight: bold;">/** convience member for the command line */</span>
    private CommandLine <span style="color: blue; font-weight: bold;">cmd</span>;
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/** required options subset of options */</span>
    private Collection <span style="color: blue; font-weight: bold;">requiredOptions</span>;
</p></li>
<p><span style="color: purple; font-weight: bold;">     *
</span></p></li>
<p><span style="color: purple; font-weight: bold;">     * @throws ParseException if there are any problems encountered
     * while parsing the command line tokens.
</span></p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
    throws ParseException
    {
</p></li>
<p><span style="color: purple; font-weight: bold;">     *
     * @param opts the specified Options
</span></p></li>
<p><span style="color: purple; font-weight: bold;">     * @return the CommandLine
     * @throws ParseException if there are any problems encountered
     * while parsing the command line tokens.
</span></p></li>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span>, boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) 
    throws ParseException
    {
        <span style="color: purple; font-weight: bold;">// set the member instances</span>
        <span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">opts</span>;
        <span style="color: blue; font-weight: bold;">cmd</span> = new <span style="color: red; font-weight: bold;">CommandLine</span>();
        <span style="color: blue; font-weight: bold;">requiredOptions</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getRequiredOptions</span>();

        ListIterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: blue; font-weight: bold;">arguments</span> ).<span style="color: green; font-weight: bold;">listIterator</span>();
        String <span style="color: blue; font-weight: bold;">token</span> = null;
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// flag to indicate whether the remainder of the tokens should</span>
        <span style="color: purple; font-weight: bold;">// be added to the other arguments list</span>
</p></li>
<p>
        while ( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            <span style="color: blue; font-weight: bold;">token</span> = (String) <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>();

            if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">equals</span>("--") ) {
</p></li>
<p>            else if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">startsWith</span>("--") ) {
                <span style="color: purple; font-weight: bold;">//process the long-option</span>
                <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">token</span>, <span style="color: blue; font-weight: bold;">iter</span> );
</p></li>
<p>            else if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-") ) {
                if ( <span style="color: blue; font-weight: bold;">token</span>.<span style="color: green; font-weight: bold;">length</span>() == 1) {
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">token</span> );
</p></li>
<p>                    <span style="color: green; font-weight: bold;">processOption</span>( <span style="color: blue; font-weight: bold;">token</span>, <span style="color: blue; font-weight: bold;">iter</span> );
</p></li>
<p>
                <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">token</span> );

</p></li>
<p>
</p></li>
<p>                while ( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( (String)<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>() );
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// see if all required options have been processed</span>
        <span style="color: green; font-weight: bold;">checkRequiredOptions</span>( );

        return <span style="color: blue; font-weight: bold;">cmd</span>;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>
</p></li>
<p>    public Collection <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
        return <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">values</span>();
    }
</p></li>
<p>    public OptionGroup <span style="color: green; font-weight: bold;">getOptionGroup</span>( Option <span style="color: blue; font-weight: bold;">opt</span> ) {
        return (OptionGroup)<span style="color: blue; font-weight: bold;">optionGroups</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/PosixParser.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** current options instance */</span>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>    public List <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, List <span style="color: blue; font-weight: bold;">arguments</span> ) {
</p></li>
<p><span style="color: purple; font-weight: bold;">     * @param options the specified Options
</span></p></li>
<p><span style="color: purple; font-weight: bold;">     * @return the list of atomic option and value tokens
</span></p></li>
<p>    public List <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, List <span style="color: blue; font-weight: bold;">arguments</span>, boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
        List <span style="color: blue; font-weight: bold;">args</span> = new <span style="color: red; font-weight: bold;">LinkedList</span>();
</p></li>
<p>        Iterator <span style="color: blue; font-weight: bold;">argIter</span> = <span style="color: blue; font-weight: bold;">arguments</span>.<span style="color: green; font-weight: bold;">iterator</span>();
        String   <span style="color: blue; font-weight: bold;">eachArg</span> = null;
        
</p></li>
<p>        
        while ( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            <span style="color: blue; font-weight: bold;">eachArg</span> = (String) <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">next</span>();
            
            if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">equals</span>("--") ) {
                <span style="color: purple; font-weight: bold;">// Look for -- to indicate end-of-options, and</span>
                <span style="color: purple; font-weight: bold;">// just stuff it, along with everything past it</span>
                <span style="color: purple; font-weight: bold;">// into the returned list.</span>
                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
</p></li>
<p>            else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">startsWith</span>("--") ) {
                <span style="color: purple; font-weight: bold;">// It's a long-option, so doesn't need any</span>
                <span style="color: purple; font-weight: bold;">// bursting applied to it.</span>
                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
</p></li>
<p>            else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-") ) {
                
                if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() == 1) {
</p></li>
<p>                    
</p></li>
<p>                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
</p></li>
<p>                else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() == 2 ) {
                    <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                }
</p></li>
<p>                    String <span style="color: blue; font-weight: bold;">charOpt</span> = <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">substring</span>( 1, 2 );

                    if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">charOpt</span> ) != null
                        && <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">eachArg</span> ) == null )
                    {
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( "-" + <span style="color: blue; font-weight: bold;">charOpt</span> );
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">substring</span>( 2, <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() ) );
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                    }
</p></li>
<p>                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                
</p></li>
<p>            
</p></li>
<p>                while ( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">next</span>() );
</p></li>
<p>        
        return <span style="color: blue; font-weight: bold;">args</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">parserImpl</span> = <span style="color: blue; font-weight: bold;">System</span>.<span style="color: green; font-weight: bold;">getProperty</span>( "org.apache.commons.cli.parser" );
        try {
            <span style="color: blue; font-weight: bold;">parser</span> = (CommandLineParser)<span style="color: blue; font-weight: bold;">Class</span>.<span style="color: green; font-weight: bold;">forName</span>( <span style="color: blue; font-weight: bold;">parserImpl</span> ).<span style="color: green; font-weight: bold;">newInstance</span>();
        }
        catch( Exception <span style="color: blue; font-weight: bold;">exp</span> ) {
            <span style="color: purple; font-weight: bold;">// could not create according to parserImpl so default to</span>
            <span style="color: purple; font-weight: bold;">// PosixParser</span>
            try {
                <span style="color: blue; font-weight: bold;">parser</span> = (CommandLineParser)<span style="color: blue; font-weight: bold;">Class</span>.<span style="color: green; font-weight: bold;">forName</span>( <span style="color: blue; font-weight: bold;">defaultParserImpl</span> ).<span style="color: green; font-weight: bold;">newInstance</span>();
            }
            catch( Exception <span style="color: blue; font-weight: bold;">exp2</span> ) {
                <span style="color: purple; font-weight: bold;">// this will not happen ?</span>
            }
        }
</p></li>
</li>
</ul>
<h2>Commit: ead3757</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>public class <span style="color: red; font-weight: bold;">GnuParser</span> implements <span style="color: red; font-weight: bold;">CommandLineParser</span> {

    <span style="color: purple; font-weight: bold;">/**
     * Parse the arguments according to the specified options.
     * @param options the specified Options
     * @param arguments the command line arguments
     * @return the list of atomic option and value tokens
     */</span>
    public List <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, List <span style="color: blue; font-weight: bold;">arguments</span> ) {
        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, false );
    }
</p></li>
<p>    <span style="color: purple; font-weight: bold;">/**
     * Parse the arguments according to the specified options.
     * @param options the specified Options
     * @param arguments the command line arguments
     * @param stopAtNonOption specifies whether to continue parsing the
     * arguments if a non option is encountered.
     * @return the list of atomic option and value tokens
     */</span>
    public List <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, List <span style="color: blue; font-weight: bold;">arguments</span>, boolean <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
        List <span style="color: blue; font-weight: bold;">args</span> = new <span style="color: red; font-weight: bold;">LinkedList</span>();

        Iterator <span style="color: blue; font-weight: bold;">argIter</span> = <span style="color: blue; font-weight: bold;">arguments</span>.<span style="color: green; font-weight: bold;">iterator</span>();
        String   <span style="color: blue; font-weight: bold;">eachArg</span> = null;
        
        boolean <span style="color: blue; font-weight: bold;">eatTheRest</span> = false;
        
        while ( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
            <span style="color: blue; font-weight: bold;">eachArg</span> = (String) <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">next</span>();
            
            if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">equals</span>("--") ) {
                <span style="color: purple; font-weight: bold;">// Look for -- to indicate end-of-options, and</span>
                <span style="color: purple; font-weight: bold;">// just stuff it, along with everything past it</span>
                <span style="color: purple; font-weight: bold;">// into the returned list.</span>
                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
            }
            else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">startsWith</span>("--") ) {
                <span style="color: purple; font-weight: bold;">// It's a long-option, so doesn't need any</span>
                <span style="color: purple; font-weight: bold;">// bursting applied to it.</span>
                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
            }
            else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">startsWith</span>("-") ) {
                
                if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() == 1) {
                    <span style="color: purple; font-weight: bold;">// It's not really an option, so</span>
                    <span style="color: purple; font-weight: bold;">// just drop it on the list</span>
                    
                    if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                    }
                }
                else if ( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() == 2 ) {
                    <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                }
                else {
                    String <span style="color: blue; font-weight: bold;">charOpt</span> = <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">substring</span>( 1, 2 );

                    if( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">charOpt</span> ) != null
                        && <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">eachArg</span> ) == null )
                    {
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( "-" + <span style="color: blue; font-weight: bold;">charOpt</span> );
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">substring</span>( 2, <span style="color: blue; font-weight: bold;">eachArg</span>.<span style="color: green; font-weight: bold;">length</span>() ) );
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                    }
                }
            }
            else {
                <span style="color: purple; font-weight: bold;">// It's just a normal non-option arg,</span>
                <span style="color: purple; font-weight: bold;">// so dump it into the list of returned</span>
                <span style="color: purple; font-weight: bold;">// values.</span>
                
                <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">eachArg</span> );
                
                if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                    <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                }
            }
            
            if ( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                while ( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">hasNext</span>() ) {
                    <span style="color: blue; font-weight: bold;">args</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">argIter</span>.<span style="color: green; font-weight: bold;">next</span>() );
                }
            }
        }
        
        return <span style="color: blue; font-weight: bold;">args</span>;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: b599e12</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>                    <span style="color: purple; font-weight: bold;">// WARNING: Findbugs reports major problems with the following code. </span>
                    <span style="color: purple; font-weight: bold;">//          As option cannot be null, currentOption cannot and </span>
                    <span style="color: purple; font-weight: bold;">//          much of the code below is never going to be run.</span>

</p></li>
<p>        return (String[]) <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">toArray</span>(new String[tokens.<span style="color: green; font-weight: bold;">size</span>()]);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>        return (String[]) <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">toArray</span>(new String[] {  });
</p></li>
</li>
</ul>
<h2>Commit: fc0723b</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>        boolean <span style="color: blue; font-weight: bold;">eatTheRest</span> = false;
        Option <span style="color: blue; font-weight: bold;">currentOption</span> = null;

</p></li>
<p>            if( "--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
                <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
            }
            else if ( "-".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] ) ) {
                <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "-" );
            }
            else if( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                Option <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );

                <span style="color: purple; font-weight: bold;">// this is not an Option</span>
                if( <span style="color: blue; font-weight: bold;">option</span> == null ) {
                    <span style="color: purple; font-weight: bold;">// handle special properties Option</span>
                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    if( <span style="color: blue; font-weight: bold;">specialOption</span> != null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
                    }
                    else if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    }
</p></li>
<p>                    <span style="color: blue; font-weight: bold;">currentOption</span> = <span style="color: blue; font-weight: bold;">option</span>;
                    <span style="color: purple; font-weight: bold;">// special option</span>
                    Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    if( <span style="color: blue; font-weight: bold;">specialOption</span> != null && <span style="color: blue; font-weight: bold;">option</span> == null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
                    }
                    else if( <span style="color: blue; font-weight: bold;">currentOption</span> != null && <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
                        if( <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArg</span>() ) {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                            <span style="color: blue; font-weight: bold;">currentOption</span>= null;
                        }
                        else if ( <span style="color: blue; font-weight: bold;">currentOption</span>.<span style="color: green; font-weight: bold;">hasArgs</span>() ) {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                        }
                        else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                            <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                        }
                        else {
                            <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                        }
                    } 
                    else if (<span style="color: blue; font-weight: bold;">currentOption</span> != null ) {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    } 
                    else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( "--" );
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                    }
</p></li>
<p>            else {
</p></li>
<p>
            if( <span style="color: blue; font-weight: bold;">eatTheRest</span> ) {
                for( <span style="color: blue; font-weight: bold;">i</span>++; <span style="color: blue; font-weight: bold;">i</span> < arguments.length; <span style="color: blue; font-weight: bold;">i</span>++ ) {
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
                }
            }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
                    <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
                }
</p></li>
<p>                    String <span style="color: blue; font-weight: bold;">str</span> = (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>();
                    if( !"--".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">str</span> ) ) {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">str</span> );
                    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/GnuParser.java:</strong><br>
<p>            Option <span style="color: blue; font-weight: bold;">option</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
            try {
                Option <span style="color: blue; font-weight: bold;">specialOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                if( <span style="color: blue; font-weight: bold;">specialOption</span> != null && <span style="color: blue; font-weight: bold;">option</span> == null ) {
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(0,2) );
                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>].<span style="color: green; font-weight: bold;">substring</span>(2) );
</p></li>
<p>                    <span style="color: blue; font-weight: bold;">tokens</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">arguments</span>[<span style="color: blue; font-weight: bold;">i</span>] );
</p></li>
<p>            catch( IndexOutOfBoundsException <span style="color: blue; font-weight: bold;">exp</span> ) {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( (String)<span style="color: blue; font-weight: bold;">iterator</span>.<span style="color: green; font-weight: bold;">next</span>() );
</p></li>
</li>
</ul>
<h2>Commit: beb276c</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private String <span style="color: blue; font-weight: bold;">argName</span> = "arg";
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">argName</span> = "arg";
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private String <span style="color: blue; font-weight: bold;">argName</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">argName</span> = null;
</p></li>
</li>
</ul>
<h2>Commit: 62670f5</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    private String <span style="color: blue; font-weight: bold;">argName</span>;
</p></li>
<p>     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets the display name for the argument value.</p>
      *
      * @param argName the display name for the argument value.
      */</span>
     public void <span style="color: green; font-weight: bold;">setArgName</span>( String <span style="color: blue; font-weight: bold;">argName</span> ) {
         this.<span style="color: blue; font-weight: bold;">argName</span> = <span style="color: blue; font-weight: bold;">argName</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Gets the display name for the argument value.</p>
      *
      * @return the display name for the argument value.
      */</span>
     public String <span style="color: green; font-weight: bold;">getArgName</span>() {
         return this.<span style="color: blue; font-weight: bold;">argName</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Returns whether the display name for the argument value
      * has been set.</p>
      *
      * @return if the display name for the argument value has been
      * set.
      */</span>
     public boolean <span style="color: green; font-weight: bold;">hasArgName</span>() {
         return (this.<span style="color: blue; font-weight: bold;">argName</span> != null || this.<span style="color: blue; font-weight: bold;">argName</span>.<span style="color: green; font-weight: bold;">length</span>() > 0 );
     }

</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">argName</span> = null;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setArgName</span>( <span style="color: blue; font-weight: bold;">argName</span> );
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/**
     * <p>Returns the Options for use by the HelpFormatter.</p>
     *
     * @return the List of Options
     */</span>
    List <span style="color: green; font-weight: bold;">helpOptions</span>() {
        return new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 1b0a32d</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>        this.<span style="color: blue; font-weight: bold;">hasArg</span> = <span style="color: blue; font-weight: bold;">hasArg</span>;
</p></li>
</li>
</ul>
<h2>Commit: fbc0bd0</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    <span style="color: purple; font-weight: bold;">/** has multiple arguments */</span>
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// create the option</span>
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// set the option properties</span>
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// reset the OptionBuilder properties</span>
</p></li>
<p>
        <span style="color: purple; font-weight: bold;">// return the Option instance</span>
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span> ) );        
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, false, false );
    }

    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt short representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                  boolean <span style="color: blue; font-weight: bold;">required</span> ) 
    throws IllegalArgumentException
    {
        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, false );
    }

    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt short representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     * @param multipleArgs specifies whether the option has multiple argument 
     * values
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) 
    throws IllegalArgumentException
    {
        this(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>, null );
    }

    <span style="color: purple; font-weight: bold;">/**
     * Creates an Option using the specified parameters.
     *
     * @param opt short representation of the option
     * @param longOpt the long representation of the option
     * @param hasArg specifies whether the Option takes an argument or not
     * @param description describes the function of the option
     * @param required specifies whether the option is required or not
     * @param multipleArgs specifies whether the option has multiple argument 
     * values
     * @param type specifies the type of the option
     */</span>
    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>, 
                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span> ) 
    throws IllegalArgumentException
    {
</p></li>
<p>        this.<span style="color: blue; font-weight: bold;">required</span>     = <span style="color: blue; font-weight: bold;">required</span>;
        this.<span style="color: blue; font-weight: bold;">multipleArgs</span> = <span style="color: blue; font-weight: bold;">multipleArgs</span>;
        this.<span style="color: blue; font-weight: bold;">type</span>         = <span style="color: blue; font-weight: bold;">type</span>;
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        <span style="color: green; font-weight: bold;">addOption</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, false );        
        return this;
    }

    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>) );        
        return this;
    }

    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @param multipleArgs specifies if this option can accept multiple argument values
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>) );        
        return this;
    }

    <span style="color: purple; font-weight: bold;">/** <p>Add an option that contains a short-name and a long-name</p>
     * <p>It may be specified as requiring an argument.</p>
     *
     * @param opt Short single-character name of the option.
     * @param longOpt Long multi-character name of the option.
     * @param hasArg flag signally if an argument is required after this option
     * @param description Self-documenting description
     * @param required specifies if this option is required
     * @param multipleArgs specifies if this option can accept multiple argument values
     * @param type specifies the type for the value of the option
     * @return the resulting Options instance
     */</span>
    public Options <span style="color: green; font-weight: bold;">addOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>,
                             boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span>) {
        <span style="color: green; font-weight: bold;">addOption</span>( new <span style="color: red; font-weight: bold;">Option</span>(<span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">longOpt</span>, <span style="color: blue; font-weight: bold;">hasArg</span>, <span style="color: blue; font-weight: bold;">description</span>, <span style="color: blue; font-weight: bold;">required</span>, <span style="color: blue; font-weight: bold;">multipleArgs</span>, <span style="color: blue; font-weight: bold;">type</span>) );        
</p></li>
</li>
</ul>
<h2>Commit: 7f90b98</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) 
    throws IllegalArgumentException
    {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span> ) 
    throws IllegalArgumentException
    {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) 
    throws IllegalArgumentException
    {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span> ) 
    throws IllegalArgumentException
    {
        <span style="color: green; font-weight: bold;">validateOption</span>( <span style="color: blue; font-weight: bold;">opt</span> );

</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setType</span>( Object <span style="color: blue; font-weight: bold;">type</span> ) {
        this.<span style="color: blue; font-weight: bold;">type</span> = <span style="color: blue; font-weight: bold;">type</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setLongOpt</span>( String <span style="color: blue; font-weight: bold;">longOpt</span> ) {
        this.<span style="color: blue; font-weight: bold;">longOpt</span> = <span style="color: blue; font-weight: bold;">longOpt</span>;
    }
</p></li>
<p>     public void <span style="color: green; font-weight: bold;">setRequired</span>( boolean <span style="color: blue; font-weight: bold;">required</span> ) {
         this.<span style="color: blue; font-weight: bold;">required</span> = <span style="color: blue; font-weight: bold;">required</span>;
     }

</p></li>
<p>     public void <span style="color: green; font-weight: bold;">setMultipleArgs</span>( boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) {
         this.<span style="color: blue; font-weight: bold;">multipleArgs</span> = <span style="color: blue; font-weight: bold;">multipleArgs</span>;
     }

</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>    private static boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>;
</p></li>
<p>    private static OptionBuilder <span style="color: blue; font-weight: bold;">instance</span> = new <span style="color: red; font-weight: bold;">OptionBuilder</span>();
</p></li>
<p>    <span style="color: purple; font-weight: bold;">// private constructor</span>
    private <span style="color: green; font-weight: bold;">OptionBuilder</span>() {
    }
</p></li>
<p>    private static void <span style="color: green; font-weight: bold;">reset</span>() {
        <span style="color: blue; font-weight: bold;">description</span> = null;
        <span style="color: blue; font-weight: bold;">longopt</span> = null;
        <span style="color: blue; font-weight: bold;">type</span> = null;
        <span style="color: blue; font-weight: bold;">arg</span> = false;
        <span style="color: blue; font-weight: bold;">required</span> = false;
        <span style="color: blue; font-weight: bold;">multipleArgs</span> = false;
    }
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withLongOpt</span>( String <span style="color: blue; font-weight: bold;">longopt</span> ) {
        instance.longopt = <span style="color: blue; font-weight: bold;">longopt</span>;
        return <span style="color: blue; font-weight: bold;">instance</span>;
    }
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">hasArg</span>( ) {
        instance.arg = true;
        return <span style="color: blue; font-weight: bold;">instance</span>;
    }
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">isRequired</span>( ) {
        instance.required = true;
        return <span style="color: blue; font-weight: bold;">instance</span>;
    }
</p></li>
<p>    public static OptionBuilder <span style="color: green; font-weight: bold;">withDescription</span>( String <span style="color: blue; font-weight: bold;">description</span> ) {
        instance.description = <span style="color: blue; font-weight: bold;">description</span>;
        return <span style="color: blue; font-weight: bold;">instance</span>;
    }
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>( char <span style="color: blue; font-weight: bold;">opt</span> )
    throws IllegalArgumentException
    {
        return <span style="color: green; font-weight: bold;">create</span>( <span style="color: blue; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>( <span style="color: blue; font-weight: bold;">opt</span> ) );
    }
</p></li>
<p>    public static Option <span style="color: green; font-weight: bold;">create</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) 
    throws IllegalArgumentException
    {
        Option <span style="color: blue; font-weight: bold;">option</span> = new <span style="color: red; font-weight: bold;">Option</span>( <span style="color: blue; font-weight: bold;">opt</span>, <span style="color: blue; font-weight: bold;">arg</span>, <span style="color: blue; font-weight: bold;">description</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setLongOpt</span>( <span style="color: blue; font-weight: bold;">longopt</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setRequired</span>( <span style="color: blue; font-weight: bold;">required</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setMultipleArgs</span>( <span style="color: blue; font-weight: bold;">multipleArgs</span> );
        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setType</span>( <span style="color: blue; font-weight: bold;">type</span> );
        <span style="color: blue; font-weight: bold;">instance</span>.<span style="color: green; font-weight: bold;">reset</span>();
        return <span style="color: blue; font-weight: bold;">option</span>;
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public <span style="color: green; font-weight: bold;">Option</span>(String <span style="color: blue; font-weight: bold;">opt</span>, String <span style="color: blue; font-weight: bold;">longOpt</span>, boolean <span style="color: blue; font-weight: bold;">hasArg</span>, String <span style="color: blue; font-weight: bold;">description</span>) {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span> ) {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span> ) {
</p></li>
<p>                  boolean <span style="color: blue; font-weight: bold;">required</span>, boolean <span style="color: blue; font-weight: bold;">multipleArgs</span>, Object <span style="color: blue; font-weight: bold;">type</span> ) {
</p></li>
</li>
</ul>
<h2>Commit: c155ceb</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    void <span style="color: green; font-weight: bold;">clearValues</span>() {
        this.<span style="color: blue; font-weight: bold;">values</span>.<span style="color: green; font-weight: bold;">clear</span>();
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>
        <span style="color: purple; font-weight: bold;">// clear out the data in options in case it's been used before (CLI-71)</span>
        for (Iterator <span style="color: blue; font-weight: bold;">it</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">helpOptions</span>().<span style="color: green; font-weight: bold;">iterator</span>(); <span style="color: blue; font-weight: bold;">it</span>.<span style="color: green; font-weight: bold;">hasNext</span>();) {
            Option <span style="color: blue; font-weight: bold;">opt</span> = (Option) <span style="color: blue; font-weight: bold;">it</span>.<span style="color: green; font-weight: bold;">next</span>();
            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">clearValues</span>();
        }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 5470bca</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public boolean <span style="color: green; font-weight: bold;">isRequired</span>() {
        return this.<span style="color: blue; font-weight: bold;">required</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setRequired</span>( boolean <span style="color: blue; font-weight: bold;">required</span> ) {
        this.<span style="color: blue; font-weight: bold;">required</span> = <span style="color: blue; font-weight: bold;">required</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgName</span>( String <span style="color: blue; font-weight: bold;">argName</span> ) {
        this.<span style="color: blue; font-weight: bold;">argName</span> = <span style="color: blue; font-weight: bold;">argName</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setArgs</span>( int <span style="color: blue; font-weight: bold;">num</span> ) {
        this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">num</span>;
    }
</p></li>
<p>    public void <span style="color: green; font-weight: bold;">setValueSeparator</span>( char <span style="color: blue; font-weight: bold;">sep</span> ) {
        this.<span style="color: blue; font-weight: bold;">valuesep</span> = <span style="color: blue; font-weight: bold;">sep</span>;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">key</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>();
</p></li>
<p>            <span style="color: purple; font-weight: bold;">// add it to the long option list</span>
            if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasLongOpt</span>() ) {
                <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
            }
</p></li>
<p>            <span style="color: purple; font-weight: bold;">// if the option is required add it to the required list</span>
            if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() && !<span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">contains</span>( <span style="color: blue; font-weight: bold;">key</span> ) ) {
                <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">key</span> );
            }
            <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">key</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>     <span style="color: purple; font-weight: bold;">/** 
      * <p>Query to see if this Option requires an argument</p>
      *
      * @return boolean flag indicating if an argument is required
      */</span>
     public boolean <span style="color: green; font-weight: bold;">isRequired</span>() {
         return this.<span style="color: blue; font-weight: bold;">required</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets whether this Option is mandatory.</p>
      *
      * @param required specifies whether this Option is mandatory
      */</span>
     public void <span style="color: green; font-weight: bold;">setRequired</span>( boolean <span style="color: blue; font-weight: bold;">required</span> ) {
         this.<span style="color: blue; font-weight: bold;">required</span> = <span style="color: blue; font-weight: bold;">required</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets the display name for the argument value.</p>
      *
      * @param argName the display name for the argument value.
      */</span>
     public void <span style="color: green; font-weight: bold;">setArgName</span>( String <span style="color: blue; font-weight: bold;">argName</span> ) {
         this.<span style="color: blue; font-weight: bold;">argName</span> = <span style="color: blue; font-weight: bold;">argName</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Gets the display name for the argument value.</p>
      *
      * @return the display name for the argument value.
      */</span>
     public String <span style="color: green; font-weight: bold;">getArgName</span>() {
         return this.<span style="color: blue; font-weight: bold;">argName</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Returns whether the display name for the argument value
      * has been set.</p>
      *
      * @return if the display name for the argument value has been
      * set.
      */</span>
     public boolean <span style="color: green; font-weight: bold;">hasArgName</span>() {
         return (this.<span style="color: blue; font-weight: bold;">argName</span> != null && this.<span style="color: blue; font-weight: bold;">argName</span>.<span style="color: green; font-weight: bold;">length</span>() > 0 );
     }

     <span style="color: purple; font-weight: bold;">/** 
      * <p>Query to see if this Option can take many values</p>
      *
      * @return boolean flag indicating if multiple values are allowed
      */</span>
     public boolean <span style="color: green; font-weight: bold;">hasArgs</span>() {
         return ( this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> > 1 || this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> == <span style="color: blue; font-weight: bold;">UNLIMITED_VALUES</span> );
     }

     <span style="color: purple; font-weight: bold;">/** 
      * <p>Sets the number of argument values this Option can take.</p>
      *
      * @param num the number of argument values
      */</span>
     public void <span style="color: green; font-weight: bold;">setArgs</span>( int <span style="color: blue; font-weight: bold;">num</span> ) {
         this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = <span style="color: blue; font-weight: bold;">num</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Sets the value separator.  For example if the argument value
      * was a Java property, the value separator would be '='.</p>
      *
      * @param sep The value separator.
      */</span>
     public void <span style="color: green; font-weight: bold;">setValueSeparator</span>( char <span style="color: blue; font-weight: bold;">sep</span> ) {
         this.<span style="color: blue; font-weight: bold;">valuesep</span> = <span style="color: blue; font-weight: bold;">sep</span>;
     }

     <span style="color: purple; font-weight: bold;">/**
      * <p>Returns the value separator character.</p>
      *
      * @return the value separator character.
      */</span>
     public char <span style="color: green; font-weight: bold;">getValueSeparator</span>() {
         return this.<span style="color: blue; font-weight: bold;">valuesep</span>;
     }

     <span style="color: purple; font-weight: bold;">/** 
      * <p>Returns the number of argument values this Option can take.</p>
      *
      * @return num the number of argument values
      */</span>
     public int <span style="color: green; font-weight: bold;">getArgs</span>( ) {
         return this.<span style="color: blue; font-weight: bold;">numberOfArgs</span>;
     }

    public void <span style="color: green; font-weight: bold;">clearValues</span>() {
        this.<span style="color: blue; font-weight: bold;">values</span>.<span style="color: green; font-weight: bold;">clear</span>();
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">shortOpt</span> = <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// add it to the long option list</span>
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasLongOpt</span>() ) {
            <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getLongOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
        }
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// if the option is required add it to the required list</span>
        if ( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>() );
        }
</p></li>
<p>        <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">shortOpt</span>, <span style="color: blue; font-weight: bold;">opt</span> );
        
</p></li>
</li>
</ul>
<h2>Commit: 43a3545</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>         return (this.<span style="color: blue; font-weight: bold;">argName</span> != null && this.<span style="color: blue; font-weight: bold;">argName</span>.<span style="color: green; font-weight: bold;">length</span>() > 0 );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>         return (this.<span style="color: blue; font-weight: bold;">argName</span> != null || this.<span style="color: blue; font-weight: bold;">argName</span>.<span style="color: green; font-weight: bold;">length</span>() > 0 );
</p></li>
</li>
</ul>
<h2>Commit: 1060ee7</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>     private char <span style="color: blue; font-weight: bold;">valuesep</span>;

     public void <span style="color: green; font-weight: bold;">setValueSeparator</span>( char <span style="color: blue; font-weight: bold;">sep</span> ) {
         this.<span style="color: blue; font-weight: bold;">valuesep</span> = <span style="color: blue; font-weight: bold;">sep</span>;
     }

     public char <span style="color: green; font-weight: bold;">getValueSeparator</span>() {
         return this.<span style="color: blue; font-weight: bold;">valuesep</span>;
     }

</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setValueSeparator</span>( <span style="color: blue; font-weight: bold;">valuesep</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: b1efd86</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>        if( <span style="color: blue; font-weight: bold;">optionalArg</span> ) {
            this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = 1;
        }
</p></li>
</li>
</ul>
<h2>Commit: 4fbf597</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Option.java:</strong><br>
<p>    public void <span style="color: green; font-weight: bold;">setOptionalArg</span>( boolean <span style="color: blue; font-weight: bold;">optionalArg</span> ) {
        if( <span style="color: blue; font-weight: bold;">optionalArg</span> ) {
            this.<span style="color: blue; font-weight: bold;">numberOfArgs</span> = 1;
        }
        this.<span style="color: blue; font-weight: bold;">optionalArg</span> = <span style="color: blue; font-weight: bold;">optionalArg</span>;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">option</span>.<span style="color: green; font-weight: bold;">setOptionalArg</span>( <span style="color: blue; font-weight: bold;">optionalArg</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 79d5a46</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/OptionBuilder.java:</strong><br>
<p>
        <span style="color: purple; font-weight: bold;">// PMM 9/6/02 - these were missing</span>
        <span style="color: blue; font-weight: bold;">optionalArg</span> = false;
        <span style="color: blue; font-weight: bold;">valuesep</span> = (char) 0;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: d30f12f</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private List <span style="color: blue; font-weight: bold;">requiredOpts</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">shortOpt</span> );
</p></li>
<p>    public List <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">options</span>, String[] <span style="color: blue; font-weight: bold;">arguments</span> ) 
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">options</span>, <span style="color: blue; font-weight: bold;">arguments</span>, false );
</p></li>
<p>                              String[] <span style="color: blue; font-weight: bold;">arguments</span>, 
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// initialise members</span>
</p></li>
<p>
</p></li>
<p>
        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: green; font-weight: bold;">flatten</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">arguments</span>, <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) );
        ListIterator <span style="color: blue; font-weight: bold;">iterator</span> = <span style="color: blue; font-weight: bold;">tokenList</span>.<span style="color: green; font-weight: bold;">listIterator</span>();

        <span style="color: purple; font-weight: bold;">// process each flattened token</span>
</p></li>
<p>
            <span style="color: purple; font-weight: bold;">// the value is the double-dash</span>
</p></li>
<p>            <span style="color: purple; font-weight: bold;">// the value is a single dash</span>
            else if( "-".<span style="color: green; font-weight: bold;">equals</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
                if( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                    <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                }
                else {
                    <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>(<span style="color: blue; font-weight: bold;">t</span> );
</p></li>
<p>            }
            <span style="color: purple; font-weight: bold;">// the value is an option</span>
            else if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
</p></li>
<p>            <span style="color: purple; font-weight: bold;">// the value is an argument</span>
</p></li>
<p>            <span style="color: purple; font-weight: bold;">// eat the remaining tokens</span>
</p></li>
<p>                    <span style="color: purple; font-weight: bold;">// ensure only one double-dash is added</span>
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">checkRequiredOptions</span>()
    throws MissingOptionException 
    {
</p></li>
<p>            Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">iterator</span>();
</p></li>
<p>                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>() );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private Map  <span style="color: blue; font-weight: bold;">requiredOpts</span> = new <span style="color: red; font-weight: bold;">HashMap</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">shortOpt</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    public Map <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
</p></li>
</li>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    public CommandLine <span style="color: green; font-weight: bold;">parse</span>( Options <span style="color: blue; font-weight: bold;">opts</span>, String[] <span style="color: blue; font-weight: bold;">args</span> ) 
</p></li>
<p>        return <span style="color: green; font-weight: bold;">parse</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">args</span>, false );
</p></li>
<p>                              String[] <span style="color: blue; font-weight: bold;">args</span>, 
</p></li>
<p>        String[] <span style="color: blue; font-weight: bold;">tokens</span> = <span style="color: green; font-weight: bold;">flatten</span>( <span style="color: blue; font-weight: bold;">opts</span>, <span style="color: blue; font-weight: bold;">args</span>, <span style="color: blue; font-weight: bold;">stopAtNonOption</span> );
        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>( <span style="color: blue; font-weight: bold;">tokens</span> );
        ListIterator <span style="color: blue; font-weight: bold;">iterator</span> = <span style="color: blue; font-weight: bold;">tokenList</span>.<span style="color: green; font-weight: bold;">listIterator</span>();
</p></li>
<p>            else if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "-" ) ) {
                if( <span style="color: blue; font-weight: bold;">t</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
                    <span style="color: purple; font-weight: bold;">// not an option, so just drop it on the argument list</span>
                    if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> ) {
                        <span style="color: blue; font-weight: bold;">eatTheRest</span> = true;
                    }
                    else {
                        <span style="color: blue; font-weight: bold;">cmd</span>.<span style="color: green; font-weight: bold;">addArg</span>( <span style="color: blue; font-weight: bold;">t</span> );
                    }
</p></li>
<p>                else if ( <span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>( <span style="color: blue; font-weight: bold;">t</span> ) ) {
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">checkRequiredOptions</span>( ) 
    throws ParseException {
</p></li>
<p>            Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">values</span>().<span style="color: green; font-weight: bold;">iterator</span>();
</p></li>
<p>                Option <span style="color: blue; font-weight: bold;">missing</span> = (Option)<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>();
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( "-" );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">missing</span>.<span style="color: green; font-weight: bold;">getOpt</span>() );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( " " );
                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>( <span style="color: blue; font-weight: bold;">missing</span>.<span style="color: green; font-weight: bold;">getDescription</span>() );
</p></li>
</li>
</ul>
<h2>Commit: e56f1e1</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>
        <span style="color: purple; font-weight: bold;">// short option</span>
        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">length</span>() == 1 ) {
            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
        }
        <span style="color: purple; font-weight: bold;">// long option</span>
        else if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// a just-in-case</span>
        else {
            return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( <span style="color: blue; font-weight: bold;">opt</span> );
        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        System.out.<span style="color: green; font-weight: bold;">println</span>( <span style="color: blue; font-weight: bold;">parser</span>.<span style="color: green; font-weight: bold;">getClass</span>().<span style="color: green; font-weight: bold;">getName</span>() );
</p></li>
<p>        if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">startsWith</span>( "--" ) ) {
</p></li>
<p>        return (Option) <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">get</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h2>Commit: 500e99f</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) 
</p></li>
<p>            if( <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">contains</span>(<span style="color: blue; font-weight: bold;">key</span>) ) {
                <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">remove</span>( <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">indexOf</span>(<span style="color: blue; font-weight: bold;">key</span>) );
            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">isRequired</span>() && !<span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">contains</span>(<span style="color: blue; font-weight: bold;">key</span>))
</p></li>
</li>
</ul>
<h2>Commit: 5e98762</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">shortOpt</span> = "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">shortOpt</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( <span style="color: blue; font-weight: bold;">shortOpt</span>, <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableCollection</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        String <span style="color: blue; font-weight: bold;">shortOptStr</span> = "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">put</span>( "-" + <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getOpt</span>(), <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>        <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">add</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
<p>    public List <span style="color: green; font-weight: bold;">getOptions</span>() {
        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableList</span>(<span style="color: blue; font-weight: bold;">options</span>);
</p></li>
</li>
</ul>
<h2>Commit: 929f397</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    public Options <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)  {
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// add it to the long option list</span>
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// if the option is required add it to the required list</span>
</p></li>
<p>        return this;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    private void <span style="color: green; font-weight: bold;">addOption</span>(Option <span style="color: blue; font-weight: bold;">opt</span>)  {
</p></li>
</li>
</ul>
<h2>Commit: 745d1a5</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    public boolean <span style="color: green; font-weight: bold;">hasOption</span>( String <span style="color: blue; font-weight: bold;">opt</span> ) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    boolean <span style="color: green; font-weight: bold;">hasOption</span>(String <span style="color: blue; font-weight: bold;">opt</span>) {
</p></li>
</li>
</ul>
<h2>Commit: 3b8e3de</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>    List <span style="color: green; font-weight: bold;">helpOptions</span>() {
</p></li>
<p>        return new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">opts</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableCollection</span>( <span style="color: blue; font-weight: bold;">opts</span> );
    }

    <span style="color: purple; font-weight: bold;">/**
     * <p>Returns the Options for use by the HelpFormatter.</p>
     *
     * @return the List of Options
     */</span>
    List <span style="color: green; font-weight: bold;">helpOptions</span>() {
        return new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );
</p></li>
</li>
</ul>
<h2>Commit: 5c427dd</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        List <span style="color: blue; font-weight: bold;">opts</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );

        <span style="color: purple; font-weight: bold;">// now look through the long opts to see if there are any Long-opt</span>
        <span style="color: purple; font-weight: bold;">// only options</span>
        Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">longOpts</span>.<span style="color: green; font-weight: bold;">values</span>().<span style="color: green; font-weight: bold;">iterator</span>();
        while (<span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">hasNext</span>())
        {
            Object <span style="color: blue; font-weight: bold;">item</span> = <span style="color: blue; font-weight: bold;">iter</span>.<span style="color: green; font-weight: bold;">next</span>();
            if (!<span style="color: blue; font-weight: bold;">opts</span>.<span style="color: green; font-weight: bold;">contains</span>(<span style="color: blue; font-weight: bold;">item</span>))
            {
                <span style="color: blue; font-weight: bold;">opts</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: blue; font-weight: bold;">item</span>);
            }
        }
        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableCollection</span>( <span style="color: blue; font-weight: bold;">opts</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Options.java:</strong><br>
<p>        return <span style="color: blue; font-weight: bold;">Collections</span>.<span style="color: green; font-weight: bold;">unmodifiableCollection</span>( <span style="color: blue; font-weight: bold;">shortOpts</span>.<span style="color: green; font-weight: bold;">values</span>() );
</p></li>
</li>
</ul>
<h2>Commit: fea3587</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(", ");
</p></li>
<p>            throw new <span style="color: red; font-weight: bold;">MissingOptionException</span>(<span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">substring</span>(0, <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">length</span>() - 2));
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>            throw new <span style="color: red; font-weight: bold;">MissingOptionException</span>(<span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">toString</span>());
</p></li>
</li>
</ul>
<h2>Commit: 298804b</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>    protected void <span style="color: green; font-weight: bold;">setOptions</span>(final Options <span style="color: blue; font-weight: bold;">options</span>) {
        this.<span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">options</span>;
        this.<span style="color: blue; font-weight: bold;">requiredOptions</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getRequiredOptions</span>();
    }
</p></li>
<p>    protected Options <span style="color: green; font-weight: bold;">getOptions</span>() {
        return <span style="color: blue; font-weight: bold;">options</span>;
    }
</p></li>
<p>    protected List <span style="color: green; font-weight: bold;">getRequiredOptions</span>() {
        return <span style="color: blue; font-weight: bold;">requiredOptions</span>;
    }
</p></li>
<p>        <span style="color: purple; font-weight: bold;">// initialise members</span>
        <span style="color: green; font-weight: bold;">setOptions</span>(<span style="color: blue; font-weight: bold;">options</span>);

</p></li>
<p>        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: green; font-weight: bold;">flatten</span>(<span style="color: green; font-weight: bold;">getOptions</span>(), 
</p></li>
<p>                if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">t</span>))
</p></li>
<p>    protected void <span style="color: green; font-weight: bold;">processProperties</span>(Properties <span style="color: blue; font-weight: bold;">properties</span>)
</p></li>
<p>                Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">option</span>);
</p></li>
<p>    protected void <span style="color: green; font-weight: bold;">checkRequiredOptions</span>()
</p></li>
<p>        if (<span style="color: green; font-weight: bold;">getRequiredOptions</span>().<span style="color: green; font-weight: bold;">size</span>() > 0)
</p></li>
<p>            Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: green; font-weight: bold;">getRequiredOptions</span>().<span style="color: green; font-weight: bold;">iterator</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(<span style="color: green; font-weight: bold;">getRequiredOptions</span>().<span style="color: green; font-weight: bold;">size</span>() == 1 ? "" : "s");
</p></li>
<p>    protected void <span style="color: green; font-weight: bold;">processOption</span>(String <span style="color: blue; font-weight: bold;">arg</span>, ListIterator <span style="color: blue; font-weight: bold;">iter</span>)
</p></li>
<p>        boolean <span style="color: blue; font-weight: bold;">hasOption</span> = <span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        final Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>            <span style="color: green; font-weight: bold;">getRequiredOptions</span>().<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>());
</p></li>
<p>        if (<span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>) != null)
</p></li>
<p>            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = <span style="color: green; font-weight: bold;">getOptions</span>().<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>                <span style="color: green; font-weight: bold;">getRequiredOptions</span>().<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">group</span>);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>        <span style="color: purple; font-weight: bold;">// initialise members</span>
        this.<span style="color: blue; font-weight: bold;">options</span> = <span style="color: blue; font-weight: bold;">options</span>;

</p></li>
<p>        <span style="color: blue; font-weight: bold;">requiredOptions</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getRequiredOptions</span>();
</p></li>
<p>        List <span style="color: blue; font-weight: bold;">tokenList</span> = <span style="color: blue; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: green; font-weight: bold;">flatten</span>(this.<span style="color: blue; font-weight: bold;">options</span>, 
</p></li>
<p>                if (<span style="color: blue; font-weight: bold;">stopAtNonOption</span> && !<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">t</span>))
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processProperties</span>(Properties <span style="color: blue; font-weight: bold;">properties</span>)
</p></li>
<p>                Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">option</span>);
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">checkRequiredOptions</span>()
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() > 0)
</p></li>
<p>            Iterator <span style="color: blue; font-weight: bold;">iter</span> = <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">iterator</span>();
</p></li>
<p>            <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(<span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() == 1 ? "" : "s");
</p></li>
<p>    private void <span style="color: green; font-weight: bold;">processOption</span>(String <span style="color: blue; font-weight: bold;">arg</span>, ListIterator <span style="color: blue; font-weight: bold;">iter</span>)
</p></li>
<p>        boolean <span style="color: blue; font-weight: bold;">hasOption</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">hasOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>        final Option <span style="color: blue; font-weight: bold;">opt</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOption</span>(<span style="color: blue; font-weight: bold;">arg</span>);
</p></li>
<p>            <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getKey</span>());
</p></li>
<p>        if (<span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>) != null)
</p></li>
<p>            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>(<span style="color: blue; font-weight: bold;">opt</span>);
</p></li>
<p>                <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>(<span style="color: blue; font-weight: bold;">group</span>);
</p></li>
</li>
</ul>
<h2>Commit: f789594</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>            StringBuffer <span style="color: blue; font-weight: bold;">buff</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>("Missing required option");
            <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(<span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">size</span>() == 1 ? "" : "s");
            <span style="color: blue; font-weight: bold;">buff</span>.<span style="color: green; font-weight: bold;">append</span>(": ");

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>            StringBuffer <span style="color: blue; font-weight: bold;">buff</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>();
</p></li>
</li>
</ul>
<h2>Commit: 436ef8b</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>            OptionGroup <span style="color: blue; font-weight: bold;">group</span> = ( OptionGroup ) <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> );
            if( <span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">isRequired</span>() ) {
                <span style="color: blue; font-weight: bold;">requiredOptions</span>.<span style="color: green; font-weight: bold;">remove</span>( <span style="color: blue; font-weight: bold;">group</span> );
            }
            <span style="color: blue; font-weight: bold;">group</span>.<span style="color: green; font-weight: bold;">setSelected</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>            ( (OptionGroup)( <span style="color: blue; font-weight: bold;">options</span>.<span style="color: green; font-weight: bold;">getOptionGroup</span>( <span style="color: blue; font-weight: bold;">opt</span> ) ) ).<span style="color: green; font-weight: bold;">setSelected</span>( <span style="color: blue; font-weight: bold;">opt</span> );
</p></li>
</li>
</ul>
<h2>Commit: 9774480</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValueForProcessing</span>(<span style="color: blue; font-weight: bold;">value</span>);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>(<span style="color: blue; font-weight: bold;">value</span>);
</p></li>
</li>
</ul>
<h2>Commit: 1314233</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArg</span>())
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                if (<span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArgs</span>())
</p></li>
</li>
</ul>
<h2>Commit: be7dfa5</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>
                <span style="color: purple; font-weight: bold;">// get the value from the properties instance</span>
                String <span style="color: blue; font-weight: bold;">value</span> = <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">getProperty</span>( <span style="color: blue; font-weight: bold;">option</span> );

                if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">hasArgs</span>() ) {
                    if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() == null || <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> == 0 ) {
                        try {
                            <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>( <span style="color: blue; font-weight: bold;">value</span> );
                        }
                        catch( RuntimeException <span style="color: blue; font-weight: bold;">exp</span> ) {
                            <span style="color: purple; font-weight: bold;">// if we cannot add the value don't worry about it</span>
                        }
                    }
</p></li>
<p>                else if ( ! ( "yes".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span> ) ||
                              "true".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span> ) ||
                              "1".<span style="color: green; font-weight: bold;">equalsIgnoreCase</span>( <span style="color: blue; font-weight: bold;">value</span>) ) ) {
                    <span style="color: purple; font-weight: bold;">// if the value is not yes, true or 1 then don't add the</span>
                    <span style="color: purple; font-weight: bold;">// option to the CommandLine</span>
                    break;
                }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Parser.java:</strong><br>
<p>                if( <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>() == null || <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">getValues</span>().<span style="color: blue; font-weight: bold;">length</span> == 0 ) {
                    <span style="color: blue; font-weight: bold;">opt</span>.<span style="color: green; font-weight: bold;">addValue</span>( <span style="color: blue; font-weight: bold;">properties</span>.<span style="color: green; font-weight: bold;">getProperty</span>( <span style="color: blue; font-weight: bold;">option</span> ) );
</p></li>
</li>
</ul>
<h2>Commit: 3880640</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/cli/Util.java:</strong><br>
<p>        if (<span style="color: blue; font-weight: bold;">str</span> == null) {
            return null;
        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
</body></html>