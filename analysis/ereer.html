<html><head><title>Highlighted Intervals</title></head><body>
<h2>Commit: 5941149</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Assertions.java:</strong><br>
<p>        if (parameter == null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        Assertions.notNull(string, "string");
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Assertions.java:</strong><br>
<p>        if (parameter == null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        Assertions.notNull(string, "string");
</p></li>
</li>
</ul>
<h2>Commit: 724c88d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Assertions.java:</strong><br>
<p>        if (parameter == null) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Assertions.java:</strong><br>
<p>        if (parameter == null) {
</p></li>
</li>
</ul>
<h2>Commit: a2fef00</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Assertions.java:</strong><br>
<p>        if (<span style="color: purple; font-weight: bold;">parameter</span> == null) {
            throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(&quot;Parameter &#x27;&quot; + <span style="color: purple; font-weight: bold;">parameterName</span> + "' must not be null!");
        }
    }
}
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        <span style="color: purple; font-weight: bold;">Assertions</span>.<span style="color: green; font-weight: bold;">notNull</span>(<span style="color: purple; font-weight: bold;">format</span>, "format");

        return new CSVParser(new StringReader(string), format);
</p></li>
<p>        <span style="color: purple; font-weight: bold;">Assertions</span>.<span style="color: green; font-weight: bold;">notNull</span>(<span style="color: purple; font-weight: bold;">format</span>, "format");

        format.validate();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 99c3819</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>
</p></li>
<p>            final boolean <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>) {
        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.ignoreEmptyLines = ignoreEmptyLines;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>;
    }

</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }

</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>);
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            if (formatHeader.length == 0) {
</p></li>
<p>                }
</p></li>
<p>            }
</p></li>
<p>                for (int i = 0; i &lt; headerRecord.length; i++) {
                    final String <span style="color: purple; font-weight: bold;">header</span> = <span style="color: purple; font-weight: bold;">headerRecord</span>[<span style="color: purple; font-weight: bold;">i</span>];
                    final boolean <span style="color: purple; font-weight: bold;">containsHeader</span> = <span style="color: purple; font-weight: bold;">hdrMap</span>.<span style="color: green; font-weight: bold;">containsKey</span>(<span style="color: purple; font-weight: bold;">header</span>);
                    final boolean <span style="color: purple; font-weight: bold;">emptyHeader</span> = <span style="color: purple; font-weight: bold;">header</span>.<span style="color: green; font-weight: bold;">trim</span>().<span style="color: green; font-weight: bold;">isEmpty</span>();
                    if (<span style="color: purple; font-weight: bold;">containsHeader</span> &amp;&amp; (!<span style="color: purple; font-weight: bold;">emptyHeader</span> || (<span style="color: purple; font-weight: bold;">emptyHeader</span> &amp;&amp; !this.<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getIgnoreEmptyHeaders</span>()))) {
                        throw new IllegalArgumentException(&quot;The header contains a duplicate name: \&quot;&quot; + <span style="color: purple; font-weight: bold;">header</span>
                                + &quot;\&quot; in &quot; + Arrays.toString(<span style="color: purple; font-weight: bold;">headerRecord</span>));
                    }
</p></li>
<p>                }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>
</p></li>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            if (formatHeader.length == 0) {
</p></li>
<p>                }
</p></li>
<p>            }
</p></li>
<p>                for (int i = 0; i &lt; header.length; i++) {
                    if (<span style="color: purple; font-weight: bold;">hdrMap</span>.<span style="color: green; font-weight: bold;">containsKey</span>(<span style="color: purple; font-weight: bold;">header</span>[<span style="color: purple; font-weight: bold;">i</span>])) {
                        throw new IllegalArgumentException("The header contains duplicate names: " +
                                Arrays.toString(header));
                    }
</p></li>
<p>                }
</p></li>
</li>
</ul>
<h2>Commit: 97d3457</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>
</p></li>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }

</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (record != null) {
</p></li>
<p>                    this.<span style="color: green; font-weight: bold;">nextRecord</span>();
                }
                header = formatHeader;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>
</p></li>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
</li>
</ul>
<h2>Commit: 75f39a8(BIC)</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>
</p></li>
<p>
</p></li>
<p>
</p></li>
<p>            .withDelimiter(TAB)
</p></li>
<p>
</p></li>
<p>            .withDelimiter(TAB)
</p></li>
<p>            .withRecordSeparator(LF);

</p></li>
<p>        if (quoteChar != null && delimiter == quoteChar.charValue()) {
            throw new IllegalStateException(
                    "The quoteChar character and the delimiter cannot be the same ('" + quoteChar + "')");
        }

        if (escape != null && delimiter == escape.charValue()) {
            throw new IllegalStateException(
                    "The escape character and the delimiter cannot be the same ('" + escape + "')");
        }

        if (commentStart != null && delimiter == commentStart.charValue()) {
            throw new IllegalStateException(
                    "The comment start character and the delimiter cannot be the same ('" + commentStart + "')");
        }

        if (quoteChar != null && quoteChar.equals(commentStart)) {
            throw new IllegalStateException(
                    "The comment start character and the quoteChar cannot be the same ('" + commentStart + "')");
        }

        if (escape != null && escape.equals(commentStart)) {
            throw new IllegalStateException(
                    "The comment start and the escape character cannot be the same ('" + commentStart + "')");
        }

        if (escape == null && quotePolicy == Quote.NONE) {
            throw new IllegalStateException("No quotes mode set but no escape character is set");
        }
    }

</p></li>
<p>        if (isLineBreak(delimiter)) {
            throw new IllegalArgumentException(&quot;The delimiter cannot be a line break&quot;);
        }
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

</p></li>
<p>        return withEscape(Character.valueOf(escape));
    }

</p></li>
<p>        if (isLineBreak(escape)) {
            throw new IllegalArgumentException(&quot;The escape character cannot be a line break&quot;);
        }
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

</p></li>
<p>        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }
</p></li>
<p>        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

</p></li>
<p>        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

</p></li>
<p>        if (isLineBreak(quoteChar)) {
            throw new IllegalArgumentException(&quot;The quoteChar cannot be a line break&quot;);
        }
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

</p></li>
<p>        return withRecordSeparator(String.valueOf(recordSeparator));
    }

</p></li>
<p>        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">nullString</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.format = format;
</p></li>
<p>        this.headerMap = initializeHeader();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            <span style="color: green; font-weight: bold;">newBuilder</span>()
            .<span style="color: green; font-weight: bold;">withIgnoreEmptyLines</span>(false)
            .<span style="color: green; font-weight: bold;">build</span>();

</p></li>
<p>            <span style="color: green; font-weight: bold;">newBuilder</span>()
            .<span style="color: green; font-weight: bold;">build</span>();

</p></li>
<p>            <span style="color: green; font-weight: bold;">newBuilder</span>()
            .<span style="color: green; font-weight: bold;">withIgnoreEmptyLines</span>(false)
            .<span style="color: green; font-weight: bold;">build</span>();

</p></li>
<p>            .<span style="color: green; font-weight: bold;">withDelimiter</span>(<span style="color: purple; font-weight: bold;">TAB</span>)
</p></li>
<p>            .<span style="color: green; font-weight: bold;">build</span>();

</p></li>
<p>            .<span style="color: green; font-weight: bold;">withDelimiter</span>(<span style="color: purple; font-weight: bold;">TAB</span>)
</p></li>
<p>            .<span style="color: green; font-weight: bold;">withEscape</span>(<span style="color: purple; font-weight: bold;">BACKSLASH</span>)
</p></li>
<p>            .<span style="color: green; font-weight: bold;">build</span>();

</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.format = format;
</p></li>
</li>
</ul>
<h2>Commit: 60cc83a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            newBuilder()
            .withIgnoreEmptyLines(false)
            .build();

</p></li>
<p>            newBuilder()
            .build();

</p></li>
<p>            newBuilder()
            .withIgnoreEmptyLines(false)
            .build();

</p></li>
<p>            newBuilder()
            .withDelimiter(TAB)
            .withIgnoreSurroundingSpaces(true)
            .build();

</p></li>
<p>            newBuilder()
            .withDelimiter(TAB)
            .withQuoteChar(null)
            .withEscape(BACKSLASH)
            .withIgnoreEmptyLines(false)
            .withRecordSeparator(LF)
            .build();

</p></li>
<p>    static boolean isLineBreak(final char c) {
        return c == LF || c == CR;
    }
</p></li>
<p>    CSVFormat(final char delimiter, final Character quoteChar,
            final Quote quotePolicy, final Character commentStart,
            final Character escape, final boolean ignoreSurroundingSpaces,
            final boolean ignoreEmptyLines, final String recordSeparator,
            final String[] header) {
        if (isLineBreak(delimiter)) {
            throw new IllegalArgumentException("The delimiter cannot be a line break");
        }
        this.delimiter = delimiter;
        this.quoteChar = quoteChar;
        this.quotePolicy = quotePolicy;
        this.commentStart = commentStart;
        this.escape = escape;
        this.ignoreSurroundingSpaces = ignoreSurroundingSpaces;
        this.ignoreEmptyLines = ignoreEmptyLines;
        this.recordSeparator = recordSeparator;
        this.header = header == null ? null : header.clone();
    }
</p></li>
<p>        return commentStart;
    }

</p></li>
<p>        return delimiter;
    }

</p></li>
<p>        return escape;
    }

</p></li>
<p>        return header;
    }

</p></li>
<p>        return ignoreEmptyLines;
    }

</p></li>
<p>        return ignoreSurroundingSpaces;
    }

</p></li>
<p>        return quoteChar;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return escape;
    }

</p></li>
<p>        return escape != null;
    }

</p></li>
<p>        return ignoreSurroundingSpaces;
    }

</p></li>
<p>        return ignoreEmptyLines;
    }

</p></li>
<p>        return recordSeparator;
    }

    String[] getHeader() {
        return header;
    }
</p></li>
<p>     */
    public Quote getQuotePolicy() {
        return quotePolicy;
    }

    @Override
    public int hashCode()
    {
        final int prime = 31;
        int result = 1;

        result = prime * result + delimiter;
        result = prime * result + ((quotePolicy == null) ? 0 : quotePolicy.hashCode());
        result = prime * result + ((quoteChar == null) ? 0 : quoteChar.hashCode());
        result = prime * result + ((commentStart == null) ? 0 : commentStart.hashCode());
        result = prime * result + ((escape == null) ? 0 : escape.hashCode());
        result = prime * result + (ignoreSurroundingSpaces ? 1231 : 1237);
        result = prime * result + (ignoreEmptyLines ? 1231 : 1237);
        result = prime * result + ((recordSeparator == null) ? 0 : recordSeparator.hashCode());
        result = prime * result + Arrays.hashCode(header);
        return result;
    }
</p></li>
<p>
        private char delimiter;
        private Character quoteChar;
        private Quote quotePolicy;
        private Character commentStart;
        private Character escape;
        private boolean ignoreSurroundingSpaces; // Should leading/trailing spaces be ignored around values?
        private boolean ignoreEmptyLines;
        private String recordSeparator; // for outputs
        private String[] header;

        /**
         * Creates a customized CSV format.
         *
         * @param delimiter
         *            the char used for value separation, must not be a line break character
         * @param quoteChar
         *            the char used as value encapsulation marker
         * @param quotePolicy
         *            the quote policy
         * @param commentStart
         *            the char used for comment identification
         * @param escape
         *            the char used to escape special characters in values
         * @param ignoreSurroundingSpaces
         *            <tt>true</tt> when whitespaces enclosing values should be ignored
         * @param ignoreEmptyLines
         *            <tt>true</tt> when the parser should skip empty lines
         * @param recordSeparator
         *            the line separator to use for output
         * @param header
         *            the header
         * @throws IllegalArgumentException if the delimiter is a line break character
         */
        // package protected for use by test code
        CSVFormatBuilder(final char delimiter, final Character quoteChar,
                final Quote quotePolicy, final Character commentStart,
                final Character escape, final boolean ignoreSurroundingSpaces,
                final boolean ignoreEmptyLines, final String lineSeparator,
                final String[] header) {
            if (isLineBreak(delimiter)) {
                throw new IllegalArgumentException("The delimiter cannot be a line break");
            }
            this.delimiter = delimiter;
            this.quoteChar = quoteChar;
            this.quotePolicy = quotePolicy;
            this.commentStart = commentStart;
            this.escape = escape;
            this.ignoreSurroundingSpaces = ignoreSurroundingSpaces;
            this.ignoreEmptyLines = ignoreEmptyLines;
            this.recordSeparator = lineSeparator;
            this.header = header;
        }

        /**
         * Creates a CSVFormatBuilder, using the values of the given CSVFormat.
         *
         * @param format
         *            The format to use values from
         */
        @SuppressWarnings("synthetic-access") // TODO fields could be made package-protected
        // package protected to give access without needing a synthetic accessor
        CSVFormatBuilder(final CSVFormat format) {
            this(format.delimiter, format.quoteChar, format.quotePolicy,
                    format.commentStart, format.escape,
                    format.ignoreSurroundingSpaces, format.ignoreEmptyLines,
                    format.recordSeparator, format.header);
        }

        /**
         * Creates a basic CSVFormatBuilder.
         *
         * @param delimiter
         *            the char used for value separation, must not be a line break character
         * @throws IllegalArgumentException if the delimiter is a line break character
         */
        // package protected to give access without needing a synthetic accessor
        CSVFormatBuilder(final char delimiter){
            this(delimiter, null, null, null, null, false, false, null, null);
        }

        /**
         * Builds a new CSVFormat configured with the values from this builder.
         *
         * @return a new CSVFormat
         */
        public CSVFormat build() {
            validate();
            return new CSVFormat(delimiter, quoteChar, quotePolicy, commentStart, escape,
                                 ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, header);
        }

</p></li>
<p>         * Parses the specified content. Short-hand for:
         * <pre>format.build().parse(in);</pre>
         *
         * @param in
         *            the input stream
         * @return a CSVRecord stream
         * @throws IOException
         *             If an I/O error occurs
         */
        public Iterable<CSVRecord> parse(final Reader in) throws IOException {
            return this.build().parse(in);
        }

</p></li>
<p>         * Verifies the consistency of the parameters and throws an IllegalStateException if necessary.
         *
         * @throws IllegalStateException
         */
        private void validate() throws IllegalStateException {
            if (quoteChar != null && delimiter == quoteChar.charValue()) {
                throw new IllegalStateException(
                        "The quoteChar character and the delimiter cannot be the same ('" + quoteChar + "')");
            }

</p></li>
<p>                throw new IllegalStateException(
                        "The escape character and the delimiter cannot be the same ('" + escape + "')");
            }

</p></li>
<p>                throw new IllegalStateException(
                        "The comment start character and the delimiter cannot be the same ('" + commentStart + "')");
            }

</p></li>
<p>                throw new IllegalStateException(
                        "The comment start character and the quoteChar cannot be the same ('" + commentStart + "')");
            }

</p></li>
<p>                throw new IllegalStateException(
                        "The comment start and the escape character cannot be the same ('" + commentStart + "')");
            }

</p></li>
</li>
</ul>
<h2>Commit: 50e2719</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return escape;
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return escape;
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 42476f4</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">escape</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>;
    }

    public CSVStrategy <span style="color: green; font-weight: bold;">withLeadingSpacesIgnored</span>(boolean <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>) {
        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) <span style="color: green; font-weight: bold;">clone</span>();
        strategy.leadingSpacesIgnored = <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>;
    }
</p></li>
<p>        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) <span style="color: green; font-weight: bold;">clone</span>();
        strategy.trailingSpacesIgnored = <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">emptyLinesIgnored</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">lineSeparator</span>;
    }
</p></li>
<p>        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) <span style="color: green; font-weight: bold;">clone</span>();
        strategy.lineSeparator = <span style="color: purple; font-weight: bold;">lineSeparator</span>;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">escape</span> = <span style="color: purple; font-weight: bold;">escape</span>;
    }
</p></li>
<p>        return this.<span style="color: purple; font-weight: bold;">escape</span>;
    }
</p></li>
<p>        this.<span style="color: purple; font-weight: bold;">ignoreLeadingWhitespaces</span> = <span style="color: purple; font-weight: bold;">ignoreLeadingWhitespaces</span>;
    }
</p></li>
<p>        return this.<span style="color: purple; font-weight: bold;">ignoreLeadingWhitespaces</span>;
    }
</p></li>
<p>        this.<span style="color: purple; font-weight: bold;">interpretUnicodeEscapes</span> = <span style="color: purple; font-weight: bold;">interpretUnicodeEscapes</span>;
    }
</p></li>
<p>        return this.<span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
    }
</p></li>
<p>        return this.<span style="color: purple; font-weight: bold;">printerNewline</span>;
    }
</p></li>
</li>
</ul>
<h2>Commit: eac54a2</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>    public char <span style="color: green; font-weight: bold;">getDelimiter</span>() { return this.<span style="color: purple; font-weight: bold;">delimiter</span>; }

    public void <span style="color: green; font-weight: bold;">setEncapsulator</span>(char <span style="color: purple; font-weight: bold;">encapsulator</span>) { this.<span style="color: purple; font-weight: bold;">encapsulator</span> = <span style="color: purple; font-weight: bold;">encapsulator</span>; }
    public char <span style="color: green; font-weight: bold;">getEncapsulator</span>() { return this.<span style="color: purple; font-weight: bold;">encapsulator</span>; }

    public void <span style="color: green; font-weight: bold;">setCommentStart</span>(char <span style="color: purple; font-weight: bold;">commentStart</span>) { this.<span style="color: purple; font-weight: bold;">commentStart</span> = <span style="color: purple; font-weight: bold;">commentStart</span>; }
    public char <span style="color: green; font-weight: bold;">getCommentStart</span>() { return this.<span style="color: purple; font-weight: bold;">commentStart</span>; }

</p></li>
<p>    public boolean <span style="color: green; font-weight: bold;">getIgnoreEmptyLines</span>() { return this.<span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>; }

}
</p></li>
</li>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  private CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span>;
  
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  private char <span style="color: purple; font-weight: bold;">delimiter</span>;
  private char <span style="color: purple; font-weight: bold;">encapsulator</span>;
  private char <span style="color: purple; font-weight: bold;">commentStart</span>;
  private boolean <span style="color: purple; font-weight: bold;">ignoreLeadingWhitespaces</span>;
  private boolean <span style="color: purple; font-weight: bold;">interpretUnicodeEscapes</span>;
  private boolean <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
  
  // the input stream
</p></li>
</li>
</ul>
<h2>Commit: 720b341</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">isEscaping</span>;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">isEscaping</span>;
</p></li>
</li>
</ul>
<h2>Commit: aeef773</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 9cb66ca</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return this.<span style="color: purple; font-weight: bold;">escape</span> != <span style="color: purple; font-weight: bold;">DISABLED</span>;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 67bbc35</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, lineSeparator, header);
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">surroundingSpacesIgnored</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">emptyLinesIgnored</span>;
    }
</p></li>
<p>                <span style="color: purple; font-weight: bold;">emptyLinesIgnored</span>, lineSeparator, header);
    }
</p></li>
</li>
</ul>
<h2>Commit: 38741a4</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">surroundingSpacesIgnored</span>;
    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>;
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a copy of this format with the specified left trimming behavior.
     *
     * @param leadingSpacesIgnored the left trimming behavior, &lt;tt&gt;true&lt;/tt&gt; to remove the leading spaces,
     *                             &lt;tt&gt;false&lt;/tt&gt; to leave the spaces as is.
     * @return A copy of this format with the specified left trimming behavior.
     */</span>
    public CSVFormat <span style="color: green; font-weight: bold;">withLeadingSpacesIgnored</span>(boolean <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">encapsulator</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>, <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>, <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>, <span style="color: purple; font-weight: bold;">emptyLinesIgnored</span>, <span style="color: purple; font-weight: bold;">lineSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

    <span style="color: blue; font-weight: bold;">/**
     * Tells if the spaces characters at the end of the values are ignored when parsing a file.
     * 
     * @return &lt;tt&gt;true&lt;/tt&gt; if trailing spaces are removed, &lt;tt&gt;false&lt;/tt&gt; if they are preserved.
     */</span>
    public boolean <span style="color: green; font-weight: bold;">isTrailingSpacesIgnored</span>() {
        return <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>;
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a copy of this format with the specified right trimming behavior.
     *
     * @param trailingSpacesIgnored the right trimming behavior, &lt;tt&gt;true&lt;/tt&gt; to remove the trailing spaces,
     *                              &lt;tt&gt;false&lt;/tt&gt; to leave the spaces as is.
     * @return A copy of this format with the specified right trimming behavior.
     */</span>
    public CSVFormat <span style="color: green; font-weight: bold;">withTrailingSpacesIgnored</span>(boolean <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">encapsulator</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>, <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>, <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>, <span style="color: purple; font-weight: bold;">emptyLinesIgnored</span>, <span style="color: purple; font-weight: bold;">lineSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h2>Commit: c9dedff</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            <span style="color: purple; font-weight: bold;">input</span> = new <span style="color: red; font-weight: bold;">UnicodeUnescapeReader</span>(<span style="color: purple; font-weight: bold;">input</span>);
        }
        
        this.lexer = new CSVLexer(format, new ExtendedBufferedReader(input));
</p></li>
</li>
</ul>
<h2>Commit: aee6c50</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }

    String[] <span style="color: green; font-weight: bold;">getHeader</span>() {
        return <span style="color: purple; font-weight: bold;">header</span>;
    }

</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        format.validate();
</p></li>
<p>        <span style="color: green; font-weight: bold;">initializeHeader</span>(<span style="color: purple; font-weight: bold;">format</span>);
    }
</p></li>
<p>        this(new StringReader(input), format);
</p></li>
<p>        if (<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getHeader</span>() != null) {
            <span style="color: purple; font-weight: bold;">headerMapping</span> = new <span style="color: red; font-weight: bold;">HashMap&lt;String, Integer&gt;</span>();

            String[] <span style="color: purple; font-weight: bold;">header</span> = null;
            if (<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getHeader</span>().<span style="color: purple; font-weight: bold;">length</span> == 0) {
                <span style="color: blue; font-weight: bold;">// read the header from the first line of the file</span>
                CSVRecord <span style="color: purple; font-weight: bold;">record</span> = <span style="color: green; font-weight: bold;">getRecord</span>();
                if (<span style="color: purple; font-weight: bold;">record</span> != null) {
                    <span style="color: purple; font-weight: bold;">header</span> = <span style="color: purple; font-weight: bold;">record</span>.<span style="color: green; font-weight: bold;">values</span>();
                }
            } else {
                <span style="color: purple; font-weight: bold;">header</span> = <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getHeader</span>();
            }

            <span style="color: blue; font-weight: bold;">// build the name to index mappings</span>
            if (<span style="color: purple; font-weight: bold;">header</span> != null) {
                for (int <span style="color: purple; font-weight: bold;">i</span> = 0; <span style="color: purple; font-weight: bold;">i</span> &lt; header.length; <span style="color: purple; font-weight: bold;">i</span>++) {
                    <span style="color: purple; font-weight: bold;">headerMapping</span>.<span style="color: green; font-weight: bold;">put</span>(<span style="color: purple; font-weight: bold;">header</span>[<span style="color: purple; font-weight: bold;">i</span>], <span style="color: purple; font-weight: bold;">i</span>);
                }
            }
        }
    }

</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p><span style="color: blue; font-weight: bold;"> * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

package org.apache.commons.csv;

import java.io.Serializable;
import java.util.Arrays;
import java.util.Iterator;
import java.util.Map;

<span style="color: blue; font-weight: bold;">/**
 * A CSV record
 *
 * @author Emmanuel Bourg
 */</span>
public class <span style="color: red; font-weight: bold;">CSVRecord</span> implements <span style="color: red; font-weight: bold;">Serializable</span>, <span style="color: red; font-weight: bold;">Iterable&lt;String&gt;</span> {
    
    private static final String[] <span style="color: purple; font-weight: bold;">EMPTY_STRING_ARRAY</span> = new String[0];
    
    <span style="color: blue; font-weight: bold;">/** The values of the record */</span>
    private final String[] <span style="color: purple; font-weight: bold;">values</span>;

    <span style="color: blue; font-weight: bold;">/** The column name to index mapping. */</span>
    private final Map&lt;String, Integer&gt; <span style="color: purple; font-weight: bold;">mapping</span>;

    <span style="color: green; font-weight: bold;">CSVRecord</span>(String[] <span style="color: purple; font-weight: bold;">values</span>, Map&lt;String, Integer&gt; <span style="color: purple; font-weight: bold;">mapping</span>) {
        this.<span style="color: purple; font-weight: bold;">values</span> = <span style="color: purple; font-weight: bold;">values</span> != null ? <span style="color: purple; font-weight: bold;">values</span> : <span style="color: purple; font-weight: bold;">EMPTY_STRING_ARRAY</span>;
        this.<span style="color: purple; font-weight: bold;">mapping</span> = <span style="color: purple; font-weight: bold;">mapping</span>;
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a value by index.
     *
     * @param i the index of the column retrieved
     */</span>
    public String <span style="color: green; font-weight: bold;">get</span>(int <span style="color: purple; font-weight: bold;">i</span>) {
        return <span style="color: purple; font-weight: bold;">values</span>[<span style="color: purple; font-weight: bold;">i</span>];
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a value by name.
     *
     * @param name the name of the column retrieved
     */</span>
    public String <span style="color: green; font-weight: bold;">get</span>(String <span style="color: purple; font-weight: bold;">name</span>) {
        if (<span style="color: purple; font-weight: bold;">mapping</span> == null) {
            throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;No header was specified, the record values can&#x27;t be accessed by name&quot;);
        }

        Integer <span style="color: purple; font-weight: bold;">index</span> = <span style="color: purple; font-weight: bold;">mapping</span>.<span style="color: green; font-weight: bold;">get</span>(<span style="color: purple; font-weight: bold;">name</span>);

        return <span style="color: purple; font-weight: bold;">index</span> != null ? <span style="color: purple; font-weight: bold;">values</span>[<span style="color: purple; font-weight: bold;">index</span>] : null;
    }

    public Iterator&lt;String&gt; <span style="color: green; font-weight: bold;">iterator</span>() {
        return <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: purple; font-weight: bold;">values</span>).<span style="color: green; font-weight: bold;">iterator</span>();
    }

    String[] <span style="color: green; font-weight: bold;">values</span>() {
        return <span style="color: purple; font-weight: bold;">values</span>;
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns the number of values in this record.
     */</span>
    public int <span style="color: green; font-weight: bold;">size</span>() {
        return values.length;
    }

    public String <span style="color: green; font-weight: bold;">toString</span>() {
        return <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">toString</span>(<span style="color: purple; font-weight: bold;">values</span>);
    }
}
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        format.validate();
</p></li>
<p>        this(new StringReader(input), format);
</p></li>
</li>
</ul>
<h2>Commit: 740a1b6</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        format.leadingSpacesIgnored = <span style="color: purple; font-weight: bold;">leadingSpacesIgnored</span>;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
<p>        format.trailingSpacesIgnored = <span style="color: purple; font-weight: bold;">trailingSpacesIgnored</span>;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
<p>        format.lineSeparator = <span style="color: purple; font-weight: bold;">lineSeparator</span>;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
</li>
</ul>
<h2>Commit: 194e21c</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">     * Returns a copy of this format with the specified left trimming behavior.
     *
     * @param leadingSpacesIgnored the left trimming behavior, &lt;tt&gt;true&lt;/tt&gt; to remove the leading spaces,
     *                             &lt;tt&gt;false&lt;/tt&gt; to leave the spaces as is.
     * @return A copy of this format with the specified left trimming behavior.
     */</span>
    public CSVFormat withLeadingSpacesIgnored(boolean leadingSpacesIgnored) {
</p></li>
<p><span style="color: blue; font-weight: bold;">     * Tells if the spaces characters at the end of the values are ignored when parsing a file.
     * 
     * @return &lt;tt&gt;true&lt;/tt&gt; if trailing spaces are removed, &lt;tt&gt;false&lt;/tt&gt; if they are preserved.
     */</span>
    public boolean <span style="color: green; font-weight: bold;">isTrailingSpacesIgnored</span>() {
</p></li>
<p><span style="color: blue; font-weight: bold;">     * Returns a copy of this format with the specified right trimming behavior.
     *
     * @param trailingSpacesIgnored the right trimming behavior, &lt;tt&gt;true&lt;/tt&gt; to remove the trailing spaces,
     *                              &lt;tt&gt;false&lt;/tt&gt; to leave the spaces as is.
     * @return A copy of this format with the specified right trimming behavior.
     */</span>
    public CSVFormat withTrailingSpacesIgnored(boolean trailingSpacesIgnored) {
</p></li>
<p><span style="color: blue; font-weight: bold;">     * Returns a copy of this format using the specified line separator.
     * 
     * @param lineSeparator the line separator
     * @return A copy of this format using the specified line separator
     */</span>
    public CSVFormat withLineSeparator(String lineSeparator) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 70337be</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        format.leadingSpacesIgnored = leadingSpacesIgnored;
</p></li>
<p>        format.trailingSpacesIgnored = trailingSpacesIgnored;
</p></li>
<p>        format.lineSeparator = lineSeparator;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        format.leadingSpacesIgnored = leadingSpacesIgnored;
</p></li>
<p>        format.trailingSpacesIgnored = trailingSpacesIgnored;
</p></li>
<p>        format.lineSeparator = lineSeparator;
</p></li>
</li>
</ul>
<h2>Commit: cb99634</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        CSVFormat <span style="color: purple; font-weight: bold;">format</span> = (CSVFormat) clone();
        format.leadingSpacesIgnored = leadingSpacesIgnored;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
<p>        CSVFormat <span style="color: purple; font-weight: bold;">format</span> = (CSVFormat) clone();
        format.trailingSpacesIgnored = trailingSpacesIgnored;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
<p>        CSVFormat <span style="color: purple; font-weight: bold;">format</span> = (CSVFormat) clone();
        format.lineSeparator = lineSeparator;
        return <span style="color: purple; font-weight: bold;">format</span>;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.in = new ExtendedBufferedReader(input);
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) clone();
        strategy.leadingSpacesIgnored = leadingSpacesIgnored;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
<p>        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) clone();
        strategy.trailingSpacesIgnored = trailingSpacesIgnored;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
<p>        CSVStrategy <span style="color: purple; font-weight: bold;">strategy</span> = (CSVStrategy) clone();
        strategy.lineSeparator = lineSeparator;
        return <span style="color: purple; font-weight: bold;">strategy</span>;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.in = new ExtendedBufferedReader(input);
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: f6f9fc1</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: f9a3162</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            .withRecordSeparator(LF);
</p></li>
<p>        this.quoteMode = quoteMode;
</p></li>
<p>        this.<span style="color: purple; font-weight: bold;">escapeCharacter</span> = escape;
        this.ignoreSurroundingSpaces = ignoreSurroundingSpaces;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">commentStartCharacter</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">escapeCharacter</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">quoteCharacter</span>;
    }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException("No quotes mode set but no escape character is set");
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>        if (isLineBreak(quoteChar)) {
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.quoteChar = mapNullToDisabled(format.<span style="color: green; font-weight: bold;">getQuoteCharacter</span>());
        this.commentStart = mapNullToDisabled(format.<span style="color: green; font-weight: bold;">getCommentStartCharacter</span>());
        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            .withRecordSeparator(LF);
</p></li>
<p>        this.quoteMode = quoteMode;
</p></li>
<p>        this.<span style="color: purple; font-weight: bold;">escape</span> = escape;
        this.ignoreSurroundingSpaces = ignoreSurroundingSpaces;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">commentStart</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">escape</span>;
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">quoteChar</span>;
    }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException("No quotes mode set but no escape character is set");
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>        if (isLineBreak(quoteChar)) {
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.quoteChar = mapNullToDisabled(format.<span style="color: green; font-weight: bold;">getQuoteChar</span>());
        this.commentStart = mapNullToDisabled(format.<span style="color: green; font-weight: bold;">getCommentStart</span>());
        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
</li>
</ul>
<h2>Commit: 086f434</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>    public boolean <span style="color: green; font-weight: bold;">getIgnoreTrailingWhitespaces</span>() { return this.<span style="color: purple; font-weight: bold;">ignoreTrailingWhitespaces</span>; }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 67d150a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        this.escapeCharacter = escape;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">commentMarker</span>;
    }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        this.escapeCharacter = escape;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">commentStartCharacter</span>;
    }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>            throw new IllegalArgumentException(
</p></li>
<p>        }
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
</li>
</ul>
<h2>Commit: a72c71f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            final Character escape, final boolean ignoreSurroundingSpaces,
</p></li>
<p>        this.commentStart = commentStart;
</p></li>
<p>            throw new IllegalArgumentException("No quotes mode set but no escape character is set");
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/QuoteMode.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            final Character escape, final boolean ignoreSurroundingSpaces,
</p></li>
<p>        this.commentStart = commentStart;
</p></li>
<p>            throw new IllegalArgumentException("No quotes mode set but no escape character is set");
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, recordSeparator, nullString, header, skipHeaderRecord,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Quote.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: aa0762d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.ignoreEmptyLines = ignoreEmptyLines;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">allowMissingColumnNames</span>;
    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.ignoreEmptyLines = ignoreEmptyLines;
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ignoreEmptyHeaders</span>;
    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
</ul>
<h2>Commit: 3cd5067</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    }
</p></li>
<p>        if (quoteChar != null && delimiter == quoteChar.charValue()) {
</p></li>
<p>                    "The quoteChar character and the delimiter cannot be the same ('" + quoteChar + "')");
</p></li>
<p>                    "The escape character and the delimiter cannot be the same ('" + escape + "')");
</p></li>
<p>                    "The comment start character and the delimiter cannot be the same ('" + commentStart + "')");
</p></li>
<p>                    "The comment start character and the quoteChar cannot be the same ('" + commentStart + "')");
</p></li>
<p>                    "The comment start and the escape character cannot be the same ('" + commentStart + "')");
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (quoteChar != null && delimiter == quoteChar.charValue()) {
</p></li>
<p>                    "The quoteChar character and the delimiter cannot be the same ('" + quoteChar + "')");
</p></li>
<p>                    "The escape character and the delimiter cannot be the same ('" + escape + "')");
</p></li>
<p>                    "The comment start character and the delimiter cannot be the same ('" + commentStart + "')");
</p></li>
<p>                    "The comment start character and the quoteChar cannot be the same ('" + commentStart + "')");
</p></li>
<p>                    "The comment start and the escape character cannot be the same ('" + commentStart + "')");
</p></li>
<p>        }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.format = format;
</p></li>
</li>
</ul>
<h2>Commit: c1049b5</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            for (final String hdr : header) {
                if (!dupCheck.add(hdr)) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            for (String hdr : header) {
                if (!dupCheck.add(hdr)) {
</p></li>
</li>
</ul>
<h2>Commit: 35d101c</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        	this.<span style="color: purple; font-weight: bold;">header</span> = null;
        } else {
        	Set&lt;String&gt; <span style="color: purple; font-weight: bold;">dupCheck</span> = new HashSet&lt;String&gt;();
        	for(String <span style="color: purple; font-weight: bold;">hdr</span> : <span style="color: purple; font-weight: bold;">header</span>) {
        		if (!<span style="color: purple; font-weight: bold;">dupCheck</span>.<span style="color: green; font-weight: bold;">add</span>(<span style="color: purple; font-weight: bold;">hdr</span>)) {
        			throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(&quot;The header contains a duplicate entry: &#x27;&quot; + <span style="color: purple; font-weight: bold;">hdr</span> + &quot;&#x27; in &quot; + <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">toString</span>(<span style="color: purple; font-weight: bold;">header</span>));
        		}
        	}
            this.header = header.clone();        	
        }
        this.skipHeaderRecord = skipHeaderRecord;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        this.skipHeaderRecord = skipHeaderRecord;
</p></li>
<p>            final Set&lt;String&gt; <span style="color: purple; font-weight: bold;">set</span> = new HashSet&lt;String&gt;(header.length);
            <span style="color: purple; font-weight: bold;">set</span>.<span style="color: green; font-weight: bold;">addAll</span>(<span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: purple; font-weight: bold;">header</span>));
            if (<span style="color: purple; font-weight: bold;">set</span>.<span style="color: green; font-weight: bold;">size</span>() != header.length) {
                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>("The header contains duplicate names: " + Arrays.toString(header));
            }
        }
    }
</p></li>
</li>
</ul>
<h2>Commit: 692a1e3</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            final Quote quotePolicy, final Character commentStart,
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    CSVFormat(final char delimiter, final Character quoteChar,
            final Quote quotePolicy, final Character commentStart,
</p></li>
</li>
</ul>
<h2>Commit: 5a0894f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.header = header == null ? null : header.clone();
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">nullString</span>;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.headerMap = initializeHeader();
    }
</p></li>
<p>        Map<String, Integer> hdrMap = null;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.header = header == null ? null : header.clone();
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">nullToString</span>;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
<p>        Map<String, Integer> hdrMap = null;
</p></li>
</li>
</ul>
<h2>Commit: ab2e7eb</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
</li>
</ul>
<h2>Commit: 75b9a4b</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
<p>        this.header = header == null ? null : header.clone();
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">nullToString</span>;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (isLineBreak(delimiter)) {
</p></li>
</li>
</ul>
<h2>Commit: db11c04</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    @<span style="color: purple; font-weight: bold;">Override</span>
    public int <span style="color: green; font-weight: bold;">hashCode</span>()
    {
        final int <span style="color: purple; font-weight: bold;">prime</span> = 31;
        int <span style="color: purple; font-weight: bold;">result</span> = 1;

        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + <span style="color: purple; font-weight: bold;">delimiter</span>;
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + ((<span style="color: purple; font-weight: bold;">quotePolicy</span> == null) ? 0 : <span style="color: purple; font-weight: bold;">quotePolicy</span>.<span style="color: green; font-weight: bold;">hashCode</span>());
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + ((<span style="color: purple; font-weight: bold;">quoteChar</span> == null) ? 0 : <span style="color: purple; font-weight: bold;">quoteChar</span>.<span style="color: green; font-weight: bold;">hashCode</span>());
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + ((<span style="color: purple; font-weight: bold;">commentStart</span> == null) ? 0 : <span style="color: purple; font-weight: bold;">commentStart</span>.<span style="color: green; font-weight: bold;">hashCode</span>());
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + ((<span style="color: purple; font-weight: bold;">escape</span> == null) ? 0 : <span style="color: purple; font-weight: bold;">escape</span>.<span style="color: green; font-weight: bold;">hashCode</span>());
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + (<span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span> ? 1231 : 1237);
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + (<span style="color: purple; font-weight: bold;">ignoreEmptyLines</span> ? 1231 : 1237);
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + ((<span style="color: purple; font-weight: bold;">recordSeparator</span> == null) ? 0 : <span style="color: purple; font-weight: bold;">recordSeparator</span>.<span style="color: green; font-weight: bold;">hashCode</span>());
        <span style="color: purple; font-weight: bold;">result</span> = <span style="color: purple; font-weight: bold;">prime</span> * <span style="color: purple; font-weight: bold;">result</span> + <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">hashCode</span>(<span style="color: purple; font-weight: bold;">header</span>);
        return <span style="color: purple; font-weight: bold;">result</span>;
    }

</p></li>
<p>         *            the quote policy
</p></li>
<p>                        boolean ignoreSurroundingSpaces, final boolean ignoreEmptyLines, final String lineSeparator,
                final String[] header) {
</p></li>
<p>        /**
</p></li>
<p>         * Creates a CSVFormatBuilder, using the values of the given CSVFormat.
</p></li>
<p>         * @param format
</p></li>
<p>         * @param delimiter
         *            the char used for value separation, must not be a line break character
</p></li>
<p>         * @throws IllegalStateException
</p></li>
<p>                        "')");
</p></li>
<p>                        "')");
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    public static class CSVFormatBuilder {
</p></li>
<p>         *            the quote policy
</p></li>
<p>                        boolean ignoreSurroundingSpaces, final boolean ignoreEmptyLines, final String lineSeparator, 
                final String[] header) {
</p></li>
<p>        /**
</p></li>
<p>         * Creates a CSVFormatBuilder, using the values of the given CSVFormat.
</p></li>
<p>         * @param format
</p></li>
<p>         * @param delimiter<span style="color: blue; font-weight: bold;"> </span>
         *            the char used for value separation, must not be a line break character
</p></li>
<p>         * @throws IllegalStateException
</p></li>
<p>                        "')");
</p></li>
<p>                        "')");
</p></li>
</li>
</ul>
<h2>Commit: 6a34b82</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    public static class <span style="color: red; font-weight: bold;">CSVFormatBuilder</span> {

        private char <span style="color: purple; font-weight: bold;">delimiter</span>;
        private Character <span style="color: purple; font-weight: bold;">quoteChar</span>;
        private Quote <span style="color: purple; font-weight: bold;">quotePolicy</span>;
        private Character <span style="color: purple; font-weight: bold;">commentStart</span>;
        private Character <span style="color: purple; font-weight: bold;">escape</span>;
        private boolean <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>; <span style="color: blue; font-weight: bold;">// Should leading/trailing spaces be ignored around values?</span>
        private boolean <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
        private String <span style="color: purple; font-weight: bold;">recordSeparator</span>; <span style="color: blue; font-weight: bold;">// for outputs</span>
        private String[] <span style="color: purple; font-weight: bold;">header</span>;

        <span style="color: blue; font-weight: bold;">/**
         * Creates a customized CSV format.
         *
         * @param delimiter
         *            the char used for value separation, must not be a line break character
         * @param quoteChar
         *            the char used as value encapsulation marker
         * @param quotePolicy 
         *            the quote policy
         * @param commentStart
         *            the char used for comment identification
         * @param escape
         *            the char used to escape special characters in values
         * @param ignoreSurroundingSpaces
         *            &lt;tt&gt;true&lt;/tt&gt; when whitespaces enclosing values should be ignored
         * @param ignoreEmptyLines
         *            &lt;tt&gt;true&lt;/tt&gt; when the parser should skip empty lines
         * @param recordSeparator
         *            the line separator to use for output
         * @param header
         *            the header
         * @throws IllegalArgumentException if the delimiter is a line break character
         */</span>
        <span style="color: blue; font-weight: bold;">// package protected for use by test code</span>
        <span style="color: green; font-weight: bold;">CSVFormatBuilder</span>(final char <span style="color: purple; font-weight: bold;">delimiter</span>, final Character <span style="color: purple; font-weight: bold;">quoteChar</span>, final Quote <span style="color: purple; font-weight: bold;">quotePolicy</span>, final Character <span style="color: purple; font-weight: bold;">commentStart</span>, final Character <span style="color: purple; font-weight: bold;">escape</span>, final 
                        boolean <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, final boolean <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, final String <span style="color: purple; font-weight: bold;">lineSeparator</span>, 
                final String[] <span style="color: purple; font-weight: bold;">header</span>) {
            if (<span style="color: green; font-weight: bold;">isLineBreak</span>(<span style="color: purple; font-weight: bold;">delimiter</span>)) {
                throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(&quot;The delimiter cannot be a line break&quot;);
            }
            this.<span style="color: purple; font-weight: bold;">delimiter</span> = <span style="color: purple; font-weight: bold;">delimiter</span>;
            this.<span style="color: purple; font-weight: bold;">quoteChar</span> = <span style="color: purple; font-weight: bold;">quoteChar</span>;
            this.<span style="color: purple; font-weight: bold;">quotePolicy</span> = <span style="color: purple; font-weight: bold;">quotePolicy</span>;
            this.<span style="color: purple; font-weight: bold;">commentStart</span> = <span style="color: purple; font-weight: bold;">commentStart</span>;
            this.<span style="color: purple; font-weight: bold;">escape</span> = <span style="color: purple; font-weight: bold;">escape</span>;
            this.<span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span> = <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>;
            this.<span style="color: purple; font-weight: bold;">ignoreEmptyLines</span> = <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
            this.<span style="color: purple; font-weight: bold;">recordSeparator</span> = <span style="color: purple; font-weight: bold;">lineSeparator</span>;
            this.<span style="color: purple; font-weight: bold;">header</span> = <span style="color: purple; font-weight: bold;">header</span>;
        }

        <span style="color: blue; font-weight: bold;">/**
         * Creates a basic CSVFormatBuilder.
         * 
         * @param delimiter 
         *            the char used for value separation, must not be a line break character
         * @throws IllegalArgumentException if the delimiter is a line break character
         */</span>
        private <span style="color: green; font-weight: bold;">CSVFormatBuilder</span>(char <span style="color: purple; font-weight: bold;">delimiter</span>){
            this(<span style="color: purple; font-weight: bold;">delimiter</span>, null, null, null, null, false, false, null, null);
        }

        public CSVFormat <span style="color: green; font-weight: bold;">build</span>() {
            <span style="color: green; font-weight: bold;">validate</span>();
            return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                                 <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
        }
        
</p></li>
<p><span style="color: blue; font-weight: bold;">         * Verifies the consistency of the parameters and throws an IllegalStateException if necessary.
         * 
         * @throws IllegalStateException
         */</span>
        private void <span style="color: green; font-weight: bold;">validate</span>() throws IllegalStateException {
            if (<span style="color: purple; font-weight: bold;">quoteChar</span> != null &amp;&amp; <span style="color: purple; font-weight: bold;">delimiter</span> == <span style="color: purple; font-weight: bold;">quoteChar</span>.<span style="color: green; font-weight: bold;">charValue</span>()) {
                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The quoteChar character and the delimiter cannot be the same (&#x27;&quot; + <span style="color: purple; font-weight: bold;">quoteChar</span> + "')");
            }
        
</p></li>
<p>                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The escape character and the delimiter cannot be the same (&#x27;&quot; + <span style="color: purple; font-weight: bold;">escape</span> + "')");
            }
        
</p></li>
<p>                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The comment start character and the delimiter cannot be the same (&#x27;&quot; + <span style="color: purple; font-weight: bold;">commentStart</span> + 
                        "')");
            }
        
</p></li>
<p>                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The comment start character and the quoteChar cannot be the same (&#x27;&quot; + <span style="color: purple; font-weight: bold;">commentStart</span> + 
                        "')");
            }
        
</p></li>
<p>                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The comment start and the escape character cannot be the same (&#x27;&quot; + <span style="color: purple; font-weight: bold;">commentStart</span> + "')");
            }
        
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>     * <span style="color: blue; font-weight: bold;">Returns a copy of this format using the specified output record separator.</span>
     *
     * @param recordSeparator
     *            the record separator to use for output.
     *
     * @return<span style="color: blue; font-weight: bold;"> A copy of this format using the specified output record separator</span>
     */
    public CSVFormat withRecordSeparator(final char recordSeparator) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>), <span style="color: purple; font-weight: bold;">header</span>);
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a copy of this format using the specified output record separator.
     *
     * @param recordSeparator
     *            the record separator to use for output.
     *
     * @return A copy of this format using the specified output record separator
     */</span>
    public CSVFormat <span style="color: green; font-weight: bold;">withRecordSeparator</span>(final String <span style="color: purple; font-weight: bold;">recordSeparator</span>) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

    /**
     * <span style="color: blue; font-weight: bold;">Returns a copy of this format using the specified output quote policy.</span>
     *
     * @param quotePolicy
     *            the quote policy to use for output.
     *
     * @return<span style="color: blue; font-weight: bold;"> A copy of this format using the specified output line separator</span>
     */
    public CSVFormat withQuotePolicy(final Quote quotePolicy) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">quoteChar</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">recordSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }

    String[] getHeader() {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.lexer = new CSVLexer(format, new ExtendedBufferedReader(input));
</p></li>
</li>
</ul>
<h2>Commit: 0030e1a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, String.valueOf(lineSeparator), header);
    }
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, lineSeparator, header);
    }

    <span style="color: blue; font-weight: bold;">/**
     * Returns a copy of this format using the specified output quote policy.
     *
     * @param quotePolicy
     *            the quote policy to be used for output.
     *
     * @return A copy of this format using the specified output line separator
     */</span>
    public CSVFormat <span style="color: green; font-weight: bold;">withQuotePolicy</span>(final Quote <span style="color: purple; font-weight: bold;">quotePolicy</span>) {
        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">encapsulator</span>, <span style="color: purple; font-weight: bold;">quotePolicy</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>,
                <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>, <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">lineSeparator</span>, <span style="color: purple; font-weight: bold;">header</span>);
    }
</p></li>
<p><span style="color: blue; font-weight: bold;">     */</span>
    public Quote <span style="color: green; font-weight: bold;">getQuotePolicy</span>() {
        return <span style="color: purple; font-weight: bold;">quotePolicy</span>;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>                ignoreEmptyLines, String.valueOf(lineSeparator), header);
    }
</p></li>
<p>                ignoreEmptyLines, lineSeparator, header);
    }
</p></li>
</li>
</ul>
<h2>Commit: 4695d73</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return allowMissingColumnNames;
</p></li>
<p>        return ignoreEmptyLines;
</p></li>
<p>        return ignoreSurroundingSpaces;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    this.nextRecord();
</p></li>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreEmptyLines = format.<span style="color: green; font-weight: bold;">getIgnoreEmptyLines</span>();
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return allowMissingColumnNames;
</p></li>
<p>        return ignoreEmptyLines;
</p></li>
<p>        return ignoreSurroundingSpaces;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    this.nextRecord();
</p></li>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreEmptyLines = format.<span style="color: green; font-weight: bold;">isIgnoringEmptyLines</span>();
    }
</p></li>
</li>
</ul>
<h2>Commit: f51f898</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return ignoreEmptyHeaders;
</p></li>
<p>        return ignoreEmptyLines;
</p></li>
<p>        return ignoreSurroundingSpaces;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    this.nextRecord();
</p></li>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreEmptyLines = format.<span style="color: green; font-weight: bold;">isIgnoringEmptyLines</span>();
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return ignoreEmptyHeaders;
</p></li>
<p>        return ignoreEmptyLines;
</p></li>
<p>        return ignoreSurroundingSpaces;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    this.nextRecord();
</p></li>
<p>                        throw new IllegalArgumentException("The header contains a duplicate name: \"" + header +
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreEmptyLines = format.<span style="color: green; font-weight: bold;">getIgnoreEmptyLines</span>();
    }
</p></li>
</li>
</ul>
<h2>Commit: e28d4e9</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">         * Builds a new CSVFormat configured with the values from this builder.
         * 
         * @return a new CSVFormat
         */</span>
        public CSVFormat build() {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>         * Creates a CSVFormatBuilder, using the values of the given CSVFormat.
</p></li>
</li>
</ul>
<h2>Commit: 71a6570</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            this(format.delimiter, format.quoteChar, format.quotePolicy,
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            this(format.delimiter, format.quoteChar, format.quotePolicy,
</p></li>
</li>
</ul>
<h2>Commit: 713e9c5</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">// package protected to give access without needing a synthetic accessor</span>
        CSVFormatBuilder(CSVFormat format) {
            this(format.delimiter, format.quoteChar, format.quotePolicy,
</p></li>
<p>        CSVFormatBuilder(final char delimiter){
            this(delimiter, null, null, null, null, false, false, null, null);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            this(format.delimiter, format.quoteChar, format.quotePolicy,
</p></li>
<p>            this(delimiter, null, null, null, null, false, false, null, null);
</p></li>
</li>
</ul>
<h2>Commit: 0383fd5</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        <span style="color: blue; font-weight: bold;">/**
         * 
         * Creates a CSVFormatBuilder, using the values of the given CSVFormat.
         * 
         * @param format
         *            The format to use values from
         */</span>
        private <span style="color: green; font-weight: bold;">CSVFormatBuilder</span>(CSVFormat <span style="color: purple; font-weight: bold;">format</span>) {
            this(format.delimiter, format.quoteChar, format.quotePolicy,
                    format.commentStart, format.escape,
                    format.ignoreSurroundingSpaces, format.ignoreEmptyLines,
                    format.recordSeparator, format.header);
        }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 68352ee</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            this(delimiter, null, null, null, null, false, false, null, null);
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.recordNumber = recordNumber;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>            this(delimiter, null, null, null, null, false, false, null, null);
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.recordNumber = recordNumber;
</p></li>
</li>
</ul>
<h2>Commit: df08aca</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">         * &lt;pre&gt;format.build().parse(in);&lt;/pre&gt;
         *
         * @param in
         *            the input stream
         * @return a CSVRecord stream
         * @throws IOException
         */</span>
        public Iterable&lt;CSVRecord&gt; <span style="color: green; font-weight: bold;">parse</span>(final Reader <span style="color: purple; font-weight: bold;">in</span>) throws IOException {
            return this.<span style="color: green; font-weight: bold;">build</span>().<span style="color: green; font-weight: bold;">parse</span>(<span style="color: purple; font-weight: bold;">in</span>);
        }

</p></li>
<p>         * Verifies the consistency of the parameters and throws an IllegalStateException if necessary.
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 390800f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">header</span> != null ? <span style="color: purple; font-weight: bold;">header</span>.<span style="color: green; font-weight: bold;">clone</span>() : null;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        if (<span style="color: purple; font-weight: bold;">formatHeader</span> != null) {
            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
<p>                // read the header from the first line of the file
</p></li>
<p>            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">header</span>;
    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
<p>                // read the header from the first line of the file
</p></li>
<p>            }
</p></li>
</li>
</ul>
<h2>Commit: 9631efe</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return c == LF || c == CR;
</p></li>
<p>        return c != null && isLineBreak(c.charValue());
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    static boolean isLineBreak(final char c) {
        return c == LF || c == CR;
</p></li>
<p>    static boolean isLineBreak(final Character c) {
        return c != null && isLineBreak(c.charValue());
</p></li>
</li>
</ul>
<h2>Commit: 73ec29f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">recordSeparator</span>;
    }
</p></li>
<p>     *
</p></li>
<p>     *            <span style="color: blue; font-weight: bold;">the record separator to use for output.</span>
     *
</p></li>
<p>     */
</p></li>
<p>        return new CSVFormat(delimiter, quoteChar, quotePolicy, commentStart, escape,
</p></li>
<p>    }
</p></li>
<p>     *
</p></li>
<p>     *            <span style="color: blue; font-weight: bold;">the record separator to use for output.</span>
     *
</p></li>
<p>     */
</p></li>
<p>        return new CSVFormat(delimiter, quoteChar, quotePolicy, commentStart, escape,
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return <span style="color: purple; font-weight: bold;">lineSeparator</span>;
    }
</p></li>
<p>     *
</p></li>
<p>     *            <span style="color: blue; font-weight: bold;">the line separator to use for output.</span>
     *
</p></li>
<p>     */
</p></li>
<p>        return new CSVFormat(delimiter, quoteChar, quotePolicy, commentStart, escape,
</p></li>
<p>    }
</p></li>
<p>     *
</p></li>
<p>     *            <span style="color: blue; font-weight: bold;">the line separator to use for output.</span>
     *
</p></li>
<p>     */
</p></li>
<p>        return new CSVFormat(delimiter, quoteChar, quotePolicy, commentStart, escape,
</p></li>
<p>    }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 6e57364</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, String.valueOf(lineSeparator), header);
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, lineSeparator, header);
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, lineSeparator, header);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, String.valueOf(lineSeparator), header);
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, lineSeparator, header);
</p></li>
<p>                ignoreSurroundingSpaces, ignoreEmptyLines, lineSeparator, header);
</p></li>
</li>
</ul>
<h2>Commit: 53fd86d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return new <span style="color: red; font-weight: bold;">CSVFormat</span>(<span style="color: purple; font-weight: bold;">delimiter</span>, <span style="color: purple; font-weight: bold;">encapsulator</span>, <span style="color: purple; font-weight: bold;">commentStart</span>, <span style="color: purple; font-weight: bold;">escape</span>, <span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span>,
                <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>, <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">lineSeparator</span>), <span style="color: purple; font-weight: bold;">header</span>);
    }

    /**
     * Returns a copy of this format using the specified output line separator.
     *
     * @param lineSeparator
     *            the line separator to be used for output.
     *
     * @return A copy of this format using the specified output line separator
     */
    public CSVFormat withLineSeparator(final String lineSeparator) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 6ab9b46</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return new CSVFormat(delimiter, encapsulator, commentStart, escape, ignoreSurroundingSpaces,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        format.validate();
</p></li>
<p>        this(new StringReader(input), format);
</p></li>
<p>        Map<String, Integer> hdrMap = null;
</p></li>
<p>                if (rec != null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(r);
</p></li>
<p>        if (current == CR || (current == LF && lastChar != CR)) {
</p></li>
<p>        super.reset();
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
<p>
</p></li>
<p>            token.content.append(comment);
</p></li>
<p>        // Faster to use while(true)+break than while(tkn.type == INVALID)
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        return new CSVFormat(delimiter, encapsulator, commentStart, escape, ignoreSurroundingSpaces,
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        format.validate();
</p></li>
<p>        this(new StringReader(input), format);
</p></li>
<p>        Map<String, Integer> hdrMap = null;
</p></li>
<p>                if (rec != null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(r);
</p></li>
<p>        if (current == CR || (current == LF && lastChar != CR)) {
</p></li>
<p>        super.reset();
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
<p>
</p></li>
<p>            token.content.append(comment);
</p></li>
<p>        // Faster to use while(true)+break than while(tkn.type == INVALID)
</p></li>
</li>
</ul>
<h2>Commit: 43b777b</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">printerNewline</span> = <span style="color: purple; font-weight: bold;">newline</span>;
    }

    public String getPrinterNewline() {
</p></li>
</li>
</ul>
<h2>Commit: 02b2146</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVStrategy.java:</strong><br>
<p>      this.<span style="color: purple; font-weight: bold;">printerNewline</span> = <span style="color: purple; font-weight: bold;">newline</span>;
    }
    public String <span style="color: green; font-weight: bold;">getPrinterNewline</span>() {
      return this.<span style="color: purple; font-weight: bold;">printerNewline</span>;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  private CSVStrategy strategy;
  
</p></li>
</li>
</ul>
<h2>Commit: 15b4e3f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>    static boolean isLineBreak(final Character c) {
        return c != null && isLineBreak(c.charValue());
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: bb54feb</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if(<span style="color: purple; font-weight: bold;">recordSeparator</span> != null &amp;&amp;
                !(<span style="color: purple; font-weight: bold;">CRLF</span>.<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>) ||
                        <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">CR</span>).<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>) ||
                        <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">LF</span>).<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>))) {
            throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>("Record separator can only by CR, LF or CRLF");
        }
    }
</p></li>
</li>
</ul>
<h2>Commit: 43560d9</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>                &amp;&amp; !(<span style="color: purple; font-weight: bold;">CRLF</span>.<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>)
                    || <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">CR</span>).<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>)
                    || <span style="color: purple; font-weight: bold;">String</span>.<span style="color: green; font-weight: bold;">valueOf</span>(<span style="color: purple; font-weight: bold;">LF</span>).<span style="color: green; font-weight: bold;">equals</span>(<span style="color: purple; font-weight: bold;">recordSeparator</span>))) {
            throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>("Record separator can only by CR, LF or CRLF");
        }
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: fcc0d15</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (header != null) {
</p></li>
<p>            set.addAll(Arrays.asList(header));
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        if (formatHeader != null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (line == null) {
</p></li>
<p>            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (header != null) {
</p></li>
<p>            set.addAll(Arrays.asList(header));
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        if (formatHeader != null) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (line == null) {
</p></li>
<p>            }
</p></li>
</li>
</ul>
<h2>Commit: f881372</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVFormat.java:</strong><br>
<p>        if (<span style="color: purple; font-weight: bold;">header</span> != null) {
            Set&lt;String&gt; <span style="color: purple; font-weight: bold;">set</span> = new <span style="color: red; font-weight: bold;">HashSet&lt;String&gt;</span>(header.length);
            <span style="color: purple; font-weight: bold;">set</span>.<span style="color: green; font-weight: bold;">addAll</span>(<span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">asList</span>(<span style="color: purple; font-weight: bold;">header</span>));
            if (<span style="color: purple; font-weight: bold;">set</span>.<span style="color: green; font-weight: bold;">size</span>() != header.length) {
                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The header contains duplicate names: &quot; + <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">toString</span>(<span style="color: purple; font-weight: bold;">header</span>));
            }
        }
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 61fdb7a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
<p>        final String input = reusableToken.content.toString();
        final String nullString = this.format.getNullString();
        if (nullString == null) {
            record.add(input);
        } else {
            record.add(input.equalsIgnoreCase(nullString) ? null : input);
        }}

</p></li>
<p>        CSVRecord result = null;
        record.clear();
        StringBuilder sb = null;
        do {
            reusableToken.reset();
            lexer.nextToken(reusableToken);
            switch (reusableToken.type) {
            case TOKEN:
                this.addRecordValue();
                break;
            case EORECORD:
                this.addRecordValue();
                break;
            case EOF:
                if (reusableToken.isReady) {
                    this.addRecordValue();
                }
                break;
            case INVALID:
                throw new IOException("(line " + getCurrentLineNumber() + ") invalid parse sequence");
            case COMMENT: // Ignored currently
                if (sb == null) { // first comment for this record
                    sb = new StringBuilder();
                } else {
                    sb.append(Constants.LF);
                }
                sb.append(reusableToken.content);
                reusableToken.type = TOKEN; // Read another token
                break;
            }
        } while (reusableToken.type == TOKEN);

        if (!record.isEmpty()) {
            recordNumber++;
            final String comment = sb == null ? null : sb.toString();
            result = new CSVRecord(record.toArray(new String[record.size()]), headerMap, comment, this.recordNumber);
        }
        return result;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>		return lexer.isClosed();
	}

</p></li>
</li>
</ul>
<h2>Commit: 415218f</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    /** Token type, see TT_xxx constants. */
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    /** Token type, see TT_xxx constants. */
</p></li>
</li>
</ul>
<h2>Commit: 68e75ee</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
<p>  private CSVStrategy strategy;
</p></li>
<p>  private final Token reusableToken = new Token();
  private final CharBuffer wsBuf = new CharBuffer();
  private final CharBuffer code = new CharBuffer(4);

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
<p>  private Token reusableToken = new Token();
  private CharBuffer wsBuf = new CharBuffer();
  private CharBuffer code = new CharBuffer(4);

</p></li>
</li>
</ul>
<h2>Commit: d7e9458</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  <span style="color: blue; font-weight: bold;">/** Immutable empty String array. */</span>
  private static final String[] <span style="color: purple; font-weight: bold;">EMPTY_STRING_ARRAY</span> = new String[0];
   
</p></li>
<p>  <span style="color: blue; font-weight: bold;">/** A record buffer for getLine(). Grows as necessary and is reused. */</span>
  private ArrayList <span style="color: purple; font-weight: bold;">record</span> = new <span style="color: red; font-weight: bold;">ArrayList</span>();
  private Token <span style="color: purple; font-weight: bold;">reusableToken</span> = new <span style="color: red; font-weight: bold;">Token</span>();
  private CharBuffer <span style="color: purple; font-weight: bold;">wsBuf</span> = new <span style="color: red; font-weight: bold;">CharBuffer</span>();
  private CharBuffer <span style="color: purple; font-weight: bold;">code</span> = new <span style="color: red; font-weight: bold;">CharBuffer</span>(4);

  
  /**
</p></li>
<p>    /** The content buffer. */
</p></li>
<p>    /** Token ready flag: indicates a valid token with content (ready for the parser). */
</p></li>
<p>    Token <span style="color: green; font-weight: bold;">reset</span>() {
        <span style="color: purple; font-weight: bold;">content</span>.<span style="color: green; font-weight: bold;">clear</span>();
        type = TT_INVALID;
        isReady = false;
        return this;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>  }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    /** The content buffer. */
</p></li>
<p>    /** Token ready flag: indicates a valid token with content (ready for the parser). */
</p></li>
<p>    <span style="color: green; font-weight: bold;">Token</span>() {
      <span style="color: purple; font-weight: bold;">content</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>(<span style="color: purple; font-weight: bold;">INITIAL_TOKEN_LENGTH</span>);
      type = TT_INVALID;
      isReady = false;
    }
</p></li>
</li>
<li><strong>src/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>  }
</p></li>
</li>
</ul>
<h2>Commit: f047581</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>  protected static final int TT_INVALID = -1;
</p></li>
<p>  protected static final int TT_TOKEN = 0;
</p></li>
<p>  protected static final int TT_EOF = 1;
</p></li>
<p>  protected static final int TT_EORECORD = 2;
</p></li>
<p>    int type;
</p></li>
<p>    StringBuffer content;
</p></li>
<p>    boolean isReady;
</p></li>
<p>    Token() {
</p></li>
<p>   */
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    int type;
</p></li>
<p>    StringBuffer content;
</p></li>
<p>    boolean isReady;
</p></li>
<p>   */
</p></li>
</li>
</ul>
<h2>Commit: e23e79e</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/ch/netcetera/wake/core/format/csv/CSVParser.java:</strong><br>
<p>  private static final int <span style="color: purple; font-weight: bold;">INITIAL_TOKEN_LENGTH</span> = 50;
  
  <span style="color: blue; font-weight: bold;">// the token types</span>
  protected static final int <span style="color: purple; font-weight: bold;">TT_INVALID</span> = -1;
  protected static final int <span style="color: purple; font-weight: bold;">TT_TOKEN</span> = 0;
  protected static final int <span style="color: purple; font-weight: bold;">TT_EOF</span> = 1;
  protected static final int <span style="color: purple; font-weight: bold;">TT_EORECORD</span> = 2;
   
  <span style="color: blue; font-weight: bold;">// the csv definition</span>
  private char <span style="color: purple; font-weight: bold;">delimiter</span>;
  private char <span style="color: purple; font-weight: bold;">encapsulator</span>;
  private char <span style="color: purple; font-weight: bold;">commentStart</span>;
  private boolean <span style="color: purple; font-weight: bold;">ignoreLeadingWhitespaces</span>;
  private boolean <span style="color: purple; font-weight: bold;">interpretUnicodeEscapes</span>;
  private boolean <span style="color: purple; font-weight: bold;">ignoreEmptyLines</span>;
  
  <span style="color: blue; font-weight: bold;">// the input stream</span>
  private ExtendedBufferedReader <span style="color: purple; font-weight: bold;">in</span>;
  
  <span style="color: blue; font-weight: bold;">/**
   * Token is an internal token representation.
   * 
   * It is used as contract between the lexer and the parser. 
   */</span>
  class <span style="color: red; font-weight: bold;">Token</span> {
    <span style="color: blue; font-weight: bold;">// token type see TT_xxx constants</span>
    int <span style="color: purple; font-weight: bold;">type</span>;
    <span style="color: blue; font-weight: bold;">// the content buffer</span>
    StringBuffer <span style="color: purple; font-weight: bold;">content</span>;
    <span style="color: blue; font-weight: bold;">// token ready flag: indicates a valid token (ready for the parser)</span>
    boolean <span style="color: purple; font-weight: bold;">isReady</span>;
    <span style="color: green; font-weight: bold;">Token</span>() {
      <span style="color: purple; font-weight: bold;">content</span> = new <span style="color: red; font-weight: bold;">StringBuffer</span>(<span style="color: purple; font-weight: bold;">INITIAL_TOKEN_LENGTH</span>);
      <span style="color: purple; font-weight: bold;">type</span> = <span style="color: purple; font-weight: bold;">TT_INVALID</span>;
      <span style="color: purple; font-weight: bold;">isReady</span> = false;
    }
</p></li>
<p>      <span style="color: purple; font-weight: bold;">ret</span> = new String[records.<span style="color: green; font-weight: bold;">size</span>()][];
      <span style="color: purple; font-weight: bold;">records</span>.<span style="color: green; font-weight: bold;">toArray</span>(<span style="color: purple; font-weight: bold;">ret</span>);
    }
    return <span style="color: purple; font-weight: bold;">ret</span>;
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Parses the CSV according to the given strategy
   * and returns the next csv-value as string.
   * 
   * @return next value in the input stream (&#x27;null&#x27; when end of file)
   * @throws IOException
   */</span>
  public String <span style="color: green; font-weight: bold;">nextValue</span>() throws IOException {
    Token <span style="color: purple; font-weight: bold;">tkn</span> = <span style="color: green; font-weight: bold;">nextToken</span>();
    String <span style="color: purple; font-weight: bold;">ret</span> = null;
    switch (tkn.type) {
      case <span style="color: purple; font-weight: bold;">TT_TOKEN</span>:
      case <span style="color: purple; font-weight: bold;">TT_EORECORD</span>: 
        <span style="color: purple; font-weight: bold;">ret</span> = tkn.content.<span style="color: green; font-weight: bold;">toString</span>();
        break;
      case <span style="color: purple; font-weight: bold;">TT_EOF</span>:
        <span style="color: purple; font-weight: bold;">ret</span> = null;
        break;
      case <span style="color: purple; font-weight: bold;">TT_INVALID</span>:
      default:
        <span style="color: blue; font-weight: bold;">// error no token available (or error)</span>
        throw new <span style="color: red; font-weight: bold;">IOException</span>(
          &quot;(line &quot; + <span style="color: green; font-weight: bold;">getLineNumber</span>() 
          + &quot;) invalid parse sequence&quot;);
        <span style="color: blue; font-weight: bold;">// unreachable: break;</span>
    }
</p></li>
</li>
<li><strong>src/java/ch/netcetera/wake/core/format/csv/ExtendedBufferedReader.java:</strong><br>
<p>    
  <span style="color: blue; font-weight: bold;">/**
   * Create extended buffered reader using the given buffer-size
   */</span>
  public <span style="color: green; font-weight: bold;">ExtendedBufferedReader</span>(Reader <span style="color: purple; font-weight: bold;">r</span>, int <span style="color: purple; font-weight: bold;">bufSize</span>) {
    super(<span style="color: purple; font-weight: bold;">r</span>, <span style="color: purple; font-weight: bold;">bufSize</span>);
    <span style="color: blue; font-weight: bold;">/* note uh: do not fetch the first char here,
     *          because this might block the method!
     */</span>
</p></li>
<p>  
  <span style="color: blue; font-weight: bold;">/**
   * Reads the next char from the input stream.
   * @return the next char or END_OF_STREAM if end of stream has been reached.
   */</span>
  public int <span style="color: green; font-weight: bold;">read</span>() throws IOException {
    <span style="color: blue; font-weight: bold;">// initalize the lookahead</span>
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
    }
    <span style="color: purple; font-weight: bold;">lastChar</span> = <span style="color: purple; font-weight: bold;">lookaheadChar</span>;
</p></li>
<p>      <span style="color: purple; font-weight: bold;">lineCounter</span>++;
    } 
    return <span style="color: purple; font-weight: bold;">lastChar</span>;
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Returns the last read character again.
   * 
   * @return the last read char or UNDEFINED
   */</span>
  public int <span style="color: green; font-weight: bold;">readAgain</span>() {
    return <span style="color: purple; font-weight: bold;">lastChar</span>;  
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Non-blocking reading of len chars into buffer buf starting
   * at bufferposition off.
   * 
   * performs an iteratative read on the underlying stream
   * as long as the following conditions hold:
   *   - less than len chars have been read
   *   - end of stream has not been reached
   *   - next read is not blocking
   * 
   * @return nof chars actually read or END_OF_STREAM
   */</span>
  public int <span style="color: green; font-weight: bold;">read</span>(char[] <span style="color: purple; font-weight: bold;">buf</span>, int <span style="color: purple; font-weight: bold;">off</span>, int <span style="color: purple; font-weight: bold;">len</span>) throws IOException {
    <span style="color: blue; font-weight: bold;">// do not claim if len == 0</span>
    if (<span style="color: purple; font-weight: bold;">len</span> == 0) {
      return 0;
    } 
    
    <span style="color: blue; font-weight: bold;">// init lookahead, but do not block !!</span>
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
        if (<span style="color: green; font-weight: bold;">ready</span>()) {
         <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
        } else {
          return -1;
        }
    }
    <span style="color: blue; font-weight: bold;">// &#x27;first read of underlying stream&#x27;</span>
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == -1) {
      return -1;
    }
    <span style="color: blue; font-weight: bold;">// continue until the lookaheadChar would block</span>
</p></li>
<p>    return <span style="color: purple; font-weight: bold;">ret</span>.<span style="color: green; font-weight: bold;">toString</span>();
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Skips char in the stream
   * 
   * ATTENTION: invalidates the line-counter !!!!!
   * 
   * @return nof skiped chars
   */</span>
  public long <span style="color: green; font-weight: bold;">skip</span>(long <span style="color: purple; font-weight: bold;">n</span>) throws IllegalArgumentException, IOException  {
    
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();   
    }
    
    <span style="color: blue; font-weight: bold;">// illegal argument</span>
    if (<span style="color: purple; font-weight: bold;">n</span> &lt; 0) {
      throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(&quot;negative argument not supported&quot;);  
    }
    
    <span style="color: blue; font-weight: bold;">// no skipping</span>
    if (<span style="color: purple; font-weight: bold;">n</span> == 0 || <span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">END_OF_STREAM</span>) {
      return 0;
    } 
    
    <span style="color: blue; font-weight: bold;">// skip and reread the lookahead-char</span>
    long <span style="color: purple; font-weight: bold;">skiped</span> = 0;
    if (<span style="color: purple; font-weight: bold;">n</span> &gt; 1) {
      <span style="color: purple; font-weight: bold;">skiped</span> = super.<span style="color: green; font-weight: bold;">skip</span>(<span style="color: purple; font-weight: bold;">n</span> - 1);
    }
    <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
    <span style="color: blue; font-weight: bold;">// fixme uh: we should check the skiped sequence for line-terminations...</span>
    <span style="color: purple; font-weight: bold;">lineCounter</span> = Integer.MIN_VALUE;
    return <span style="color: purple; font-weight: bold;">skiped</span> + 1;
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Skips all chars in the input until (but excluding) the given char
   * 
   * @param c
   * @return
   * @throws IllegalArgumentException
   * @throws IOException
   */</span>
  public long <span style="color: green; font-weight: bold;">skipUntil</span>(char <span style="color: purple; font-weight: bold;">c</span>) throws IllegalArgumentException, IOException {
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();   
    }
    long <span style="color: purple; font-weight: bold;">counter</span> = 0;
    while (<span style="color: purple; font-weight: bold;">lookaheadChar</span> != <span style="color: purple; font-weight: bold;">c</span> &amp;&amp; <span style="color: purple; font-weight: bold;">lookaheadChar</span> != <span style="color: purple; font-weight: bold;">END_OF_STREAM</span>) {
      if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == &#x27;\n&#x27;) {
        <span style="color: purple; font-weight: bold;">lineCounter</span>++;
      } 
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
      <span style="color: purple; font-weight: bold;">counter</span>++;
    }
    return <span style="color: purple; font-weight: bold;">counter</span>;
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Returns the next char in the stream without consuming it.
   * 
   * Remember the next char read by read(..) will always be
   * identical to lookAhead().
   * 
   * @return the next char (without consuming it) or END_OF_STREAM
   */</span>
  public int <span style="color: green; font-weight: bold;">lookAhead</span>() throws IOException {
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
    }
    return <span style="color: purple; font-weight: bold;">lookaheadChar</span>;
  }
  
  
  <span style="color: blue; font-weight: bold;">/**
   * Returns the nof line read
   * ATTENTION: the skip-method does invalidate the line-number counter
   * 
   * @return the current-line-number (or -1)
   */</span> 
  public int <span style="color: green; font-weight: bold;">getLineNumber</span>() {
    if (<span style="color: purple; font-weight: bold;">lineCounter</span> &gt; -1) {
      return <span style="color: purple; font-weight: bold;">lineCounter</span>;
    } else {
      return -1;
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 65f6f1d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.headerMap = this.initializeHeader();
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.in = in;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.headerMap = this.initializeHeader();
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        this.in = in;
</p></li>
</li>
</ul>
<h2>Commit: 6999746</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        return new <span style="color: red; font-weight: bold;">CSVParser</span>(new <span style="color: red; font-weight: bold;">StringReader</span>(<span style="color: purple; font-weight: bold;">string</span>), <span style="color: purple; font-weight: bold;">format</span>);
    }

</p></li>
<p>        format.validate();
</p></li>
<p>        this.headerMap = this.initializeHeader();
    }
</p></li>
<p>        final String nullString = this.format.getNullString();
</p></li>
<p>        } else {
</p></li>
<p>        }}
</p></li>
<p>            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
<p>                // read the header from the first line of the file
</p></li>
<p>                if (record != null) {
</p></li>
<p>            }
</p></li>
<p>        StringBuilder sb = null;
</p></li>
<p>            this.<span style="color: purple; font-weight: bold;">lexer</span>.<span style="color: green; font-weight: bold;">nextToken</span>(this.<span style="color: purple; font-weight: bold;">reusableToken</span>);
            switch (this.<span style="color: purple; font-weight: bold;">reusableToken</span>.<span style="color: purple; font-weight: bold;">type</span>) {
            case TOKEN:
</p></li>
<p>                    this.addRecordValue();
</p></li>
<p>            case COMMENT: // Ignored currently
</p></li>
<p>                this.<span style="color: purple; font-weight: bold;">reusableToken</span>.<span style="color: purple; font-weight: bold;">type</span> = <span style="color: purple; font-weight: bold;">TOKEN</span>; // Read another token
                break;
</p></li>
<p>
</p></li>
<p>            this.<span style="color: purple; font-weight: bold;">recordNumber</span>++;
            final String comment = sb == null ? null : sb.toString();
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        format.validate();
</p></li>
<p>        this.headerMap = initializeHeader();
    }

    /**
     * <span style="color: blue; font-weight: bold;">Customized CSV parser using the given {@link CSVFormat}</span>
     *
     * @param <span style="color: blue; font-weight: bold;">input</span>
     *            <span style="color: blue; font-weight: bold;">a String containing &quot;csv-formatted&quot; input</span>
     * @param format
     *            the CSVFormat used for CSV parsing
     * @throws IllegalArgumentException
     *             thrown if the parameters of the format are inconsistent
     * @throws IOException
     *             If an I/O error occurs
     */
    public <span style="color: green; font-weight: bold;">CSVParser</span>(final String <span style="color: purple; font-weight: bold;">input</span>, final CSVFormat format) throws IOException {
        this(new <span style="color: red; font-weight: bold;">StringReader</span>(<span style="color: purple; font-weight: bold;">input</span>), <span style="color: purple; font-weight: bold;">format</span>);
    }
</p></li>
<p>        final String nullString = this.format.getNullString();
</p></li>
<p>        } else {
</p></li>
<p>        }}
</p></li>
<p>            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
<p>                // read the header from the first line of the file
</p></li>
<p>                if (record != null) {
</p></li>
<p>            }
</p></li>
<p>        StringBuilder sb = null;
</p></li>
<p>            <span style="color: purple; font-weight: bold;">lexer</span>.<span style="color: green; font-weight: bold;">nextToken</span>(<span style="color: purple; font-weight: bold;">reusableToken</span>);
            switch (reusableToken.type) {
            case TOKEN:
</p></li>
<p>                    this.addRecordValue();
</p></li>
<p>            case COMMENT: // Ignored currently
</p></li>
<p>                reusableToken.type = <span style="color: purple; font-weight: bold;">TOKEN</span>; // Read another token
                break;
</p></li>
<p>
</p></li>
<p>            <span style="color: purple; font-weight: bold;">recordNumber</span>++;
            final String comment = sb == null ? null : sb.toString();
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h2>Commit: 473727b</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: d0035e6</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
<p>        Map&lt;String, Integer&gt; <span style="color: purple; font-weight: bold;">hdrMap</span> = null;
        if (format.getHeader() != null) {
</p></li>
<p>
</p></li>
<p>                }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
<p>        if (format.getHeader() != null) {
</p></li>
<p>
</p></li>
<p>                }
</p></li>
</li>
</ul>
<h2>Commit: a65806a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        
        if (format.isUnicodeEscapesInterpreted()) {
</p></li>
<p>     */
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: ca7bbae</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        this.format = format;
    }
</p></li>
</li>
</ul>
<h2>Commit: 00d0def</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            <span style="color: purple; font-weight: bold;">input</span> = new <span style="color: red; font-weight: bold;">UnicodeUnescapeReader</span>(<span style="color: purple; font-weight: bold;">input</span>);
        }
        
        this.in = new ExtendedBufferedReader(input);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: f6c0433</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">     * Customized CSV parser using the given {@link CSVFormat}
     *
     * @param input    a String containing &quot;csv-formatted&quot; input
     * @param format the CSVFormat used for CSV parsing
     */</span>
    public <span style="color: green; font-weight: bold;">CSVParser</span>(String <span style="color: purple; font-weight: bold;">input</span>, CSVFormat <span style="color: purple; font-weight: bold;">format</span>) {
        this(new <span style="color: red; font-weight: bold;">StringReader</span>(<span style="color: purple; font-weight: bold;">input</span>), <span style="color: purple; font-weight: bold;">format</span>);
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 316a51f</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>    }

</p></li>
<p>                    this.recordNumber);
        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h2>Commit: b67524d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    if (containsHeader && (!emptyHeader || (emptyHeader && !this.format.getIgnoreEmptyHeaders()))) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                    if (containsHeader && (!emptyHeader || (emptyHeader && !this.format.getIgnoreEmptyHeaders()))) {
</p></li>
</li>
</ul>
<h2>Commit: 88a7e75</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                                Arrays.toString(header));
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                                Arrays.toString(header));
</p></li>
</li>
</ul>
<h2>Commit: ce4e727</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                        throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;The header contains duplicate names: &quot; + <span style="color: purple; font-weight: bold;">Arrays</span>.<span style="color: green; font-weight: bold;">toString</span>(<span style="color: purple; font-weight: bold;">header</span>));
                    }
                    hdrMap.put(header[i], Integer.valueOf(i));
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: b3553ad</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">nextRecord</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">nextRecord</span>.values();
                }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">record</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">record</span>.values();
                }
</p></li>
</li>
</ul>
<h2>Commit: 1533fac</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>            hdrMap = new LinkedHashMap<String, Integer>();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (record != null) {
</p></li>
</li>
</ul>
<h2>Commit: 4c530ac</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">record</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">record</span>.values();
                }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">rec</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">rec</span>.values();
                }
</p></li>
</li>
</ul>
<h2>Commit: 0e8084a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (rec != null) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (rec != null) {
</p></li>
</li>
</ul>
<h2>Commit: 3cd5c85</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: 43987a7</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">rec</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">rec</span>.values();
                }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">record</span> != null) {
                    header = <span style="color: purple; font-weight: bold;">record</span>.values();
                }
</p></li>
</li>
</ul>
<h2>Commit: 7d07c19</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                }
</p></li>
</li>
</ul>
<h2>Commit: a84668e</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        CSVRecord result = null;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        CSVRecord result = null;
</p></li>
</li>
</ul>
<h2>Commit: 966cd20</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        CSVRecord result = null;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        CSVRecord result = null;
</p></li>
</li>
</ul>
<h2>Commit: 9873b13</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>                throw new <span style="color: red; font-weight: bold;">IllegalStateException</span>(&quot;Unexpected Token type: &quot; + this.<span style="color: purple; font-weight: bold;">reusableToken</span>.<span style="color: purple; font-weight: bold;">type</span>);
            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: f78b5a1</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>		return <span style="color: purple; font-weight: bold;">lexer</span>.<span style="color: green; font-weight: bold;">isClosed</span>();
	}

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 152d50c</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        return new CSVParser(new StringReader(string), format);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVParser.java:</strong><br>
<p>        return new CSVParser(new StringReader(string), format);
</p></li>
</li>
</ul>
<h2>Commit: 530c933</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>    }
</p></li>
<p>    public String toString() {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: daf9849</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">recordNumber</span> = <span style="color: purple; font-weight: bold;">recordNumber</span>;
        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
</li>
</ul>
<h2>Commit: 787ab08</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
<p>    }
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            tkn.content.<span style="color: green; font-weight: bold;">append</span>(<span style="color: purple; font-weight: bold;">comment</span>);
            tkn.type = COMMENT;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        this.values = values != null ? values : EMPTY_STRING_ARRAY;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            tkn.type = COMMENT;
</p></li>
</li>
</ul>
<h2>Commit: 1d767ad</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVRecord.java:</strong><br>
<p>        return values;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: e5a7b27</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Constants.java:</strong><br>
<p>    static final char BACKSLASH = '\\';
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Constants.java:</strong><br>
<p>    static final char BACKSLASH = '\\';
</p></li>
</li>
</ul>
<h2>Commit: 56ca585</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Constants.java:</strong><br>
<p>    static final char <span style="color: purple; font-weight: bold;">ESCAPE</span> = '\\';
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 71c69df</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>    private long <span style="color: purple; font-weight: bold;">lineCounter</span>;

</p></li>
<p>        }
</p></li>
</li>
</ul>
<h2>Commit: 3b938ba</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: e6e8074</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>    private int lineCounter = 0;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>     * <span style="color: blue; font-weight: bold;">the line counter</span>
     */
    private int lineCounter = 0;
</p></li>
</li>
</ul>
<h2>Commit: 6f1db38</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(<span style="color: purple; font-weight: bold;">reader</span>);
    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(<span style="color: purple; font-weight: bold;">r</span>);
    }
</p></li>
</li>
</ul>
<h2>Commit: afc831b</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>
        if (lastChar == '\n') {
</p></li>
<p>        int <span style="color: purple; font-weight: bold;">c</span> = super.<span style="color: green; font-weight: bold;">read</span>();
        super.<span style="color: green; font-weight: bold;">reset</span>();

</p></li>
<p>    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        *          because this might block the method!
        */
    }
</p></li>
<p>        if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
            <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
        }
        lastChar = <span style="color: purple; font-weight: bold;">lookaheadChar</span>;
        if (super.<span style="color: green; font-weight: bold;">ready</span>()) {
            <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
        } else {
            <span style="color: purple; font-weight: bold;">lookaheadChar</span> = <span style="color: purple; font-weight: bold;">UNDEFINED</span>;
        }
        if (lastChar == '\n') {
</p></li>
<p>            <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
        }
        return <span style="color: purple; font-weight: bold;">lookaheadChar</span>;
    }

</p></li>
</li>
</ul>
<h2>Commit: 516b82b</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(r);
</p></li>
<p>        return lastChar;
</p></li>
<p>        if (lookaheadChar == UNDEFINED) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        super(r);
</p></li>
<p>        return lastChar;
</p></li>
<p>        if (lookaheadChar == UNDEFINED) {
</p></li>
</li>
</ul>
<h2>Commit: 9f6d3f5</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        return lastChar;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        return lastChar;
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: fe5bd51</h2>
<h3>addition:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">   */</span>
</p></li>
<p>  }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p><span style="color: blue; font-weight: bold;">   * 
   * ATTENTION: invalidates the line-counter !!!!!
   * 
   * @return nof skiped chars
   */</span>
</p></li>
<p>    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();   
    }
    
    <span style="color: blue; font-weight: bold;">// illegal argument</span>
    if (<span style="color: purple; font-weight: bold;">n</span> &lt; 0) {
      throw new <span style="color: red; font-weight: bold;">IllegalArgumentException</span>(&quot;negative argument not supported&quot;);  
    }
    
    <span style="color: blue; font-weight: bold;">// no skipping</span>
    if (<span style="color: purple; font-weight: bold;">n</span> == 0 || <span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">END_OF_STREAM</span>) {
      return 0;
    } 
    
    <span style="color: blue; font-weight: bold;">// skip and reread the lookahead-char</span>
    long <span style="color: purple; font-weight: bold;">skiped</span> = 0;
    if (<span style="color: purple; font-weight: bold;">n</span> &gt; 1) {
      <span style="color: purple; font-weight: bold;">skiped</span> = super.<span style="color: green; font-weight: bold;">skip</span>(<span style="color: purple; font-weight: bold;">n</span> - 1);
    }
    <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
    <span style="color: blue; font-weight: bold;">// fixme uh: we should check the skiped sequence for line-terminations...</span>
    <span style="color: purple; font-weight: bold;">lineCounter</span> = Integer.MIN_VALUE;
    return <span style="color: purple; font-weight: bold;">skiped</span> + 1;
  }
  
  <span style="color: blue; font-weight: bold;">/**
   * Skips all chars in the input until (but excluding) the given char
   * 
   * @param c
   * @return
   * @throws IllegalArgumentException
   * @throws IOException
   */</span>
  public long <span style="color: green; font-weight: bold;">skipUntil</span>(char <span style="color: purple; font-weight: bold;">c</span>) throws IllegalArgumentException, IOException {
    if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>) {
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();   
    }
    long <span style="color: purple; font-weight: bold;">counter</span> = 0;
    while (<span style="color: purple; font-weight: bold;">lookaheadChar</span> != <span style="color: purple; font-weight: bold;">c</span> &amp;&amp; <span style="color: purple; font-weight: bold;">lookaheadChar</span> != <span style="color: purple; font-weight: bold;">END_OF_STREAM</span>) {
      if (<span style="color: purple; font-weight: bold;">lookaheadChar</span> == &#x27;\n&#x27;) {
        <span style="color: purple; font-weight: bold;">lineCounter</span>++;
      } 
      <span style="color: purple; font-weight: bold;">lookaheadChar</span> = super.<span style="color: green; font-weight: bold;">read</span>();
      <span style="color: purple; font-weight: bold;">counter</span>++;
    }
    return <span style="color: purple; font-weight: bold;">counter</span>;
  }
</p></li>
<p>   * 
</p></li>
</li>
</ul>
<h2>Commit: e235b2a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>            lineCounter++;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>            lineCounter++;
</p></li>
</li>
</ul>
<h2>Commit: de1838e</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>        if (<span style="color: purple; font-weight: bold;">current</span> == &#x27;\r&#x27; || (<span style="color: purple; font-weight: bold;">current</span> == &#x27;\n&#x27; &amp;&amp; <span style="color: purple; font-weight: bold;">lastChar</span> != '\r')) {
            lineCounter++;
</p></li>
<p>        return lastChar;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>
        if (<span style="color: purple; font-weight: bold;">lastChar</span> == '\n') {
            lineCounter++;
</p></li>
</li>
</ul>
<h2>Commit: 660f37a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/ExtendedBufferedReader.java:</strong><br>
<p>    public int read() throws IOException {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 8e18054</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">reader</span> = <span style="color: purple; font-weight: bold;">reader</span>;
        this.delimiter = format.getDelimiter();
</p></li>
<p>
</p></li>
<p>        /*
</p></li>
<p>                eol = readEndOfLine(c);
</p></li>
<p>            if (line == null) {
</p></li>
<p>                    eol = readEndOfLine(c);
</p></li>
<p>                } else {
</p></li>
<p>            } else {
</p></li>
<p>            }
</p></li>
<p>            // note: does not change ch outside of this method!
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">in</span> = <span style="color: purple; font-weight: bold;">in</span>;
        this.delimiter = format.getDelimiter();
</p></li>
<p>
</p></li>
<p>        /*
</p></li>
<p>                eol = readEndOfLine(c);
</p></li>
<p>            if (line == null) {
</p></li>
<p>                    eol = readEndOfLine(c);
</p></li>
<p>                } else {
</p></li>
<p>            } else {
</p></li>
<p>            }
</p></li>
<p>            // note: does not change ch outside of this method!
</p></li>
<p>        }
</p></li>
</li>
</ul>
<h2>Commit: 5a30b37</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        this.ignoreSurroundingSpaces = format.getIgnoreSurroundingSpaces();
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: aede94a</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        this.in = in;
</p></li>
</li>
</ul>
<h2>Commit: 7b168eb</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">in</span> = <span style="color: purple; font-weight: bold;">in</span>;
        this.<span style="color: purple; font-weight: bold;">delimiter</span> = <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getDelimiter</span>();
        this.<span style="color: purple; font-weight: bold;">escape</span> = <span style="color: green; font-weight: bold;">mapNullToDisabled</span>(<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getEscape</span>());
        this.<span style="color: purple; font-weight: bold;">quoteChar</span> = <span style="color: green; font-weight: bold;">mapNullToDisabled</span>(<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getQuoteChar</span>());
        this.<span style="color: purple; font-weight: bold;">commmentStart</span> = <span style="color: green; font-weight: bold;">mapNullToDisabled</span>(<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getCommentStart</span>());
        this.<span style="color: purple; font-weight: bold;">ignoreSurroundingSpaces</span> = <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getIgnoreSurroundingSpaces</span>();
        this.<span style="color: purple; font-weight: bold;">ignoreEmptyLines</span> = <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getIgnoreEmptyLines</span>();
    }
</p></li>
<p>        return <span style="color: purple; font-weight: bold;">c</span> == null ? <span style="color: purple; font-weight: bold;">DISABLED</span> : <span style="color: purple; font-weight: bold;">c</span>.<span style="color: green; font-weight: bold;">charValue</span>();
    }

</p></li>
<p>        <span style="color: blue; font-weight: bold;">// check if we have \r\n...</span>
        if (<span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">CR</span> &amp;&amp; <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">lookAhead</span>() == <span style="color: purple; font-weight: bold;">LF</span>) {
            <span style="color: blue; font-weight: bold;">// note: does not change ch outside of this method!</span>
            <span style="color: purple; font-weight: bold;">ch</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">read</span>();
        }
        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">LF</span> || <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">CR</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">LF</span> || <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">CR</span> || <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">UNDEFINED</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">END_OF_STREAM</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">delimiter</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">escape</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">quoteChar</span>;
    }

</p></li>
<p>        return <span style="color: purple; font-weight: bold;">ch</span> == <span style="color: purple; font-weight: bold;">commmentStart</span>;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 05ecd91</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
</li>
</ul>
<h2>Commit: fdfe508</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        super(format, in);
</p></li>
</li>
</ul>
<h2>Commit: 65ab9db</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">in</span> = <span style="color: purple; font-weight: bold;">in</span>;
    }

    public int <span style="color: green; font-weight: bold;">getLineNumber</span>() {
        return <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">getLineNumber</span>();
    }
</p></li>
</li>
</ul>
<h2>Commit: 38670db</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        this.<span style="color: purple; font-weight: bold;">format</span> = <span style="color: purple; font-weight: bold;">format</span>;
        this.<span style="color: purple; font-weight: bold;">in</span> = <span style="color: purple; font-weight: bold;">in</span>;
    }

    public int <span style="color: green; font-weight: bold;">getLineNumber</span>() {
        return <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">getLineNumber</span>();
    }

</p></li>
<p>        <span style="color: purple; font-weight: bold;">wsBuf</span>.<span style="color: green; font-weight: bold;">setLength</span>(0); <span style="color: blue; font-weight: bold;">// reuse</span>

        <span style="color: blue; font-weight: bold;">// get the last read char (required for empty line detection)</span>
        int <span style="color: purple; font-weight: bold;">lastChar</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">readAgain</span>();

        <span style="color: blue; font-weight: bold;">//  read the next char and set eol</span>
        <span style="color: blue; font-weight: bold;">/* note: unfortunately isEndOfLine may consumes a character silently.
        *       this has no effect outside of the method. so a simple workaround
        *       is to call &#x27;readAgain&#x27; on the stream...
        */</span>
        int <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">read</span>();
        boolean <span style="color: purple; font-weight: bold;">eol</span> = <span style="color: green; font-weight: bold;">isEndOfLine</span>(<span style="color: purple; font-weight: bold;">c</span>);
        <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">readAgain</span>();

        <span style="color: blue; font-weight: bold;">//  empty line detection: eol AND (last char was EOL or beginning)</span>
        if (<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">isEmptyLinesIgnored</span>()) {
            while (<span style="color: purple; font-weight: bold;">eol</span>
                    &amp;&amp; (<span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\n&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\r&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == ExtendedBufferedReader.UNDEFINED)
                    &amp;&amp; !<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">lastChar</span>)) {
                <span style="color: blue; font-weight: bold;">// go on char ahead ...</span>
                <span style="color: purple; font-weight: bold;">lastChar</span> = <span style="color: purple; font-weight: bold;">c</span>;
                <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">read</span>();
                <span style="color: purple; font-weight: bold;">eol</span> = <span style="color: green; font-weight: bold;">isEndOfLine</span>(<span style="color: purple; font-weight: bold;">c</span>);
                <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">readAgain</span>();
                <span style="color: blue; font-weight: bold;">// reached end of file without any content (empty line at the end)</span>
                if (<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
                    tkn.type = <span style="color: purple; font-weight: bold;">EOF</span>;
                    return <span style="color: purple; font-weight: bold;">tkn</span>;
                }
            }
        }

        <span style="color: blue; font-weight: bold;">// did we reach eof during the last iteration already ? EOF</span>
        if (<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">lastChar</span>) || (<span style="color: purple; font-weight: bold;">lastChar</span> != <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getDelimiter</span>() &amp;&amp; <span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">c</span>))) {
            tkn.type = <span style="color: purple; font-weight: bold;">EOF</span>;
            return <span style="color: purple; font-weight: bold;">tkn</span>;
        }

        <span style="color: blue; font-weight: bold;">//  important: make sure a new char gets consumed in each iteration</span>
        while (!tkn.isReady &amp;&amp; tkn.type != <span style="color: purple; font-weight: bold;">EOF</span>) {
            <span style="color: blue; font-weight: bold;">// ignore whitespaces at beginning of a token</span>
            if (<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">isLeadingSpacesIgnored</span>()) {
                while (<span style="color: green; font-weight: bold;">isWhitespace</span>(<span style="color: purple; font-weight: bold;">c</span>) &amp;&amp; !<span style="color: purple; font-weight: bold;">eol</span>) {
                    <span style="color: purple; font-weight: bold;">wsBuf</span>.<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: purple; font-weight: bold;">c</span>);
                    <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">read</span>();
                    <span style="color: purple; font-weight: bold;">eol</span> = <span style="color: green; font-weight: bold;">isEndOfLine</span>(<span style="color: purple; font-weight: bold;">c</span>);
                }
            }
            
            <span style="color: blue; font-weight: bold;">// ok, start of token reached: comment, encapsulated, or token</span>
            if (<span style="color: purple; font-weight: bold;">c</span> == <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getCommentStart</span>()) {
                <span style="color: blue; font-weight: bold;">// ignore everything till end of line and continue (incr linecount)</span>
                <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">readLine</span>();
                <span style="color: purple; font-weight: bold;">tkn</span> = <span style="color: green; font-weight: bold;">nextToken</span>(<span style="color: purple; font-weight: bold;">tkn</span>.<span style="color: green; font-weight: bold;">reset</span>());
            } else if (<span style="color: purple; font-weight: bold;">c</span> == <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getDelimiter</span>()) {
                <span style="color: blue; font-weight: bold;">// empty token return TOKEN(&quot;&quot;)</span>
                tkn.type = <span style="color: purple; font-weight: bold;">TOKEN</span>;
                tkn.isReady = true;
            } else if (<span style="color: purple; font-weight: bold;">eol</span>) {
                <span style="color: blue; font-weight: bold;">// empty token return EORECORD(&quot;&quot;)</span>
                <span style="color: blue; font-weight: bold;">//noop: tkn.content.append(&quot;&quot;);</span>
                tkn.type = <span style="color: purple; font-weight: bold;">EORECORD</span>;
                tkn.isReady = true;
            } else if (<span style="color: purple; font-weight: bold;">c</span> == <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getEncapsulator</span>()) {
                <span style="color: blue; font-weight: bold;">// consume encapsulated token</span>
                <span style="color: green; font-weight: bold;">encapsulatedTokenLexer</span>(<span style="color: purple; font-weight: bold;">tkn</span>, <span style="color: purple; font-weight: bold;">c</span>);
            } else if (<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
                <span style="color: blue; font-weight: bold;">// end of file return EOF()</span>
                <span style="color: blue; font-weight: bold;">//noop: tkn.content.append(&quot;&quot;);</span>
                tkn.type = <span style="color: purple; font-weight: bold;">EOF</span>;
                tkn.isReady = true;
            } else {
                <span style="color: blue; font-weight: bold;">// next token must be a simple token</span>
                <span style="color: blue; font-weight: bold;">// add removed blanks when not ignoring whitespace chars...</span>
                if (!<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">isLeadingSpacesIgnored</span>()) {
                    tkn.content.<span style="color: green; font-weight: bold;">append</span>(<span style="color: purple; font-weight: bold;">wsBuf</span>);
                }
                <span style="color: green; font-weight: bold;">simpleTokenLexer</span>(<span style="color: purple; font-weight: bold;">tkn</span>, <span style="color: purple; font-weight: bold;">c</span>);
            }
        }
        return <span style="color: purple; font-weight: bold;">tkn</span>;
    }

</p></li>
<p>        while (true) {
            if (<span style="color: green; font-weight: bold;">isEndOfLine</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
                <span style="color: blue; font-weight: bold;">// end of record</span>
                tkn.type = <span style="color: purple; font-weight: bold;">EORECORD</span>;
                tkn.isReady = true;
                break;
            } else if (<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
                <span style="color: blue; font-weight: bold;">// end of file</span>
                tkn.type = <span style="color: purple; font-weight: bold;">EOF</span>;
                tkn.isReady = true;
                break;
            } else if (<span style="color: purple; font-weight: bold;">c</span> == <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getDelimiter</span>()) {
                <span style="color: blue; font-weight: bold;">// end of token</span>
                tkn.type = <span style="color: purple; font-weight: bold;">TOKEN</span>;
                tkn.isReady = true;
                break;
            } else if (<span style="color: purple; font-weight: bold;">c</span> == <span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">getEscape</span>()) {
                tkn.content.<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: green; font-weight: bold;">readEscape</span>(<span style="color: purple; font-weight: bold;">c</span>));
            } else {
                tkn.content.<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: purple; font-weight: bold;">c</span>);
            }

            <span style="color: purple; font-weight: bold;">c</span> = <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">read</span>();
        }

        if (<span style="color: purple; font-weight: bold;">format</span>.<span style="color: green; font-weight: bold;">isTrailingSpacesIgnored</span>()) {
            <span style="color: green; font-weight: bold;">trimTrailingSpaces</span>(tkn.content);
        }

        return <span style="color: purple; font-weight: bold;">tkn</span>;
    }

</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: a223126</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        return c == null ? DISABLED : c.charValue();
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Lexer.java:</strong><br>
<p>        return c == null ? DISABLED : c.charValue();
</p></li>
</li>
</ul>
<h2>Commit: 530b038</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (<span style="color: purple; font-weight: bold;">line</span> == null) {
                token.type = <span style="color: purple; font-weight: bold;">EOF</span>;
                <span style="color: blue; font-weight: bold;">// don&#x27;t set token.isReady here because no content</span>
                return <span style="color: purple; font-weight: bold;">token</span>;                
            }
            final String <span style="color: purple; font-weight: bold;">comment</span> = <span style="color: purple; font-weight: bold;">line</span>.<span style="color: green; font-weight: bold;">trim</span>();
            token.content.append(comment);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            token.content.append(comment);
</p></li>
</li>
</ul>
<h2>Commit: 93a07b9</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                    return token;
</p></li>
<p>            return token;
</p></li>
<p>                token.type = EORECORD;
</p></li>
<p>                token.type = EOF;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">// Faster to use while(true)+break than while(token.type == INVALID)</span>
        while (true) {
</p></li>
<p>                break;
</p></li>
<p>                token.isReady = true; // There is data at EOF
                break;
</p></li>
<p>                break;
</p></li>
<p>                } else {
</p></li>
<p>                }
</p></li>
<p>                c = in.read(); // continue
</p></li>
<p>        }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                    return token;
</p></li>
<p>            return token;
</p></li>
<p>                token.type = EORECORD;
</p></li>
<p>                token.type = EOF;
</p></li>
<p>        <span style="color: blue; font-weight: bold;">// Faster to use while(true)+break than while(tkn.type == INVALID)</span>
        while (true) {
</p></li>
<p>                break;
</p></li>
<p>                tkn.isReady = true; // There is data at EOF
                break;
</p></li>
<p>                break;
</p></li>
<p>                } else {
</p></li>
<p>                }
</p></li>
<p>                c = in.read(); // continue
</p></li>
<p>        }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: c4014b6</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>            }
</p></li>
<p>        // Faster to use while(true)+break than while(tkn.type == INVALID)
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>            }
</p></li>
<p>        // Faster to use while(true)+break than while(tkn.type == INVALID)
</p></li>
</li>
</ul>
<h2>Commit: 350d34d</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // consume encapsulated token
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // consume encapsulated token
</p></li>
</li>
</ul>
<h2>Commit: 2a8ce4a</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
<p>                // reached end of file without any content (empty line at the end)
</p></li>
<p>                }
</p></li>
<p>                tkn.type = EORECORD;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
<p>                // reached end of file without any content (empty line at the end)
</p></li>
<p>                }
</p></li>
<p>                tkn.type = EORECORD;
</p></li>
</li>
</ul>
<h2>Commit: 992c064</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            while (eol && isStartOfLine(lastChar)) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            while (eol && isStartOfLine(lastChar)) {
</p></li>
</li>
</ul>
<h2>Commit: 3655efc</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h2>Commit: 8608520</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
<p>                    // don't set tkn.isReady here because no content
</p></li>
<p>                }
</p></li>
<p>            // don't set tkn.isReady here because no content
</p></li>
<p>        }
</p></li>
<p>            token.type = COMMENT;
            return <span style="color: purple; font-weight: bold;">token</span>;
        }
</p></li>
<p>            // ignore whitespaces at beginning of a token
</p></li>
<p>            } else if (eol) {
</p></li>
<p>            } else if (isEncapsulator(c)) {
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>                token.isReady = true; // there is data at EOF
            } else {
</p></li>
<p>            }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
<p>                    // don't set tkn.isReady here because no content
</p></li>
<p>                }
</p></li>
<p>            // don't set tkn.isReady here because no content
</p></li>
<p>        }
</p></li>
<p>            tkn.type = COMMENT;
            return <span style="color: purple; font-weight: bold;">tkn</span>;
        }
</p></li>
<p>            // ignore whitespaces at beginning of a token
</p></li>
<p>            } else if (eol) {
</p></li>
<p>            } else if (isEncapsulator(c)) {
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>                tkn.isReady = true; // there is data at EOF
            } else {
</p></li>
<p>            }
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 8462234</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>         * Note:
         * The following call will swallow LF if c == CR.
         * But we don't need to know if the last char
         * was CR or LF - they are equivalent here.
         */
        boolean eol = isEndOfLine(c);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        /* note: unfortunately isEndOfLine may consumes a character silently.
        *       this has no effect outside of the method. so a simple workaround
        *       is to call 'readAgain' on the stream...
        */
        boolean eol = isEndOfLine(c);
</p></li>
<p>
</p></li>
<p>                // reached end of file without any content (empty line at the end)
</p></li>
</li>
</ul>
<h2>Commit: 3fd45b5</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            in.readLine();
            tkn.type = COMMENT;
            return tkn;
        }

        //  important: make sure a new char gets consumed in each iteration
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            in.readLine();
            tkn.type = COMMENT;
            return tkn;
        }

        /* note: unfortunately isEndOfLine may consumes a character silently.
</p></li>
</li>
</ul>
<h2>Commit: e922bf9</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        if (<span style="color: green; font-weight: bold;">isStartOfLine</span>(<span style="color: purple; font-weight: bold;">lastChar</span>) &amp;&amp; <span style="color: green; font-weight: bold;">isCommentStart</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
            in.readLine();
            tkn.type = COMMENT;
            return <span style="color: purple; font-weight: bold;">tkn</span>;
        }

        boolean eol = isEndOfLine(c);
</p></li>
<p>                // go on char ahead ...
</p></li>
<p>            if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // go on char ahead ...
</p></li>
<p>            if (isCommentStart(c)) { <span style="color: blue; font-weight: bold;">// TODO should only match at start of line</span>
                <span style="color: blue; font-weight: bold;">// ignore everything till end of line and continue (incr linecount)</span>
                in.readLine();
                tkn.type = COMMENT;
            } else if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h2>Commit: 05b5c8e</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (isCommentStart(c)) { <span style="color: blue; font-weight: bold;">// TODO should only match at start of line</span>
                <span style="color: blue; font-weight: bold;">// ignore everything till end of line and continue (incr linecount)</span>
                in.readLine();
                tkn.type = COMMENT;
            } else if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        if ((<span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\n&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\r&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == ExtendedBufferedReader.UNDEFINED) &amp;&amp; <span style="color: green; font-weight: bold;">isCommentStart</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
            in.readLine();
            tkn.type = COMMENT;
            return <span style="color: purple; font-weight: bold;">tkn</span>;
        }

        boolean eol = isEndOfLine(c);
</p></li>
<p>            if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h2>Commit: 93089b2</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        if ((<span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\n&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == &#x27;\r&#x27; || <span style="color: purple; font-weight: bold;">lastChar</span> == ExtendedBufferedReader.UNDEFINED) &amp;&amp; <span style="color: green; font-weight: bold;">isCommentStart</span>(<span style="color: purple; font-weight: bold;">c</span>)) {
            in.readLine();
            tkn.type = COMMENT;
            return <span style="color: purple; font-weight: bold;">tkn</span>;
        }

        boolean eol = isEndOfLine(c);
</p></li>
<p>            if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (isCommentStart(c)) { <span style="color: blue; font-weight: bold;">// TODO should only match at start of line</span>
                <span style="color: blue; font-weight: bold;">// ignore everything till end of line and continue (incr linecount)</span>
                in.readLine();
                tkn.type = COMMENT;
            } else if (isDelimiter(c)) {
                // empty token return TOKEN("")
</p></li>
</li>
</ul>
<h2>Commit: 7c2cfea</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // go on char ahead ...
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                    &amp;&amp; (lastChar == &#x27;\n&#x27; || lastChar == &#x27;\r&#x27; || lastChar == ExtendedBufferedReader.UNDEFINED)
                    &amp;&amp; !<span style="color: green; font-weight: bold;">isEndOfFile</span>(<span style="color: purple; font-weight: bold;">lastChar</span>)) {
                // go on char ahead ...
</p></li>
</li>
</ul>
<h2>Commit: 0a0f3bb</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            } else if (isDelimiter(c)) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>        
</p></li>
<p>    }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            } else if (isDelimiter(c)) {
</p></li>
</li>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>    }
</p></li>
</li>
</ul>
<h2>Commit: 9114337</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // ignore everything till end of line and continue (incr linecount)
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>            } else {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // ignore everything till end of line and continue (incr linecount)
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>            } else {
</p></li>
</li>
</ul>
<h2>Commit: dd26201</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                    return tkn;
</p></li>
<p>            return tkn;
</p></li>
<p>            // ignore whitespaces at beginning of a token
</p></li>
<p>            } else {
</p></li>
<p>                break;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            // ignore whitespaces at beginning of a token
</p></li>
<p>            } else if (eol) {
</p></li>
<p>            } else if (isEncapsulator(c)) {
</p></li>
<p>            } else {
</p></li>
<p>                break;
</p></li>
<p>                break;
</p></li>
<p>                break;
</p></li>
</li>
</ul>
<h2>Commit: 9ebd0d9</h2>
<h3>addition:</h3><ul>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>
</p></li>
<p>                    c = in.read();
</p></li>
<p>                    tkn.content.<span style="color: green; font-weight: bold;">append</span>(<span style="color: purple; font-weight: bold;">wsBuf</span>);
                }
                simpleTokenLexer(tkn, c);
</p></li>
</li>
</ul>
<h2>Commit: 1299ddf</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            tkn.type = EOF;
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            tkn.type = EOF;
</p></li>
</li>
</ul>
<h2>Commit: fa07dea</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            while (eol
</p></li>
<p>            tkn.type = EOF;
</p></li>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>                    tkn.content.append(wsBuf);
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            while (eol
</p></li>
<p>            tkn.type = EOF;
</p></li>
<p>                while (isWhitespace(c) && !eol) {
</p></li>
<p>                    tkn.content.append(wsBuf);
</p></li>
<p>            trimTrailingSpaces(tkn.content);
</p></li>
</li>
</ul>
<h2>Commit: 83e4a90</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // ignore everything till end of line and continue (incr linecount)
</p></li>
<p>                // empty token return TOKEN("")
</p></li>
<p>                // consume encapsulated token
</p></li>
<p>                // end of token
</p></li>
<p>                tkn.content.append((char) readEscape(c));
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                // ignore everything till end of line and continue (incr linecount)
</p></li>
<p>                // empty token return TOKEN("")
</p></li>
<p>                // consume encapsulated token
</p></li>
<p>                // end of token
</p></li>
<p>                tkn.content.append((char) readEscape(c));
</p></li>
</li>
</ul>
<h2>Commit: a062477</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        // Faster to use while(true)+break than while(token.type == INVALID)
</p></li>
<p>                token.type = EORECORD;
</p></li>
<p>                token.type = EOF;
</p></li>
<p>                token.type = TOKEN;
</p></li>
<p>                final int unescaped = readEscape();
</p></li>
<p>                } else {
</p></li>
<p>            } else {
</p></li>
<p>                <span style="color: purple; font-weight: bold;">ch</span> = in.read(); // continue
            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        // Faster to use while(true)+break than while(token.type == INVALID)
</p></li>
<p>                token.type = EORECORD;
</p></li>
<p>                token.type = EOF;
</p></li>
<p>                token.type = TOKEN;
</p></li>
<p>                final int unescaped = readEscape();
</p></li>
<p>                } else {
</p></li>
<p>            } else {
</p></li>
<p>                <span style="color: purple; font-weight: bold;">c</span> = in.read(); // continue
            }
</p></li>
</li>
</ul>
<h2>Commit: 2c61208</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                if (<span style="color: purple; font-weight: bold;">unescaped</span> == Constants.END_OF_STREAM) { <span style="color: blue; font-weight: bold;">// unexpected char after escape</span>
                    tkn.content.<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: purple; font-weight: bold;">c</span>).<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: purple; font-weight: bold;">in</span>.<span style="color: green; font-weight: bold;">getLastChar</span>());
                } else {
                    tkn.content.<span style="color: green; font-weight: bold;">append</span>((char) <span style="color: purple; font-weight: bold;">unescaped</span>);
                }
                c = in.read(); // continue
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>                c = in.read(); // continue
</p></li>
</li>
</ul>
<h2>Commit: 19ba389</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>        while (true) {
            if (isEndOfLine(c)) {
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>            } else if (isDelimiter(c)) {
</p></li>
<p>            } else if (isEscape(c)) {
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (isEndOfLine(c)) {
</p></li>
</li>
</ul>
<h2>Commit: ba26844</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (isEndOfLine(c)) {
</p></li>
<p>            } else {
</p></li>
<p>            }
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/CSVLexer.java:</strong><br>
<p>            if (isEndOfLine(c)) {
</p></li>
<p>                tkn.type = EORECORD;
</p></li>
<p>            } else if (isEndOfFile(c)) {
</p></li>
<p>                tkn.type = EOF;
</p></li>
<p>            } else if (isDelimiter(c)) {
</p></li>
<p>                tkn.type = TOKEN;
</p></li>
<p>            } else if (isEscape(c)) {
</p></li>
<p>            c = in.read();
        }
</p></li>
</li>
</ul>
<h2>Commit: e693d87</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Quote.java:</strong><br>
<p>
</p></li>
<p>
</p></li>
<p>
</p></li>
<p>
</p></li>
<p>}
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 0e7e9de</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: 7592782</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>
</p></li>
<p>        <span style="color: blue; font-weight: bold;">/** Token has no valid content, i.e. is in its initialized state. */</span>
</p></li>
<p>        
</p></li>
<p>        
</p></li>
<p>        
</p></li>
<p>    }
</p></li>
<p>    
</p></li>
<p>    
</p></li>
<p>        <span style="color: purple; font-weight: bold;">content</span>.<span style="color: green; font-weight: bold;">setLength</span>(0);
        <span style="color: purple; font-weight: bold;">type</span> = <span style="color: purple; font-weight: bold;">INVALID</span>;
        <span style="color: purple; font-weight: bold;">isReady</span> = false;
        return this;
    }
}</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
</ul>
<h2>Commit: 6e2c992</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>
</p></li>
</li>
</ul>
<h2>Commit: 17c2635</h2>
<h3>addition:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>        content.setLength(0);
</p></li>
</li>
</ul>
<h3>deletion:</h3><ul>
<li><strong>src/main/java/org/apache/commons/csv/Token.java:</strong><br>
<p>        content.setLength(0);
</p></li>
<p>    }
</p></li>
</li>
</ul>
</body></html>