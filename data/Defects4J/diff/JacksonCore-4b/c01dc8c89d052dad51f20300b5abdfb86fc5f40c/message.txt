reorg char-based number parsing a bit
