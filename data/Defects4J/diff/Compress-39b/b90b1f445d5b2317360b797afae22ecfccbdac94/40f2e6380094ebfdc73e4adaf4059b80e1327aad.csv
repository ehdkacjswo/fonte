is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,21,import java.math.BigInteger;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,132,final boolean negative = buffer[offset] == (byte) 0xff;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,133,if (length < 9) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,134,"return parseBinaryLong(buffer, offset, length, negative);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,136,"return parseBinaryBigInteger(buffer, offset, length, negative);"
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,131,ong val = buffer[offset] & 0x7f;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,139,"private static long parseBinaryLong(final byte[] buffer, final int offset,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,140,"final int length,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,141,final boolean negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,142,if (length >= 9) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,143,"throw new IllegalArgumentException(""At offset "" + offset + "", """
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,144,"+ length + "" byte binary number"""
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,145,"+ "" exceeds maximum signed long"""
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,146,"+ "" value"");"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,148,long val = 0;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,133,f (val >= (1L << (63 - 8))) {
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,134,hrow new IllegalArgumentException(
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,135,"At offset "" + offset + "", "" + length + "" byte "" +"
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,136,"binary number exceeds maximum signed long value"");"
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,140,eturn val;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,152,if (negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,153,// 2's complement
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,154,val--;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,155,"val ^= ((long) Math.pow(2, (length - 1) * 8) - 1);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,157,return negative ? -val : val;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,160,"private static long parseBinaryBigInteger(final byte[] buffer,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,161,"final int offset,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,162,"final int length,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,163,final boolean negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,164,byte[] remainder = new byte[length - 1];
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,165,"System.arraycopy(buffer, offset + 1, remainder, 0, length - 1);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,166,BigInteger val = new BigInteger(remainder);
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,167,if (negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,168,// 2's complement
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,169,val = val.add(BigInteger.valueOf(-1)).not();
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,171,if (val.bitLength() > 63) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,172,"throw new IllegalArgumentException(""At offset "" + offset + "", """
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,173,"+ length + "" byte binary number"""
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,174,"+ "" exceeds maximum signed long"""
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,175,"+ "" value"");"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,177,return negative ? -val.longValue() : val.longValue();
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,328,f (value <= maxAsOctalChar) { // OK to store as octal chars
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,365,final boolean negative = value < 0;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,366,if (!negative && value <= maxAsOctalChar) { // OK to store as octal chars
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,332,ong val = value;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,333,or (int i = offset + length - 1; i >= offset; i--) {
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,334,uf[i] = (byte) val;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,335,al >>= 8;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,370,if (length < 9) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,371,"formatLongBinary(value, buf, offset, length, negative);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,373,"formatBigIntegerBinary(value, buf, offset, length, negative);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,375,buf[offset] = (byte) (negative ? 0xff : 0x80);
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,376,return offset + length;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,338,f (val != 0 || (buf[offset] & 0x80) != 0) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,379,"private static void formatLongBinary(final long value, byte[] buf,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,380,"final int offset, final int length,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,381,final boolean negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,382,final int bits = (length - 1) * 8;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,383,"final long max = (long) Math.pow(2, bits);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,384,long val = Math.abs(value);
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,385,if (val >= max) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,389,if (negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,390,val ^= max - 1;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,391,val |= 0xff << bits;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,392,val++;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,394,for (int i = offset + length - 1; i >= offset; i--) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,395,buf[i] = (byte) val;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,396,val >>= 8;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,343,uf[offset] |= 0x80;
False,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,344,eturn offset + length;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,400,"private static void formatBigIntegerBinary(final long value, byte[] buf,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,401,"final int offset,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,402,"final int length,"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,403,final boolean negative) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,404,BigInteger val = BigInteger.valueOf(value);
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,405,final byte[] b = val.toByteArray();
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,406,final int len = b.length;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,407,final int off = offset + length - len;
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,408,"System.arraycopy(b, 0, buf, off, len);"
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,409,final byte fill = (byte) (negative ? 0xff : 0);
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,410,for (int i = offset + 1; i < off; i++) {
True,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,src/main/java/org/apache/commons/compress/archivers/tar/TarUtils.java,411,buf[i] = fill;
False,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,139,ublic void testRoundTripOctalOrBinary() {
False,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,140,"heckRoundTripOctalOrBinary(0, 8);"
False,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,141,"heckRoundTripOctalOrBinary(1, 8);"
False,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,142,"heckRoundTripOctalOrBinary(Long.MAX_VALUE, 8); // [0x7f ff ff ff ff ff ff ff"
False,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,143,"heckRoundTripOctalOrBinary(TarConstants.MAXSIZE, 8); // will need binary format"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,139,public void testRoundTripOctalOrBinary8() {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,140,testRoundTripOctalOrBinary(8);
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,142,public void testRoundTripOctalOrBinary12() {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,143,testRoundTripOctalOrBinary(12);
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,145,private void testRoundTripOctalOrBinary(int length) {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,146,"checkRoundTripOctalOrBinary(0, length);"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,147,"checkRoundTripOctalOrBinary(1, length);"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,148,"checkRoundTripOctalOrBinary(Long.MAX_VALUE >> 7, length); // [0x00 ff ff ff ff ff ff ff"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,149,"checkRoundTripOctalOrBinary(TarConstants.MAXSIZE, length); // will need binary format"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,150,"checkRoundTripOctalOrBinary(-1, length); // will need binary format"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,201,public void testReadNegativeBinary8Byte() {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,202,byte[] b = new byte[] {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,203,"(byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,204,"(byte) 0xff, (byte) 0xff, (byte) 0xf1, (byte) 0xef,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,206,"assertEquals(-3601l, TarUtils.parseOctalOrBinary(b, 0, 8));"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,209,public void testReadNegativeBinary12Byte() {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,210,byte[] b = new byte[] {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,211,"(byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,212,"(byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,213,"(byte) 0xff, (byte) 0xff, (byte) 0xf1, (byte) 0xef,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,215,"assertEquals(-3601l, TarUtils.parseOctalOrBinary(b, 0, 12));"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,219,public void testWriteNegativeBinary8Byte() {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,220,byte[] b = new byte[] {
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,221,"(byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,222,"(byte) 0xff, (byte) 0xff, (byte) 0xf1, (byte) 0xef,"
True,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,src/test/java/org/apache/commons/compress/archivers/tar/TarUtilsTest.java,224,"assertEquals(-3601l, TarUtils.parseOctalOrBinary(b, 0, 8));"
