is_addition,old_file_path,new_file_path,line_num,content
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,132,or (Name n : globalNames) {
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,133,"lattenReferencesToCollapsibleDescendantNames(n, n.getBaseName());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,132,for (Name name : globalNames) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,133,"flattenReferencesToCollapsibleDescendantNames(name, name.getBaseName());"
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,139,or (Name n : globalNames) {
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,140,"ollapseDeclarationOfNameAndDescendants(n, n.getBaseName());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,139,for (Name name : globalNames) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,140,"collapseDeclarationOfNameAndDescendants(name, name.getBaseName());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,144,private void inlineAliases(GlobalNamespace namespace) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,145,// inline names until we reach a fixed point.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,146,do {} while (inlineAliasesOnce(namespace));
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,155,* (d) N is aliased in global scope
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,163,"* If (a) and (b) and (d) are true, then inline the alias if possible (if"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,164,* it is assigned exactly once unconditionally).
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,166,* @return Whether any work still needs to be done.
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,159,rivate void inlineAliases(GlobalNamespace namespace) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,168,private boolean inlineAliasesOnce(GlobalNamespace namespace) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,169,int deferredCount = 0;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,174,Set<Node> newNodes = Sets.newHashSet();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,178,boolean inlinedGlobalAliasToCurrentName = false;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,193,// TODO(johnlenz): consider picking up new aliases at the end
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,194,// of the pass instead of immediately like we do for global
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,195,// inlines.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,199,} else if (ref.type == Type.ALIASING_GET
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,200,&& ref.scope.isGlobal()
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,201,&& ref.getTwin() == null) {  // ignore aliases in chained assignments
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,202,"if (inlineGlobalAliasIfPossible(ref, namespace, newNodes)) {"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,203,name.removeRef(ref);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,204,inlinedGlobalAliasToCurrentName = true;
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,185,/ Check if {@code name} has any aliases left after the
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,210,// * Check if {@code name} has any aliases left after the
False,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,187,f ((name.type == Name.Type.OBJECTLIT ||
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,212,// * Defer checking for inline-able aliases of properties of the current
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,213,// name if global aliases were inlined as they may have created new
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,214,// references to these properties
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,215,if (!inlinedGlobalAliasToCurrentName &&
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,216,(name.type == Name.Type.OBJECTLIT ||
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,224,if (inlinedGlobalAliasToCurrentName) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,225,deferredCount++;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,229,if (!newNodes.isEmpty()) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,230,// Inlining the variable may have introduced new references
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,231,// to descendants of {@code name}. So those need to be collected now.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,232,namespace.scanNewNodes(newNodes);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,235,return deferredCount > 0;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,239,* Attempt to inline an global alias of a global name. This requires that
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,240,"* the name is well defined: assigned unconditionally, assigned exactly once."
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,241,"* It is assumed that, the name for which it is an alias must already"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,242,* meet these same requirements.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,244,* @param alias The alias to inline
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,245,* @param newNodes nodes added when replaces aliases.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,246,* @return Whether the alias was inlined.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,248,private boolean inlineGlobalAliasIfPossible(
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,249,"Ref alias, GlobalNamespace namespace, Set<Node> newNodes) {"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,250,// Ensure that the alias is assigned to global name at that the
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,251,// declaration.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,253,Node aliasParent = alias.node.getParent();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,254,if (aliasParent.isAssign() && NodeUtil.isExecutedExactlyOnce(aliasParent)) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,255,String target = aliasParent.getFirstChild().getQualifiedName();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,256,if (target != null) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,257,Name name = namespace.getSlot(target);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,258,if (name != null && isInlinableGlobalAlias(name)) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,259,List<Ref> refs = Lists.newArrayList(name.getRefs());
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,260,for (Ref ref : refs) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,261,switch (ref.type) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,262,case SET_FROM_GLOBAL:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,263,continue;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,264,case DIRECT_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,265,case ALIASING_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,266,Node newNode = alias.node.cloneTree();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,267,Node node = ref.node;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,268,"node.getParent().replaceChild(node, newNode);"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,269,newNodes.add(newNode);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,270,name.removeRef(ref);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,271,break;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,272,default:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,273,throw new IllegalStateException();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,277,"rewriteAliasProps(name, alias.node, 0, newNodes);"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,279,// just set the original alias to null.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,280,"aliasParent.replaceChild(alias.node, IR.nullNode());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,281,compiler.reportCodeChange();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,283,// NOTE: It is too expensive to scan for aliases in global scope
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,284,"// immediately, so we defer it and check for them all at once at"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,285,// the end of the pass.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,287,return true;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,292,return false;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,296,* @param name The Name whose properties references should be updated.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,297,* @param value The value to use when rewriting.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,298,* @param depth The chain depth.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,299,* @param newNodes Expression nodes that have been updated.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,301,private void rewriteAliasProps(
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,302,"Name name, Node value, int depth, Set<Node> newNodes) {"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,303,if (name.props != null) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,304,Preconditions.checkState(!
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,305,value.getQualifiedName().equals(name.getFullName()));
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,307,for (Name prop : name.props) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,308,"rewriteAliasProps(prop, value, depth + 1, newNodes);"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,310,List<Ref> refs = Lists.newArrayList(prop.getRefs());
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,311,for (Ref ref : refs) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,312,Node target = ref.node;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,313,for (int i = 0; i <= depth; i++) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,314,if (target.isGetProp()) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,315,target = target.getFirstChild();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,316,} else if (NodeUtil.isObjectLitKey(target)) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,317,"// Object literal key definitions are a little trickier, as we"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,318,// need to find the assignment target
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,319,Node gparent = target.getParent().getParent();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,320,if (gparent.isAssign()) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,321,target = gparent.getFirstChild();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,322,} else {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,323,Preconditions.checkState(NodeUtil.isObjectLitKey(gparent));
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,324,target = gparent;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,326,} else {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,327,throw new IllegalStateException(
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,328,"""unexpected: "" + target.toString());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,331,Preconditions.checkState(target.isGetProp() || target.isName());
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,332,"target.getParent().replaceChild(target, value.cloneTree());"
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,333,prop.removeRef(ref);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,334,newNodes.add(ref.node);
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,340,private boolean isInlinableGlobalAlias(Name name) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,341,// Only simple aliases with direct usage are inlinable.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,342,if (name.inExterns || name.globalSets != 1 || name.localSets != 0
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,343,|| !name.canCollapse()) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,344,return false;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,347,// Only allow inlining of simple references.
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,348,for (Ref ref : name.getRefs()) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,349,switch (ref.type) {
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,350,case SET_FROM_GLOBAL:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,351,// Expect one global set
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,352,continue;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,353,case SET_FROM_LOCAL:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,354,throw new IllegalStateException();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,355,case ALIASING_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,356,case DIRECT_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,357,continue;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,358,case PROTOTYPE_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,359,case CALL_GET:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,360,case DELETE_PROP:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,361,return false;
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,362,default:
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,363,throw new IllegalStateException();
True,src/com/google/javascript/jscomp/CollapseProperties.java,src/com/google/javascript/jscomp/CollapseProperties.java,366,return true;
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,60,private Scope globalScope;
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,186,void scanNewNodes(Set<Node> newNodes) {
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,187,"scanNewNodes(globalScope, newNodes);"
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,203,if (NodeUtil.isObjectLitKey(n)) {
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,204,return newNodes.contains(n);
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,330,if (root != null && n == root) {
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,331,globalScope = t.getScope();
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,1193,// Note: we are more aggressive about collapsing @enum and @constructor
True,src/com/google/javascript/jscomp/GlobalNamespace.java,src/com/google/javascript/jscomp/GlobalNamespace.java,1194,"// declarations than implied here, see Name#canCollapse"
False,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,712,ublic void testFunctionAlias() {
False,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,713,"est(""var a = {}; a.b = {}; a.b.c = function(){}; a.b.d = a.b.c;"","
False,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,714,"var a$b$c = function(){}; var a$b$d = a$b$c;"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,712,public void testFunctionAlias1() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,713,"test(""var a = {}; a.b = {}; a.b.c = function(){}; a.b.d = a.b.c;a.b.d=null"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,714,"""var a$b$c = function(){}; var a$b$d = a$b$c;a$b$d=null;"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,717,public void testFunctionAlias2() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,718,"test(""var a = {}; a.b = {}; a.b.c = function(){}; a.b.d = a.b.c;use(a.b.d)"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,719,"""var a$b$c = function(){}; var a$b$d = null;use(a$b$c);"");"
False,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,938,"est(""var a = {b: 0}; a.c = a.b;"", ""var a$b = 0; var a$c = a$b;"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,943,"test(""var a = {b: 0}; a.c = a.b;a.c = null"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,944,"""var a$b = 0; var a$c = a$b;a$c = null"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1512,public void testTypeDefAlias1() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1513,test(
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1514,"""/** @constructor */ var D = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1515,"""/** @constructor */ D.L = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1516,"""/** @type {D.L} */ D.L.A = new D.L();\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1517,"""\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1518,"""/** @const */ var M = {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1519,"""/** @typedef {D.L} */ M.L = D.L;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1520,"""\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1521,"""use(M.L.A);"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1523,"""var D = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1524,"""var D$L = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1525,"""var D$L$A = new D$L();\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1526,"""var M$L = null\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1527,"""use(D$L$A);"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1530,public void testTypeDefAlias2() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1531,// TODO(johnlenz): make CollapseProperties safer around aliases of
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1532,"// functions and object literals.  Currently, this pass trades correctness"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1533,// for code size.  We should able to create a safer compromise by teaching
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1534,// the pass about goog.inherits and similiar calls.
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1535,test(
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1536,"""/** @constructor */ var D = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1537,"""/** @constructor */ D.L = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1538,"""/** @type {D.L} */ D.L.A = new D.L();\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1539,"""\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1540,"""/** @const */ var M = {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1541,"""if (random) { /** @typedef {D.L} */ M.L = D.L; }\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1542,"""\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1543,"""use(M.L);\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1544,"""use(M.L.A);\n"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1546,"""var D = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1547,"""var D$L = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1548,"""var D$L$A = new D$L();\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1549,"""if (random) { var M$L = D$L; }\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1550,"""use(M$L);\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1551,"""use(M$L.A);"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1554,public void testGlobalAliasWithProperties1() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1555,"test(""var ns = {}; "" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1556,"""/** @constructor */ ns.Foo = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1557,"""/** @enum {number} */ ns.Foo.EventType = {A:1, B:2};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1558,"""/** @constructor */ ns.Bar = ns.Foo;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1559,"""var x = function() {use(ns.Bar.EventType.A)};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1560,"""use(x);"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1561,"""var ns$Foo = function(){};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1562,"""var ns$Foo$EventType$A = 1;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1563,"""var ns$Foo$EventType$B = 2;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1564,"""var ns$Bar = null;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1565,"""var x = function(){use(ns$Foo$EventType$A)};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1566,"""use(x);"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1569,public void testGlobalAliasWithProperties2() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1570,// Reassignment of properties was necessary to prevent invalid code in
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1571,// previous iterations of this optimization.  Verify we don't break
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1572,// code like this.  Now it causes a back-off of the collapsing because
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1573,// the value is assigned more than once.
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1574,"test(""var ns = {}; "" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1575,"""/** @constructor */ ns.Foo = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1576,"""/** @enum {number} */ ns.Foo.EventType = {A:1, B:2};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1577,"""/** @constructor */ ns.Bar = ns.Foo;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1578,"""/** @enum {number} */ ns.Bar.EventType = ns.Foo.EventType;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1579,"""var x = function() {use(ns.Bar.EventType.A)};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1580,"""use(x)"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1581,"""var ns$Foo = function(){};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1582,"""var ns$Foo$EventType = {A:1, B:2};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1583,"""var ns$Bar = null;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1584,"""ns$Foo$EventType = ns$Foo$EventType;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1585,"""var x = function(){use(ns$Foo$EventType.A)};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1586,"""use(x);"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1589,public void testGlobalAliasWithProperties3() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1590,"test(""var ns = {}; "" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1591,"""/** @constructor */ ns.Foo = function() {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1592,"""/** @enum {number} */ ns.Foo.EventType = {A:1, B:2};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1593,"""/** @constructor */ ns.Bar = ns.Foo;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1594,"""/** @enum {number} */ ns.Bar.Other = {X:1, Y:2};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1595,"""var x = function() {use(ns.Bar.Other.X)};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1596,"""use(x)"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1597,"""var ns$Foo=function(){};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1598,"""var ns$Foo$EventType$A=1;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1599,"""var ns$Foo$EventType$B=2;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1600,"""var ns$Bar=null;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1601,"""var ns$Foo$Other$X=1;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1602,"""var ns$Foo$Other$Y=2;"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1603,"""var x=function(){use(ns$Foo$Other$X)};"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1604,"""use(x)\n"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1607,public void testGlobalAliasWithProperties4() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1608,"testSame("""" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1609,"""var nullFunction = function(){};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1610,"""var blob = {};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1611,"""blob.init = nullFunction;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1612,"""use(blob)"");"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1615,public void testGlobalAliasWithProperties5() {
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1616,testSame(
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1617,"""/** @constructor */ var blob = function() {}"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1618,"""var nullFunction = function(){};\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1619,"""blob.init = nullFunction;\n"" +"
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1620,"""use(blob.init)"","
True,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,test/com/google/javascript/jscomp/CollapsePropertiesTest.java,1621,null);
