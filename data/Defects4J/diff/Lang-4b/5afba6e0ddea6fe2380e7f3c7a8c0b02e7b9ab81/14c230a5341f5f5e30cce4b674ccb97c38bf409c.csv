is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6057,"* <p>Truncates a String to the length passed, replacing the middle characters with the supplied"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6058,* replacement String.</p>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6060,* <p>This truncation only occurs if the following criteria is met:
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6061,* <ul>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6062,* <li>Neither the String for truncation nor the replacement String are null or empty </li>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6063,* <li>The length to truncate to is less than the length of the supplied String</li>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6064,* <li>The length to truncate to is greater than 0</li>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6065,* <li>The truncated String will have enough room for the length supplied replacement String
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6066,* and the first and last characters of the supplied String for truncation</li>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6067,* </ul>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6068,"* Otherwise, the returned String will be the same as the supplied String for truncation."
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6069,* </p>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6071,* <pre>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6072,"* StringUtils.truncateMiddle(null, null, 0)      = null"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6073,"* StringUtils.truncateMiddle(""abc"", null, 0)      = ""abc"""
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6074,"* StringUtils.truncateMiddle(""abc"", ""."", 0)      = ""abc"""
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6075,"* StringUtils.truncateMiddle(""abc"", ""."", 3)      = ""abc"""
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6076,"* StringUtils.truncateMiddle(""abcdef"", ""."", 4)     = ""ab.f"""
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6077,* </pre>
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6079,"* @param str  the String to truncate, may be null"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6080,"* @param middle the String to replace the middle characters with, may be null"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6081,* @param length the length to truncate <code>str</code> to.
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6082,"* @return the truncated String if the above criteria is met, or the original String supplied for truncation."
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6084,"public static String truncateMiddle(String str, String middle, int length) {"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6085,if (isEmpty(str) || isEmpty(middle)) {
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6086,return str;
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6089,if (length >= str.length() || length < (middle.length()+2)) {
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6090,return str;
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6093,int targetSting = length-middle.length();
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6094,int startOffset = targetSting/2+targetSting%2;
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6095,int endOffset = str.length()-targetSting/2;
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6097,StringBuilder builder = new StringBuilder(length);
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6098,"builder.append(str.substring(0,startOffset));"
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6099,builder.append(middle);
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6100,builder.append(str.substring(endOffset));
True,src/main/java/org/apache/commons/lang3/StringUtils.java,src/main/java/org/apache/commons/lang3/StringUtils.java,6102,return builder.toString();
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1689,public void testTruncateMiddle() {
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1690,// javadoc examples
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1691,"assertNull( StringUtils.truncateMiddle(null, null, 0) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1692,"assertEquals( ""abc"", StringUtils.truncateMiddle(""abc"", null, 0) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1693,"assertEquals( ""abc"", StringUtils.truncateMiddle(""abc"", ""."", 0) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1694,"assertEquals( ""abc"", StringUtils.truncateMiddle(""abc"", ""."", 3) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1695,"assertEquals( ""ab.f"", StringUtils.truncateMiddle(""abcdef"", ""."", 4) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1697,// JIRA issue (LANG-405) example (slightly different than actual expected result)
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1698,assertEquals(
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1699,"""A very long text with un...f the text is complete."","
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1700,StringUtils.truncateMiddle(
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1701,"""A very long text with unimportant stuff in the middle but interesting start and "" +"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1702,"""end to see if the text is complete."", ""..."", 50) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1704,// Test a much longer text :)
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1705,"String longText = ""Start text"" + StringUtils.repeat(""x"", 10000) + ""Close text"";"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1706,assertEquals(
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1707,"""Start text->Close text"","
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1708,"StringUtils.truncateMiddle( longText, ""->"", 22 ) );"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1710,// Test negative length
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1711,"assertEquals(""abc"", StringUtils.truncateMiddle(""abc"", ""."", -1));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1713,// Test boundaries
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1714,// Fails to change anything as method ensures first and last char are kept
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1715,"assertEquals(""abc"", StringUtils.truncateMiddle(""abc"", ""."", 1));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1716,"assertEquals(""abc"", StringUtils.truncateMiddle(""abc"", ""."", 2));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1718,// Test length of n=1
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1719,"assertEquals(""a"", StringUtils.truncateMiddle(""a"", ""."", 1));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1721,// Test smallest length that can lead to success
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1722,"assertEquals(""a.d"", StringUtils.truncateMiddle(""abcd"", ""."", 3));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1724,// More from LANG-405
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1725,"assertEquals(""a..f"", StringUtils.truncateMiddle(""abcdef"", "".."", 4));"
True,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,src/test/java/org/apache/commons/lang3/StringUtilsTest.java,1726,"assertEquals(""ab.ef"", StringUtils.truncateMiddle(""abcdef"", ""."", 5));"
