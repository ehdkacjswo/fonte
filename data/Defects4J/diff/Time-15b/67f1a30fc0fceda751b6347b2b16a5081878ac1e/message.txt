Rework fix to ensure immutable classes by using volatile instance variables

Original fix relied on a reflection hack that isn't guaranteed to work
