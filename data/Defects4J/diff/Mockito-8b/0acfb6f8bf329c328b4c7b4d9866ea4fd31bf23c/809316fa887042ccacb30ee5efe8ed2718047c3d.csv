is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/Mockito.java,src/org/mockito/Mockito.java,24,ockitoExpectation controlToStub = MockitoState.instance().removeControlToBeStubbed();
True,src/org/mockito/Mockito.java,src/org/mockito/Mockito.java,24,MockitoExpectation controlToStub = MockitoState.instance().pullControlToBeStubbed();
False,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,46,erifyingMode verifyingMode = mockitoState.removeVerifyingMode();
True,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,46,VerifyingMode verifyingMode = mockitoState.pullVerifyingMode();
False,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,68,f (mockitoState.settingThrowableOnVoidMethodScenario()) {
False,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,69,hrowable throwable = mockitoState.removeThrowableToBeSetOnVoidMethod();
True,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,68,Throwable throwable = mockitoState.pullThrowableToBeSetOnVoidMethod();
True,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,69,if (throwable != null) {
False,src/org/mockito/internal/MockitoControl.java,src/org/mockito/internal/MockitoControl.java,122,/TODO refactor so we don't use static state to keep the throwable
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,6, state. therefore dangerous and may have nasty bugs.
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,7, TODO look at every method that changes state and make sure the state is cleared afterwards
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,9, @author sfaber
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,31,ublic synchronized MockitoExpectation removeControlToBeStubbed() {
True,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,25,public synchronized MockitoExpectation pullControlToBeStubbed() {
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,48,ublic synchronized boolean verificationScenario() {
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,49,eturn verifyingModeLocal.get() != null;
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,52,ublic synchronized VerifyingMode removeVerifyingMode() {
True,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,42,public synchronized VerifyingMode pullVerifyingMode() {
True,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,49,//TODO refactor so we don't use static state to keep the throwable. we
True,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,50,//can set it directly to mockcontrol or something and keep this pseudo static class thinner
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,62,ublic synchronized Throwable removeThrowableToBeSetOnVoidMethod() {
True,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,55,public synchronized Throwable pullThrowableToBeSetOnVoidMethod() {
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,68,ublic synchronized boolean settingThrowableOnVoidMethodScenario() {
False,src/org/mockito/internal/MockitoState.java,src/org/mockito/internal/MockitoState.java,69,eturn throwableToBeSetOnVoidMethod.get() != null;
False,test/org/mockito/MockitoTest.java,test/org/mockito/MockitoTest.java,35,ssertNull(MockitoState.instance().removeControlToBeStubbed());
True,test/org/mockito/MockitoTest.java,test/org/mockito/MockitoTest.java,35,assertNull(MockitoState.instance().pullControlToBeStubbed());
False,test/org/mockito/internal/MockitoControlTest.java,test/org/mockito/internal/MockitoControlTest.java,19,ublic void shouldClearVerificationModeEvenWhenInvalidMatchers() throws Throwable {
True,test/org/mockito/internal/MockitoControlTest.java,test/org/mockito/internal/MockitoControlTest.java,19,public void shouldRemoveVerificationModeEvenWhenInvalidMatchers() throws Throwable {
False,test/org/mockito/internal/MockitoControlTest.java,test/org/mockito/internal/MockitoControlTest.java,34,ssertFalse(state.verificationScenario());
True,test/org/mockito/internal/MockitoControlTest.java,test/org/mockito/internal/MockitoControlTest.java,34,assertNull(state.pullVerifyingMode());
False,test/org/mockito/internal/MockitoStateTest.java,test/org/mockito/internal/MockitoStateTest.java,19,ssertFalse(mockitoState.verificationScenario());
True,test/org/mockito/internal/MockitoStateTest.java,test/org/mockito/internal/MockitoStateTest.java,19,assertNull(mockitoState.pullVerifyingMode());
False,test/org/mockito/internal/MockitoStateTest.java,test/org/mockito/internal/MockitoStateTest.java,25,ssertTrue(mockitoState.verificationScenario());
False,test/org/mockito/internal/MockitoStateTest.java,test/org/mockito/internal/MockitoStateTest.java,27,"ssertSame(mode, mockitoState.removeVerifyingMode());"
True,test/org/mockito/internal/MockitoStateTest.java,test/org/mockito/internal/MockitoStateTest.java,25,"assertSame(mode, mockitoState.pullVerifyingMode());"
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,13,* invalid state happens if:
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,14,*    -unfinished stubbing
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,15,*    -unfinished stubVoid
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,16,*    -stubbing without actual method call
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,17,*    -verify without actual method call
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,19,* we should aim to detect invalid state in following scenarios:
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,20,*    -on method call on mock
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,21,*    -on verify
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,22,*    -on verifyZeroInteractions
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,23,*    -on verifyNoMoreInteractions
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,24,*    -on stub
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,25,*    -on stubVoid
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,27,* obviously we should consider if it is really important to cover all those naughty usage
False,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,13,ublic class MockitoExploitsTest {
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,30,public class InvalidUsageTest {
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,32,private List mock;
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,38,mock = mock(List.class);
False,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,34,ist mock = mock(List.class);
False,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,47,ist mock = mock(List.class);
False,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,60,ist mock = mock(List.class);
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,84,@Ignore
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,85,@Test
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,86,public void unfinishedStubbingVoid() {
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,87,stubVoid(mock);
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,89,try {
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,90,mock.clear();
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,91,fail();
True,test/org/mockito/usage/MockitoExploitsTest.java,test/org/mockito/usage/InvalidUsageTest.java,92,} catch (UnfinishedStubbingException e) {}
