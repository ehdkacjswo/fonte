Trying a Top-Down approach instead of the Bottom-Up approach to better solve this generic mess (tests are broken here)

--HG--
branch : issue230
