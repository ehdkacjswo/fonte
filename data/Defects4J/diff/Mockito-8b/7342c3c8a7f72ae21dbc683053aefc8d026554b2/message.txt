revamp fields manipulation in testng integration to avoid code duplication

--HG--
branch : issue 304 : TestNG integration
