is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,15,"ield createInfoField = methodProxy.getClass().getDeclaredField(""createInfo"");"
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,15,Field createInfoField = reflectOnCreateInfo(methodProxy);
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,28,"@SuppressWarnings(""unchecked"")"
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,29,private Field reflectOnCreateInfo(MethodProxy methodProxy) throws NoSuchFieldException {
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,30,Class cglibMethodProxyClass = methodProxy.getClass();
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,31,"//in case methodProxy was extended by user, let's traverse the object graph to find the cglib methodProxy"
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,32,//with all the fields we would like to change
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,33,while (cglibMethodProxyClass != MethodProxy.class) {
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,34,cglibMethodProxyClass = methodProxy.getClass().getSuperclass();
True,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,src/org/mockito/internal/creation/cglib/CGLIBHacker.java,36,"return cglibMethodProxyClass.getDeclaredField(""createInfo"");"
False,src/org/mockito/internal/invocation/Invocation.java,src/org/mockito/internal/invocation/Invocation.java,46,rivate final RealMethod realMethod;
True,src/org/mockito/internal/invocation/Invocation.java,src/org/mockito/internal/invocation/Invocation.java,46,final RealMethod realMethod;
False,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,10,ublic class CGLIBProxyRealMethod implements RealMethod {
True,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,10,"public class CGLIBProxyRealMethod implements RealMethod, HasCGLIBMethodProxy {"
True,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,22,public MethodProxy getMethodProxy() {
True,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/CGLIBProxyRealMethod.java,23,return methodProxy;
False,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,10,ublic class FilteredCGLIBProxyRealMethod implements RealMethod {
True,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,10,"public class FilteredCGLIBProxyRealMethod implements RealMethod, HasCGLIBMethodProxy {"
True,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,31,public MethodProxy getMethodProxy() {
True,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,src/org/mockito/internal/invocation/realmethod/FilteredCGLIBProxyRealMethod.java,32,return ((HasCGLIBMethodProxy) realMethod).getMethodProxy();
True,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,1,package org.mockito.internal.invocation.realmethod;
True,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,3,import org.mockito.cglib.proxy.MethodProxy;
True,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,5,public interface HasCGLIBMethodProxy {
True,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,src/org/mockito/internal/invocation/realmethod/HasCGLIBMethodProxy.java,7,MethodProxy getMethodProxy();
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,1,package org.mockito.internal.creation.cglib;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,3,import static org.mockito.Mockito.*;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,5,import org.junit.Test;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,6,import org.mockito.cglib.core.NamingPolicy;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,7,import org.mockito.cglib.proxy.MethodProxy;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,8,import org.mockitoutil.TestBase;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,9,import org.powermock.reflect.Whitebox;
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,11,public class CGLIBHackerTest extends TestBase {
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,13,@Test
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,14,public void shouldSetMockitoNamingPolicy() throws Exception {
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,15,//given
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,16,MethodProxy methodProxy = new MethodProxyBuilder().build();
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,18,//when
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,19,new CGLIBHacker().setMockitoNamingPolicy(methodProxy);
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,21,//then
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,22,"Object createInfo = Whitebox.getInternalState(methodProxy, ""createInfo"");"
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,23,"NamingPolicy namingPolicy = (NamingPolicy) Whitebox.getInternalState(createInfo, ""namingPolicy"");"
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,24,"assertEquals(namingPolicy, MockitoNamingPolicy.INSTANCE);"
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,27,@Test
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,28,public void shouldSetMockitoNamingPolicyEvenIfMethodProxyIsProxied() throws Exception {
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,29,//given
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,30,MethodProxy proxiedMethodProxy = spy(new MethodProxyBuilder().build());
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,32,//when
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,33,new CGLIBHacker().setMockitoNamingPolicy(proxiedMethodProxy);
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,35,//then
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,36,"Object createInfo = Whitebox.getInternalState(proxiedMethodProxy, ""createInfo"");"
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,37,"NamingPolicy namingPolicy = (NamingPolicy) Whitebox.getInternalState(createInfo, ""namingPolicy"");"
True,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,test/org/mockito/internal/creation/cglib/CGLIBHackerTest.java,38,"assertEquals(namingPolicy, MockitoNamingPolicy.INSTANCE);"
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,1,package org.mockito.internal.creation.cglib;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,3,import static org.mockito.Mockito.*;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,5,import org.mockito.cglib.proxy.MethodProxy;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,6,import org.mockito.internal.invocation.ExposedInvocation;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,7,import org.mockito.internal.invocation.Invocation;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,8,import org.mockito.invocation.InvocationOnMock;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,9,import org.mockito.stubbing.Answer;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,10,import org.mockitousage.IMethods;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,12,public class MethodProxyBuilder {
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,14,public MethodProxy build() {
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,15,IMethods mock = mock(IMethods.class);
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,16,when(mock.objectReturningMethodNoArgs()).thenAnswer(new Answer<Object>() {
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,17,public Object answer(InvocationOnMock invocation) throws Throwable {
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,18,return invocation;
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,21,Invocation i = (Invocation) mock.objectReturningMethodNoArgs();
True,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,test/org/mockito/internal/creation/cglib/MethodProxyBuilder.java,22,return new ExposedInvocation(i).getMethodProxy();
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,1,package org.mockito.internal.invocation;
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,3,import org.mockito.cglib.proxy.MethodProxy;
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,4,import org.mockito.internal.invocation.realmethod.HasCGLIBMethodProxy;
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,6,public class ExposedInvocation {
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,8,private final MethodProxy methodProxy;
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,10,public ExposedInvocation(Invocation toBeExposed) {
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,11,methodProxy = ((HasCGLIBMethodProxy) toBeExposed.realMethod).getMethodProxy();
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,14,public MethodProxy getMethodProxy() {
True,test/org/mockito/internal/invocation/ExposedInvocation.java,test/org/mockito/internal/invocation/ExposedInvocation.java,15,return methodProxy;
