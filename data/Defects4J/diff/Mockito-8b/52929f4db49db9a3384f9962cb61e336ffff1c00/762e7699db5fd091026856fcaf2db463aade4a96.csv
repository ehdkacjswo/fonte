is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/exceptions/Reporter.java,src/org/mockito/exceptions/Reporter.java,323,"Mockito cannot mock final classes like: "","
True,src/org/mockito/exceptions/Reporter.java,src/org/mockito/exceptions/Reporter.java,323,"""Mockito cannot mock primitives or final classes like: "","
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,2, Copyright (c) 2007 Mockito contributors
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,3, This program is made available under the terms of the MIT License.
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,5,ackage org.mockito.internal.creation;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,7,mport java.lang.reflect.Modifier;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,8,mport java.util.List;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,10,mport net.sf.cglib.core.CollectionUtils;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,11,mport net.sf.cglib.core.DefaultNamingPolicy;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,12,mport net.sf.cglib.core.NamingPolicy;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,13,mport net.sf.cglib.core.Predicate;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,14,mport net.sf.cglib.core.VisibilityPredicate;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,15,mport net.sf.cglib.proxy.Callback;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,16,mport net.sf.cglib.proxy.Enhancer;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,17,mport net.sf.cglib.proxy.Factory;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,19,mport org.mockito.exceptions.Reporter;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,22, Factory generating a mock for a class.
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,24,ublic class MockFactory<T> {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,26,"SuppressWarnings(""unchecked"")"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,27,"ublic T createMock(Class<T> toMock, final MethodInterceptorFilter filter, Object optionalInstance) {"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,28,alidateClass(toMock);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,29,nhancer enhancer = createEnhancer(toMock);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,30,nhancer.setCallbackType(filter.getClass());
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,32,lass mockClass = enhancer.createClass();
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,34,actory mock = createMock(mockClass);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,36,ock.setCallbacks(new Callback[] { filter });
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,38,ilter.setInstance(optionalInstance != null ? optionalInstance : mock);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,39,eturn (T) mock;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,42,rivate void validateClass(Class<T> toMock) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,43,f (Modifier.isFinal(toMock.getModifiers())) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,44,ew Reporter().cannotMockFinalClass(toMock);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,48,rivate Enhancer createEnhancer(Class<T> toMock) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,49,nhancer enhancer = new Enhancer() {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,50,"SuppressWarnings(""unchecked"")"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,51,/Override default behavior which throws exception when no non-private constructors are left
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,52,"rotected void filterConstructors(Class sc, List constructors) {"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,53,"ollectionUtils.filter(constructors, new VisibilityPredicate("
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,54,"c, true));"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,58,f (toMock.isInterface()) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,59,nhancer.setInterfaces(new Class[] { toMock });
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,60, else {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,61,nhancer.setSuperclass(toMock);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,64,/This is required but I could not figure out the way to test it
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,65,/See issue #11
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,66,f (toMock.getSigners() != null) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,67,nhancer.setNamingPolicy(ALLOWS_MOCKING_CLASSES_IN_SIGNED_PACKAGES);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,70,/This is required to make (cglib + eclipse plugins testing) happy
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,71,/See issue #11
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,72,nhancer.setClassLoader(SearchingClassLoader.combineLoadersOf(toMock));
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,74,eturn enhancer;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,77,rivate Factory createMock(Class<?> mockClass) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,78,actory mock;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,79,ry {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,80,ock = (Factory) ObjenesisClassInstantiator.newInstance(mockClass);
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,81, catch (InstantiationException e) {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,82,"hrow new RuntimeException(""Fail to instantiate mock for "" + mockClass"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,83," "" on "" + System.getProperty(""java.vm.vendor"") + "" JVM"");"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,86,eturn mock;
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,89,rivate static final NamingPolicy ALLOWS_MOCKING_CLASSES_IN_SIGNED_PACKAGES = new DefaultNamingPolicy() {
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,90,Override
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,91,"ublic String getClassName(String prefix, String source, Object key, Predicate names) {"
False,src/org/mockito/internal/creation/MockFactory.java,src/org/mockito/internal/creation/MockFactory.java,92,"eturn ""codegen."" + super.getClassName(prefix, source, key, names);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,1,package org.mockito.internal.creation.jmock;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,3,import java.lang.reflect.Constructor;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,4,import java.lang.reflect.Method;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,5,import java.lang.reflect.Modifier;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,6,import java.util.List;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,8,import net.sf.cglib.core.CodeGenerationException;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,9,import net.sf.cglib.core.DefaultNamingPolicy;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,10,import net.sf.cglib.core.NamingPolicy;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,11,import net.sf.cglib.core.Predicate;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,12,import net.sf.cglib.proxy.Callback;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,13,import net.sf.cglib.proxy.CallbackFilter;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,14,import net.sf.cglib.proxy.Enhancer;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,15,import net.sf.cglib.proxy.Factory;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,16,import net.sf.cglib.proxy.MethodInterceptor;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,17,import net.sf.cglib.proxy.NoOp;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,19,import org.objenesis.ObjenesisStd;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,22,* Thanks to jMock guys for this handy class that wraps all the cglib magic.
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,24,public class ClassImposterizer  {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,26,public static final ClassImposterizer INSTANCE = new ClassImposterizer();
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,28,private ClassImposterizer() {}
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,30,private ObjenesisStd objenesis = new ObjenesisStd();
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,32,private static final NamingPolicy NAMING_POLICY_THAT_ALLOWS_IMPOSTERISATION_OF_CLASSES_IN_SIGNED_PACKAGES = new DefaultNamingPolicy() {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,33,@Override
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,34,"public String getClassName(String prefix, String source, Object key, Predicate names) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,35,"return ""codegen."" + super.getClassName(prefix, source, key, names);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,39,private static final CallbackFilter IGNORE_BRIDGE_METHODS = new CallbackFilter() {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,40,public int accept(Method method) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,41,return method.isBridge() ? 1 : 0;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,45,public boolean canImposterise(Class<?> type) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,46,return !type.isPrimitive() && !Modifier.isFinal(type.getModifiers());
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,49,"public <T> T imposterise(final MethodInterceptor interceptor, Class<T> mockedType, Class<?>... ancilliaryTypes) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,50,try {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,51,"setConstructorsAccessible(mockedType, true);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,52,Class<?> proxyClass = createProxyClass(mockedType);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,53,"return mockedType.cast(createProxy(proxyClass, interceptor));"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,54,} finally {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,55,"setConstructorsAccessible(mockedType, false);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,59,"private void setConstructorsAccessible(Class<?> mockedType, boolean accessible) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,60,for (Constructor<?> constructor : mockedType.getDeclaredConstructors()) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,61,constructor.setAccessible(accessible);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,65,private <T> Class<?> createProxyClass(Class<?> mockedType) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,66,if (mockedType == Object.class) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,67,mockedType = ClassWithSuperclassToWorkAroundCglibBug.class;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,70,Enhancer enhancer = new Enhancer() {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,71,@Override
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,72,"@SuppressWarnings(""unchecked"")"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,73,"protected void filterConstructors(Class sc, List constructors) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,74,// Don't filter
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,77,enhancer.setClassLoader(SearchingClassLoader.combineLoadersOf(mockedType));
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,78,enhancer.setUseFactory(true);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,79,if (mockedType.isInterface()) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,80,enhancer.setSuperclass(Object.class);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,81,enhancer.setInterfaces(prepend(mockedType));
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,82,} else {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,83,enhancer.setSuperclass(mockedType);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,85,"enhancer.setCallbackTypes(new Class[]{MethodInterceptor.class, NoOp.class});"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,86,enhancer.setCallbackFilter(IGNORE_BRIDGE_METHODS);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,87,if (mockedType.getSigners() != null) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,88,enhancer.setNamingPolicy(NAMING_POLICY_THAT_ALLOWS_IMPOSTERISATION_OF_CLASSES_IN_SIGNED_PACKAGES);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,91,try {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,92,return enhancer.createClass();
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,93,} catch (CodeGenerationException e) {
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,94,"throw new IllegalArgumentException(""could not imposterise "" + mockedType, e);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,98,"private Object createProxy(Class<?> proxyClass, final MethodInterceptor interceptor) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,99,Factory proxy = (Factory) objenesis.newInstance(proxyClass);
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,100,"proxy.setCallbacks(new Callback[] {interceptor, NoOp.INSTANCE});"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,101,return proxy;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,104,"private Class<?>[] prepend(Class<?> first, Class<?>... rest) {"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,105,Class<?>[] all = new Class<?>[rest.length+1];
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,106,all[0] = first;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,107,"System.arraycopy(rest, 0, all, 1, rest.length);"
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,108,return all;
True,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,src/org/mockito/internal/creation/jmock/ClassImposterizer.java,111,public static class ClassWithSuperclassToWorkAroundCglibBug {}
False,src/org/mockito/internal/creation/SearchingClassLoader.java,src/org/mockito/internal/creation/jmock/SearchingClassLoader.java,5,ackage org.mockito.internal.creation;
True,src/org/mockito/internal/creation/SearchingClassLoader.java,src/org/mockito/internal/creation/jmock/SearchingClassLoader.java,5,package org.mockito.internal.creation.jmock;
False,src/org/mockito/internal/creation/SearchingClassLoader.java,src/org/mockito/internal/creation/jmock/SearchingClassLoader.java,13, Thanks to jMock guys for this cool ClassLoader.
True,src/org/mockito/internal/creation/SearchingClassLoader.java,src/org/mockito/internal/creation/jmock/SearchingClassLoader.java,13,* Thanks to jMock guys for this ClassLoader.
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,11,import org.mockito.exceptions.Reporter;
False,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,14,mport org.mockito.internal.creation.MockFactory;
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,15,import org.mockito.internal.creation.jmock.ClassImposterizer;
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,22,validateType(classToMock);
False,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,24,ockFactory<T> proxyFactory = new MockFactory<T>();
False,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,27,"eturn proxyFactory.createMock(classToMock, filter, optionalInstance);"
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,29,"T mock = (T) ClassImposterizer.INSTANCE.imposterise(filter, classToMock);"
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,30,filter.setInstance(optionalInstance != null ? optionalInstance : mock);
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,31,return mock;
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,34,private static <T> void validateType(Class<T> classToMock) {
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,35,if (!ClassImposterizer.INSTANCE.canImposterise(classToMock)) {
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,36,new Reporter().cannotMockFinalClass(classToMock);
False,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,22,mport org.mockito.internal.creation.MockFactoryTest;
True,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,22,import org.mockito.internal.creation.jmock.ClassImposterizerTest;
False,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,100,"ockFactoryTest.class,"
True,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,test/org/concurrentmockito/ThreadsRunAllTestsHalfManualTest.java,100,"ClassImposterizerTest.class,"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,2, Copyright (c) 2007 Mockito contributors
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,3, This program is made available under the terms of the MIT License.
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,5,ackage org.mockito.internal.creation;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,7,mport net.sf.cglib.proxy.Factory;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,9,mport org.junit.Test;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,10,mport org.mockitoutil.TestBase;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,12,"SuppressWarnings(""unchecked"")"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,13,ublic class MockFactoryTest extends TestBase {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,15,Test
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,16,ublic void shouldCreateMockFromInterface() throws Exception {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,17,ockFactory<SomeInterface> factory = new MockFactory<SomeInterface>();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,18,"omeInterface proxy = factory.createMock(SomeInterface.class, new MockAwareStub(), null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,20,lass superClass = proxy.getClass().getSuperclass();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,21,"ssertEquals(Object.class, superClass);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,24,Test
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,25,ublic void shouldCreateMockFromClass() throws Exception {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,26,ockFactory<ClassWithoutConstructor> factory = new MockFactory<ClassWithoutConstructor>();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,27,"lassWithoutConstructor proxy = factory.createMock(ClassWithoutConstructor.class, new MockAwareStub(), null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,29,lass superClass = proxy.getClass().getSuperclass();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,30,"ssertEquals(ClassWithoutConstructor.class, superClass);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,33,Test
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,34,ublic void shouldCreateMockFromClassEvenWhenConstructorIsDodgy() throws Exception {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,35,ry {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,36,ew ClassWithDodgyConstructor();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,37,ail();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,38, catch (Exception e) {}
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,40,ockFactory<ClassWithDodgyConstructor> factory = new MockFactory<ClassWithDodgyConstructor>();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,41,"lassWithDodgyConstructor mock = factory.createMock(ClassWithDodgyConstructor.class, new MockAwareStub(), null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,42,ssertNotNull(mock);
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,45,Test
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,46,ublic void shouldMocksHaveDifferentInterceptors() throws Exception {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,47,ockFactory<SomeClass> factory = new MockFactory<SomeClass>();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,48,"omeClass mockOne = factory.createMock(SomeClass.class, new MockAwareStub(), null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,49,"omeClass mockTwo = factory.createMock(SomeClass.class, new MockAwareStub(), null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,51,actory cglibFactoryOne = (Factory) mockOne;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,52,actory cglibFactoryTwo = (Factory) mockTwo;
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,54,"ssertNotSame(cglibFactoryOne.getCallback(0), cglibFactoryTwo.getCallback(0));"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,57,rivate interface SomeInterface {};
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,59,rivate class SomeClass {};
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,60,rivate class ClassWithoutConstructor {};
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,62,rivate class ClassWithDodgyConstructor {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,63,ublic ClassWithDodgyConstructor() {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,64,hrow new RuntimeException();
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,68,rivate final class MockAwareStub extends MethodInterceptorFilter {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,69,ublic MockAwareStub() {
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,70,"uper(Object.class, null);"
False,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,73,ublic void setInstance(Object mock) {}
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,1,package org.mockito.internal.creation.jmock;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,3,import static org.junit.Assert.*;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,5,import java.lang.reflect.Method;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,7,import net.sf.cglib.proxy.Factory;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,8,import net.sf.cglib.proxy.MethodInterceptor;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,9,import net.sf.cglib.proxy.MethodProxy;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,11,import org.junit.Test;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,13,"@SuppressWarnings(""unchecked"")"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,14,public class ClassImposterizerTest {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,16,@Test
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,17,public void shouldCreateMockFromInterface() throws Exception {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,18,"SomeInterface proxy = ClassImposterizer.INSTANCE.imposterise(new MethodInterceptorStub(), SomeInterface.class);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,20,Class superClass = proxy.getClass().getSuperclass();
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,21,"assertEquals(Object.class, superClass);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,24,@Test
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,25,public void shouldCreateMockFromClass() throws Exception {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,26,"ClassWithoutConstructor proxy = ClassImposterizer.INSTANCE.imposterise(new MethodInterceptorStub(), ClassWithoutConstructor.class);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,28,Class superClass = proxy.getClass().getSuperclass();
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,29,"assertEquals(ClassWithoutConstructor.class, superClass);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,32,@Test
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,33,public void shouldCreateMockFromClassEvenWhenConstructorIsDodgy() throws Exception {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,34,try {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,35,new ClassWithDodgyConstructor();
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,36,fail();
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,37,} catch (Exception e) {}
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,39,"ClassWithDodgyConstructor mock = ClassImposterizer.INSTANCE.imposterise(new MethodInterceptorStub(), ClassWithDodgyConstructor.class);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,40,assertNotNull(mock);
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,43,@Test
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,44,public void shouldMocksHaveDifferentInterceptors() throws Exception {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,45,"SomeClass mockOne = ClassImposterizer.INSTANCE.imposterise(new MethodInterceptorStub(), SomeClass.class);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,46,"SomeClass mockTwo = ClassImposterizer.INSTANCE.imposterise(new MethodInterceptorStub(), SomeClass.class);"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,48,Factory cglibFactoryOne = (Factory) mockOne;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,49,Factory cglibFactoryTwo = (Factory) mockTwo;
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,51,"assertNotSame(cglibFactoryOne.getCallback(0), cglibFactoryTwo.getCallback(0));"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,54,private interface SomeInterface {};
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,56,private class SomeClass {};
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,57,private class ClassWithoutConstructor {};
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,59,private class ClassWithDodgyConstructor {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,60,public ClassWithDodgyConstructor() {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,61,throw new RuntimeException();
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,65,private final class MethodInterceptorStub implements MethodInterceptor {
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,67,@Override
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,68,"public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {"
True,test/org/mockito/internal/creation/MockFactoryTest.java,test/org/mockito/internal/creation/jmock/ClassImposterizerTest.java,69,return null;
True,test/org/mockitousage/misuse/InvalidUsageTest.java,test/org/mockitousage/misuse/InvalidUsageTest.java,80,@Test(expected=MockitoException.class)
True,test/org/mockitousage/misuse/InvalidUsageTest.java,test/org/mockitousage/misuse/InvalidUsageTest.java,81,public void shouldNotAllowMockingPrimitves() throws Exception {
True,test/org/mockitousage/misuse/InvalidUsageTest.java,test/org/mockitousage/misuse/InvalidUsageTest.java,82,mock(Integer.TYPE);
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,65,class Foo {
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,66,public final String toString() {
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,67,"return ""foo"";"
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,71,@Test
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,72,public void shouldAllowMockingWhenToStringIsFinal() throws Exception {
True,test/org/mockitousage/stubbing/BasicStubbingTest.java,test/org/mockitousage/stubbing/BasicStubbingTest.java,73,mock(Foo.class);
