is_addition,old_file_path,new_file_path,line_num,content
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,1,package org.mockito.internal.util.reflection;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,3,import org.mockito.exceptions.Reporter;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,5,import java.lang.reflect.Constructor;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,6,import java.lang.reflect.Field;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,7,import java.util.*;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,9,import static org.mockito.Mockito.mock;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,11,public class ConstructorInitializer {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,13,private final Field field;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,14,private final Object target;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,16,"public ConstructorInitializer(Field field, Object target) {"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,17,this.field = field;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,18,this.target = target;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,22,public void initialize(Set<Object> mocks) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,23,try {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,24,final Object instance = newInstance( mocks);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,25,final AccessibilityChanger changer = new AccessibilityChanger();
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,26,changer.enableAccess(field);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,27,"field.set(target, instance);"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,28,changer.safelyDisableAccess(field);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,29,} catch (Exception e) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,30,new Reporter().cannotInitializeForInjectMocksAnnotation(
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,31,"field.getName(), e);"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,35,private Object newInstance(Set<Object> mocks)
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,36,throws Exception {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,37,final Constructor<?> c = biggestConstructor(field.getType());
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,38,"final Object[] args = args(c, mocks);"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,39,final AccessibilityChanger changer = new AccessibilityChanger();
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,40,changer.enableAccess(c);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,41,final Object instance = c.newInstance(args);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,42,changer.safelyDisableAccess(c);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,43,return instance;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,46,"private Object[] args(Constructor<?> c, Set<Object> mocks) {"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,47,final List<Object> args = new ArrayList<Object>(
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,48,c.getParameterTypes().length);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,50,for (Class<?> paramClass : c.getParameterTypes()) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,51,"args.add(findMockByTypeOrCreateOne(mocks, paramClass));"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,53,return args.toArray();
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,56,"private Object findMockByTypeOrCreateOne(Set<Object> mocks,"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,57,Class<?> paramClass) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,58,for (Object mock : mocks) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,59,if (paramClass.isAssignableFrom(mock.getClass())) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,60,return mock;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,63,return notMockFoundForClass(paramClass);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,66,private Object notMockFoundForClass(Class<?> paramClass) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,67,return mock(paramClass);
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,70,private Constructor<?> biggestConstructor(Class<?> clazz) {
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,71,final List<Constructor<?>> constructors = Arrays.asList(clazz
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,72,.getConstructors());
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,73,"Collections.sort(constructors, new Comparator<Constructor<?>>() {"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,75,"public int compare(Constructor<?> o1, Constructor<?> o2) {"
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,76,return o2.getParameterTypes().length
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,77,- o1.getParameterTypes().length;
True,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,src/org/mockito/internal/util/reflection/ConstructorInitializer.java,80,return constructors.get(0);
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,1,package org.mockitousage.annotation;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,3,import org.junit.Test;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,4,import org.mockito.InjectMocks;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,5,import org.mockito.Mock;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,6,import org.mockitousage.examples.use.ArticleCalculator;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,7,import org.mockitousage.examples.use.ArticleManager;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,8,import org.mockitoutil.TestBase;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,10,import static org.mockito.Mockito.when;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,12,public class InjectMocksTest extends TestBase {
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,14,@Mock
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,15,ArticleCalculator calculator;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,17,@InjectMocks
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,18,ArticleManager articleManager;
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,20,@Test
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,21,public void shouldNotFailWhenNotInitialized() {
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,22,assertNotNull(articleManager);
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,25,@Test(expected = IllegalArgumentException.class)
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,26,public void testInnerMockShouldRaiseAnExceptionThatChangesOuterMockBehavior() {
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,27,"when(calculator.countArticles(""new"")).thenThrow(new IllegalArgumentException());"
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,29,"articleManager.updateArticleCounters(""new"");"
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,32,@Test
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,33,public void mockJustWorks() {
True,test/org/mockitousage/annotation/InjectMocksTest.java,test/org/mockitousage/annotation/InjectMocksTest.java,34,"articleManager.updateArticleCounters(""new"");"
