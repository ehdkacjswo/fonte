issue 238 : moved spy on injected mocks handling, cleaned some code

--HG--
branch : issue 238 : constructor injection
