is_addition,old_file_path,new_file_path,line_num,content
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,2,* Copyright (C) 2010 Google Inc.
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,4,"* Licensed under the Apache License, Version 2.0 (the ""License"");"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,5,* you may not use this file except in compliance with the License.
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,6,* You may obtain a copy of the License at
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,8,* http://www.apache.org/licenses/LICENSE-2.0
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,10,"* Unless required by applicable law or agreed to in writing, software"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,11,"* distributed under the License is distributed on an ""AS IS"" BASIS,"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,12,"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,13,* See the License for the specific language governing permissions and
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,14,* limitations under the License.
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,16,package com.google.gson.protobuf;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,18,import com.google.gson.JsonElement;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,19,import com.google.gson.JsonObject;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,20,import com.google.gson.JsonSerializationContext;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,21,import com.google.gson.JsonSerializer;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,22,import com.google.protobuf.Descriptors.FieldDescriptor;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,23,import com.google.protobuf.Descriptors.FieldDescriptor.JavaType;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,24,import com.google.protobuf.Message;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,26,import java.lang.reflect.Type;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,27,import java.util.Map;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,29,public class ProtoTypeAdapter implements JsonSerializer<Message> {
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,31,@Override
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,32,"public JsonElement serialize(Message msg, Type typeOfMsg, JsonSerializationContext context) {"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,33,JsonObject obj = new JsonObject();
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,34,"Map<FieldDescriptor, Object> allFields = msg.getAllFields();"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,35,"for (Map.Entry<FieldDescriptor, Object> entry : allFields.entrySet()) {"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,36,FieldDescriptor key = entry.getKey();
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,37,Object value = entry.getValue();
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,38,JavaType javaType = key.getJavaType();
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,39,Class<?> type = toJavaType(javaType);
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,40,"JsonElement element = context.serialize(value, type);"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,41,"obj.add(key.getName(), element);"
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,43,return obj;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,46,private Class<?> toJavaType(JavaType javaType) {
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,47,switch (javaType) {
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,48,case BOOLEAN:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,49,return Boolean.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,50,case BYTE_STRING:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,51,return String.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,52,case DOUBLE:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,53,return double.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,54,case ENUM:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,55,return Enum.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,56,case FLOAT:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,57,return float.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,58,case INT:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,59,return int.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,60,case LONG:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,61,return long.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,62,case MESSAGE:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,63,return Message.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,64,case STRING:
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,65,return String.class;
True,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,proto/src/main/java/com/google/gson/protobuf/ProtoTypeAdapter.java,67,return Object.class;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,2,* Copyright (C) 2010 Google Inc.
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,4,"* Licensed under the Apache License, Version 2.0 (the ""License"");"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,5,* you may not use this file except in compliance with the License.
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,6,* You may obtain a copy of the License at
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,8,* http://www.apache.org/licenses/LICENSE-2.0
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,10,"* Unless required by applicable law or agreed to in writing, software"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,11,"* distributed under the License is distributed on an ""AS IS"" BASIS,"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,12,"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,13,* See the License for the specific language governing permissions and
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,14,* limitations under the License.
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,16,package com.google.gson.protobuf;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,18,import com.google.gson.Gson;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,19,import com.google.gson.GsonBuilder;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,20,import com.google.gson.protobuf.generated.Bag.SimpleProto;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,21,import com.google.protobuf.Message;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,22,import com.google.protobuf.Descriptors.Descriptor;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,24,import junit.framework.TestCase;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,26,public class FunctionalTest extends TestCase {
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,27,private Gson gson;
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,29,@Override
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,30,protected void setUp() throws Exception {
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,31,super.setUp();
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,32,gson = new GsonBuilder()
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,33,"//      .registerTypeHierarchyAdapter(Message.class, new ProtoTypeAdapter())"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,34,.create();
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,37,public void testSerializeEmptyProto() {
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,38,SimpleProto proto = SimpleProto.newBuilder().build();
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,39,String json = gson.toJson(proto);
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,40,"assertEquals(""{}"", json);"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,43,public void testSerializeProto() {
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,44,Descriptor descriptor = SimpleProto.getDescriptor();
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,45,SimpleProto proto = SimpleProto.newBuilder()
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,46,".setField(descriptor.findFieldByNumber(1), ""foo"")"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,47,".setField(descriptor.findFieldByNumber(2), 3)"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,48,.build();
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,49,String json = gson.toJson(proto);
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,50,System.out.println(json);
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,51,"assertTrue(json.contains(""\""msg\"":\""foo\""""));"
True,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,proto/src/test/java/com/google/gson/protobuf/FunctionalTest.java,52,"assertTrue(json.contains(""\""count\"":3""));"
