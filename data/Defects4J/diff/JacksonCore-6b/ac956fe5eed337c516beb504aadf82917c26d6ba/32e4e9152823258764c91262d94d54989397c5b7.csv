is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/com/fasterxml/jackson/core/io/CharTypes.java,src/main/java/com/fasterxml/jackson/core/io/CharTypes.java,24,* 96 would do for most cases (backslash is ascii 94)
True,src/main/java/com/fasterxml/jackson/core/io/CharTypes.java,src/main/java/com/fasterxml/jackson/core/io/CharTypes.java,24,/* 96 would do for most cases (backslash is ASCII 94)
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1507,final int[] codes = _icLatin1;
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1508,final int maxCode = codes.length;
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1516,f (i <= INT_BACKSLASH) {
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1517,f (i == INT_BACKSLASH) {
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1518,if (i < maxCode && codes[i] != 0) {
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1519,if (i == INT_QUOTE) {
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1520,break;
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1521,} else if (i == INT_BACKSLASH) {
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1523, else if (i <= INT_QUOTE) {
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1524,f (i == INT_QUOTE) {
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1525,reak;
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1527,f (i < INT_SPACE) {
False,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1528,"throwUnquotedSpace(i, ""string value"");"
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1527,} else if (i < INT_SPACE) {
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1528,"_throwUnquotedSpace(i, ""string value"");"
True,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java,1529,} // anything else?
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,1,package perf;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,3,public class ManualCharAccessTest
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,5,protected int hash;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,7,protected final static byte[] SMALL_BYTE_CODES = new byte[256];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,9,protected final static int[] SMALL_INT_CODES = new int[256];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,11,protected final static int[] INT_CODES = new int[0x10000];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,12,protected final static byte[] BYTE_CODES = new byte[0x10000];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,14,static {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,15,for (int i = 0; i < 32; ++i) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,16,if (!(i == '\r' || i == '\n' || i == '\t')) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,17,INT_CODES[i] = 1;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,18,BYTE_CODES[i] = 1;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,19,SMALL_BYTE_CODES[i] = 1;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,20,SMALL_INT_CODES[i] = 1;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,23,INT_CODES['\\'] = 2;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,24,BYTE_CODES['\\'] = 2;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,25,SMALL_BYTE_CODES['\\'] = 2;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,26,SMALL_INT_CODES['\\'] = 2;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,29,protected String generateString(int len)
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,31,int counter = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,32,StringBuilder sb = new StringBuilder(len + 20);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,33,do {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,34,"sb.append(""Some stuff: "").append(len).append(""\n"");"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,35,if ((++counter % 31) == 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,36,"sb.append(""\\"");"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,38,} while (sb.length() < len);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,39,return sb.toString();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,42,private void test() throws Exception
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,44,final String INPUT_STR = generateString(23000);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,45,final char[] INPUT_CHARS = INPUT_STR.toCharArray();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,46,final char[] OUTPUT = new char[INPUT_CHARS.length];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,48,"// Let's try to guestimate suitable size, N megs of output"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,49,final int REPS = (int) ((double) (80 * 1000 * 1000) / (double) INPUT_CHARS.length);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,50,"System.out.printf(""%d bytes to scan, will do %d repetitions\n"","
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,51,"INPUT_CHARS.length, REPS);"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,53,int i = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,54,int roundsDone = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,55,final int TYPES = 3;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,56,final int WARMUP_ROUNDS = 5;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,58,final long[] times = new long[TYPES];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,60,while (true) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,61,int round = (i++ % TYPES);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,63,String msg;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,64,boolean lf = (round == 0);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,66,long msecs;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,68,switch (round) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,69,case 0:
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,70,"msg = ""Read classic"";"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,71,"msecs = readClassic(REPS, INPUT_CHARS, OUTPUT);"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,72,break;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,73,case 1:
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,74,"msg = ""Read, byte[]"";"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,75,"msecs = readWithByte(REPS, INPUT_CHARS, OUTPUT);"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,76,break;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,77,case 2:
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,78,"msg = ""Read, int[]"";"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,79,"msecs = readWithInt(REPS, INPUT_CHARS, OUTPUT);"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,80,break;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,81,default:
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,82,throw new Error();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,84,// skip first 5 rounds to let results stabilize
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,85,if (roundsDone >= WARMUP_ROUNDS) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,86,times[round] += msecs;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,89,"System.out.printf(""Test '%s' [hash: 0x%s] -> %d msecs\n"", msg, this.hash, msecs);"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,90,if (lf) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,91,++roundsDone;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,92,if ((roundsDone % 7) == 0 && roundsDone > WARMUP_ROUNDS) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,93,double den = (double) (roundsDone - WARMUP_ROUNDS);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,94,"System.out.printf(""Averages after %d rounds (classic, byte[], int[]): """
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,95,"+""%.1f / %.1f / %.1f msecs\n"","
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,96,(int) den
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,97,",times[0] / den, times[1] / den, times[2] / den"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,101,System.out.println();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,103,if ((i % 17) == 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,104,"System.out.println(""[GC]"");"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,105,Thread.sleep(100L);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,106,System.gc();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,107,Thread.sleep(100L);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,112,"private final long readClassic(int REPS, char[] input, char[] output) throws Exception"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,114,long start = System.currentTimeMillis();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,115,final byte[] codes = BYTE_CODES;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,116,final int MAX = 256;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,118,while (--REPS >= 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,119,int outPtr = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,120,"for (int i = 0, end = input.length; i < end; ++i) {"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,121,int ch = input[i];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,122,if (ch < MAX && codes[ch] == NULL_BYTE) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,123,output[outPtr++] = (char) ch;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,124,continue;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,126,if (ch == '\\') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,127,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,128,} else if (ch == '\n') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,129,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,133,long time = System.currentTimeMillis() - start;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,134,return time;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,137,"private final long readWithByte(int REPS, char[] input, char[] output) throws Exception"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,139,long start = System.currentTimeMillis();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,140,final byte[] codes = BYTE_CODES;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,141,while (--REPS >= 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,142,int outPtr = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,143,"for (int i = 0, end = input.length; i < end; ++i) {"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,144,char ch = input[i];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,145,if (codes[ch] == NULL_BYTE) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,146,output[outPtr++] = ch;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,147,continue;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,149,if (ch == '\\') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,150,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,151,} else if (ch == '\n') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,152,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,156,long time = System.currentTimeMillis() - start;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,157,return time;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,160,final static byte NULL_BYTE = (byte) 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,162,"private final long readWithInt(int REPS, char[] input, char[] output) throws Exception"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,164,long start = System.currentTimeMillis();
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,165,final int[] codes = INT_CODES;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,166,while (--REPS >= 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,167,int outPtr = 0;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,169,"for (int i = 0, end = input.length; i < end; ++i) {"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,170,char ch = input[i];
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,171,if (codes[ch] != 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,172,output[outPtr++] = ch;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,173,continue;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,175,if (ch == '\\') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,176,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,177,} else if (ch == '\n') {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,178,output[outPtr++] = '_';
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,182,long time = System.currentTimeMillis() - start;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,183,return time;
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,186,public static void main(String[] args) throws Exception
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,188,if (args.length != 0) {
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,189,"System.err.println(""Usage: java ..."");"
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,190,System.exit(1);
True,src/test/java/perf/ManualCharAccessTest.java,src/test/java/perf/ManualCharAccessTest.java,192,new ManualCharAccessTest().test();
