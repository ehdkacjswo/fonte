is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,33,ublic MemoryLimitException(String message) {
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,34,uper(message);
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,33,//long instead of int to account for overflow for corrupt files
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,34,private final long memoryNeededInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,35,private final int memoryLimitInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,37,"public MemoryLimitException(long memoryNeededInKb, int memoryLimitInKb) {"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,38,"super(buildMessage(memoryNeededInKb, memoryLimitInKb));"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,39,this.memoryNeededInKb = memoryNeededInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,40,this.memoryLimitInKb = memoryLimitInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,43,"public MemoryLimitException(long memoryNeededInKb, int memoryLimitInKb, Exception e) {"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,44,"super(buildMessage(memoryNeededInKb, memoryLimitInKb), e);"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,45,this.memoryNeededInKb = memoryNeededInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,46,this.memoryLimitInKb = memoryLimitInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,49,public long getMemoryNeededInKb() {
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,50,return memoryNeededInKb;
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,53,public int getMemoryLimitInKb() {
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,54,return memoryLimitInKb;
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,37,"ublic MemoryLimitException(String message, Exception e) {"
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,38,"uper(message, e);"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,57,"private static String buildMessage(long memoryNeededInKb, int memoryLimitInKb) {"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,58,"return """" + memoryNeededInKb + "" kb of memory would be needed; limit was """
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,59,"+ memoryLimitInKb + "" kb. "" +"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,60,"""If the file is not corrupt, consider increasing the memory limit."";"
False,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,64,"hrow new MemoryLimitException(""exceeded calculated memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,64,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit(), e);"
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,117,* First checks that the estimated memory usage is below memoryLimitInKb
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,118, @param memoryLimitInKb maximum allowed table size in Kb
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,119, @throws MemoryLimitException if maxTableSize is > memoryLimitInKb
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,120,* @param memoryLimitInKb maximum allowed estimated memory usage in Kb
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,121,* @throws MemoryLimitException if estimated memory usage is greater than memoryLimitInKb
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,123,inal int maxTableSize = 1 << maxCodeSize;
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,124,f (memoryLimitInKb > -1 && maxTableSize > memoryLimitInKb*1024) {
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,125,"hrow new MemoryLimitException(""Tried to allocate ""+maxTableSize +"
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,126," but memoryLimitInKb only allows ""+(memoryLimitInKb*1024));"
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,126,if (memoryLimitInKb > -1) {
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,127,final int maxTableSize = 1 << maxCodeSize;
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,128,//account for potential overflow
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,129,long memoryUsageInBytes = (long) maxTableSize * 6;//(4 (prefixes) + 1 (characters) +1 (outputStack))
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,130,long memoryUsageInKb = memoryUsageInBytes >> 10;
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,132,if (memoryUsageInKb > (long)memoryLimitInKb) {
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,133,"throw new MemoryLimitException(memoryUsageInKb, memoryLimitInKb);"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,123,"oolean decompressConcatenated, int memoryLimitInKb)"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,123,"boolean decompressConcatenated, final int memoryLimitInKb)"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,139,"hrow new MemoryLimitException(""Exceeded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,139,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit(), e);"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,151,"hrow new MemoryLimitException(""Exceeded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,151,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit(), e);"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,161,"hrow new MemoryLimitException(""Excedded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,161,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit(), e);"
False,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,41,"ublic ZCompressorInputStream(final InputStream inputStream, int memoryLimitInKb)"
True,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,41,"public ZCompressorInputStream(final InputStream inputStream, final int memoryLimitInKb)"
False,src/test/java/org/apache/commons/compress/compressors/DetectCompressorTestCase.java,src/test/java/org/apache/commons/compress/compressors/DetectCompressorTestCase.java,213,/unwrap cause to reveal MemoryLimiteException
True,src/test/java/org/apache/commons/compress/compressors/DetectCompressorTestCase.java,src/test/java/org/apache/commons/compress/compressors/DetectCompressorTestCase.java,213,//unwrap cause to reveal MemoryLimitException
