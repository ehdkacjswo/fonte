SnappyInputStream must slide then window when before writing beyond buffer

may be related to COMPRESS-358
