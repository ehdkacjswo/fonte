work on location update code cleanup
