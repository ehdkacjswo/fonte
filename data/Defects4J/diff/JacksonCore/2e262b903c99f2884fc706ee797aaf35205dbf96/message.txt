Baseline work for #196, generic support for format-specific features
