One more significant refactoring: move JsonNode out of core (to mapper); add TreeNode interface locally
