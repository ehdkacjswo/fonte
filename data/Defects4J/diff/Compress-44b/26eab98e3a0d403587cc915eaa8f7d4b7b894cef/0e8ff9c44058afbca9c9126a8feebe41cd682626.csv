is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,66,public static void checkLimitInKb(long memoryNeeded) throws MemoryLimitException {
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,67,if (memoryNeeded < 0) {
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,68,"throw new IllegalArgumentException(""MemoryLimit must be > -1"");"
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,71,if (memoryNeeded >> 10 > Integer.MAX_VALUE) {
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,72,"throw new MemoryLimitException(memoryNeeded,"
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,73,(MEMORY_LIMIT_IN_KB < 0) ? Integer.MAX_VALUE : MEMORY_LIMIT_IN_KB);
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,76,if (MEMORY_LIMIT_IN_KB > -1 && memoryNeeded > MEMORY_LIMIT_IN_KB) {
True,src/main/java/org/apache/commons/compress/MemoryLimit.java,src/main/java/org/apache/commons/compress/MemoryLimit.java,77,"throw new MemoryLimitException(memoryNeeded, MEMORY_LIMIT_IN_KB);"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,29,* <p/>
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,30,* Set the global memory limit via {@link MemoryLimit#setMemoryLimitInKb(int)}.
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,33,ublic MemoryLimitException(String message) {
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,34,uper(message);
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,37,"ublic MemoryLimitException(String message, Exception e) {"
False,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,38,"uper(message, e);"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,38,* @param memoryNeeded estimated memory needed
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,39,* @param memoryLimit memory limit applied
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,41,"public MemoryLimitException(long memoryNeeded, int memoryLimit) {"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,42,"super("""" + memoryNeeded + "" KiB of memory would be needed; limit was """
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,43,"+ memoryLimit + "" KiB.  If the file is not corrupt, consider "" +"
True,src/main/java/org/apache/commons/compress/MemoryLimitException.java,src/main/java/org/apache/commons/compress/MemoryLimitException.java,44,"""increasing MemoryLimit.MEMORY_LIMIT_IN_KB."");"
False,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,59,"hrow new MemoryLimitException(""exceeded calculated memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzma/LZMACompressorInputStream.java,59,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit());"
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,25,import org.apache.commons.compress.MemoryLimit;
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,118, @param memoryLimitInKb maximum allowed table size in Kb
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,119, @throws MemoryLimitException if maxTableSize is > memoryLimitInKb
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,120,* @throws MemoryLimitException
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,121,"*      if the calculated memory usage, based on the maxTableSize,"
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,122,*      is &gt; {@link MemoryLimit#MEMORY_LIMIT_IN_KB}
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,121,"rotected void initializeTables(final int maxCodeSize, final int memoryLimitInKb)"
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,122,hrows MemoryLimitException {
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,124,protected void initializeTables(final int maxCodeSize) throws MemoryLimitException {
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,124,f (memoryLimitInKb > -1 && maxTableSize > memoryLimitInKb*1024) {
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,125,"hrow new MemoryLimitException(""Tried to allocate ""+maxTableSize +"
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,126," but memoryLimitInKb only allows ""+(memoryLimitInKb*1024));"
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,128,nitializeTables(maxCodeSize);
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,132, Initializes the arrays based on the maximum code size.
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,133, @param maxCodeSize maximum code size
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,135,rotected void initializeTables(final int maxCodeSize) {
False,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,136,inal int maxTableSize = 1 << maxCodeSize;
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,127,//account for potential overflow
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,128,long memoryUsageInBytes = (long)maxTableSize * 6;//(4 (prefixes) + 1 (characters) +1 (outputStack))
True,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,src/main/java/org/apache/commons/compress/compressors/lzw/LZWInputStream.java,129,MemoryLimit.checkLimitInKb(memoryUsageInBytes >> 10);
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,113,"hrow new MemoryLimitException(""Exceeded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,113,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit());"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,125,"hrow new MemoryLimitException(""Exceeded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,125,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit());"
False,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,135,"hrow new MemoryLimitException(""Excedded memory limit"", e);"
True,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/xz/XZCompressorInputStream.java,135,"throw new MemoryLimitException(e.getMemoryNeeded(), e.getMemoryLimit());"
False,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,25,mport org.apache.commons.compress.MemoryLimit;
False,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,55,"nitializeTables(maxCodeSize, MemoryLimit.getMemoryLimitInKb());"
True,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/z/ZCompressorInputStream.java,54,initializeTables(maxCodeSize);
