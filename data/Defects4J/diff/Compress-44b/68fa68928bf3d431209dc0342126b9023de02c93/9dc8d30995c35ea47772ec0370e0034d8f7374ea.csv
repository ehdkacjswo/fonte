is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,128,if (expectContentChecksum && r != -1) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,129,"contentHash.update(b, off, r);"
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,216,"nt skipped = (int) IOUtils.skip(in, 4);"
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,217,ount(skipped);
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,218,f (4 != skipped) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,219,byte[] checksum = new byte[4];
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,220,"int read = IOUtils.readFully(in, checksum);"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,221,count(read);
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,222,if (4 != read) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,225,long expectedHash = contentHash.getValue();
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,226,if (expectedHash != ByteUtils.fromLittleEndian(checksum)) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,227,"throw new IOException(""content checksum mismatch."");"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStream.java,229,contentHash.reset();
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,43," + xxhash32 checksum creation for content, blocks"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,43,* + xxhash32 checksum creation for blocks
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,92,private final boolean withContentChecksum;
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,99,ublic static Parameters DEFAULT = new Parameters(BlockSize.M4);
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,100,"public static Parameters DEFAULT = new Parameters(BlockSize.M4, true);"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,105,* @param withContentChecksum whether to write a content checksum
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,105,ublic Parameters(BlockSize blockSize) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,107,"public Parameters(BlockSize blockSize, boolean withContentChecksum) {"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,109,this.withContentChecksum = withContentChecksum;
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,110,"eturn ""LZ4 Parameters with BlockSize "" + blockSize;"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,113,"return ""LZ4 Parameters with BlockSize "" + blockSize + "", withContentChecksum "" + withContentChecksum;"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,150,"contentHash.update(data, off, len);"
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,189,if (params.withContentChecksum) {
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,190,flags |= FramedLZ4CompressorInputStream.CONTENT_CHECKSUM_MASK;
False,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,214,/ TODO content checksum
True,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,src/main/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorOutputStream.java,221,"ByteUtils.toLittleEndian(out, contentHash.getValue(), 4);"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,262,@Test
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,263,public void rejectsStreamsWithBadContentChecksum() throws IOException {
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,264,byte[] input = new byte[] {
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,265,"4, 0x22, 0x4d, 0x18, // signature"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,266,"0x64, // flag - Version 01, block independent, no block checksum, no content size, with content checksum"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,267,"0x70, // block size 4MB"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,268,"(byte) 185, // checksum"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,269,"13, 0, 0, (byte) 0x80, // 13 bytes length and uncompressed bit set"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,270,"'H', 'e', 'l', 'l', 'o', ',', ' ', 'w', 'o', 'r', 'l', 'd', '!', // content"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,271,"0, 0, 0, 0, // empty block marker"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,272,"1, 2, 3, 4,"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,274,try {
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,275,try (InputStream a = new FramedLZ4CompressorInputStream(new ByteArrayInputStream(input))) {
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,276,IOUtils.toByteArray(a);
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,277,"fail(""expected exception"");"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,279,} catch (IOException ex) {
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorInputStreamTest.java,280,"assertThat(ex.getMessage(), containsString(""content checksum mismatch""));"
False,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,42,"ew Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.K64) },"
False,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,43,"ew Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.K256) },"
False,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,44,"ew Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.M1) },"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,42,"new Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.K64, true) },"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,43,"new Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.K256, true) },"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,44,"new Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.M1, true) },"
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,46,// default without content checksum
True,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,src/test/java/org/apache/commons/compress/compressors/lz4/FramedLZ4CompressorRoundtripTest.java,47,"new Object[] { new FramedLZ4CompressorOutputStream.Parameters(FramedLZ4CompressorOutputStream.BlockSize.M4, false) },"
