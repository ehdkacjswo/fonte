Added checks to ensure that we do not serialize NaN or postiive or negative infinity for floats.
