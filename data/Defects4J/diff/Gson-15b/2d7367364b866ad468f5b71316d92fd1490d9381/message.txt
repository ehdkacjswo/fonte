Added additional functional tests involving complex protocol buffers, and protos with repeated fields.
Moved all the functional tests under a functional package.
