is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,59,& argumentsMatch(actual.getArguments());
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,59,&& argumentsMatch(actual);
False,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,62,ublic boolean isOverloadedVersionOf(Invocation actual) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,62,private boolean isOverloaded(Invocation actual) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,63,//TODO unit
False,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,64,& argumentsMatch(actual.getArguments())
False,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,69,rivate boolean argumentsMatch(Object[] arguments) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,69,private boolean argumentsMatch(Invocation actual) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,70,Object[] arguments = actual.getArguments();
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,83,"* similar means the same method name, same mock, unverified"
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,84,* and if arguments are the same cannot be overloaded
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,86,public boolean isSimilarTo(Invocation candidate) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,87,String wantedMethodName = getMethod().getName();
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,88,String currentMethodName = candidate.getMethod().getName();
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,90,boolean methodNameEquals = wantedMethodName.equals(currentMethodName);
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,91,boolean isUnverified = !candidate.isVerified();
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,92,boolean mockIsTheSame = getInvocation().getMock() == candidate.getMock();
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,93,boolean overloadedButSameArgs = isOverloaded(candidate) && argumentsMatch(candidate);
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,95,if (methodNameEquals && isUnverified && mockIsTheSame && !overloadedButSameArgs) {
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,96,return true;
True,src/org/mockito/internal/invocation/InvocationMatcher.java,src/org/mockito/internal/invocation/InvocationMatcher.java,99,return false;
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,51,"/TODO shit code - refactor to InvocationMatcher wanted.isSimilar(invocation) and add test for overloading check, make it also efficient"
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,52,tring wantedMethodName = wanted.getMethod().getName();
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,53,tring currentMethodName = invocation.getMethod().getName();
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,55,oolean methodNameEquals = wantedMethodName.equals(currentMethodName);
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,56,oolean isUnverified = !invocation.isVerified();
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,57,oolean mockIsTheSame = wanted.getInvocation().getMock() == invocation.getMock();
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,58,oolean isOverloaded = wanted.isOverloadedVersionOf(invocation);
False,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,60,f (methodNameEquals && isUnverified && mockIsTheSame && !isOverloaded) {
True,src/org/mockito/internal/invocation/InvocationsFinder.java,src/org/mockito/internal/invocation/InvocationsFinder.java,51,if (wanted.isSimilarTo(invocation)) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,21,private boolean verified;
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,23,f (method != null) {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,24,"eturn new Invocation(mock, method, args, sequenceNumber);"
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,27,ethod m;
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,28,ist<Class> argTypes = new LinkedList<Class>();
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,29,or (Object arg : args) {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,30,f (arg == null) {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,31,rgTypes.add(Object.class);
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,32, else {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,33,rgTypes.add(arg.getClass());
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,24,if (method == null) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,25,List<Class> argTypes = new LinkedList<Class>();
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,26,for (Object arg : args) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,27,if (arg == null) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,28,argTypes.add(Object.class);
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,29,} else {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,30,argTypes.add(arg.getClass());
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,34,try {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,35,"method = IMethods.class.getMethod(methodName, argTypes.toArray(new Class[argTypes.size()]));"
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,36,} catch (Exception e) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,37,"throw new RuntimeException(""builder only creates invocations of IMethods interface"", e);"
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,37,ry {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,38," = IMethods.class.getMethod(methodName, argTypes.toArray(new Class[argTypes.size()]));"
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,39, catch (Exception e) {
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,40,"hrow new RuntimeException(""builder only creates invocations of IMethods interface"", e);"
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,41,"Invocation i = new Invocation(mock, method, args, sequenceNumber);"
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,42,if (verified) {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,43,i.markVerified();
False,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,42,"eturn new Invocation(mock, m, args, sequenceNumber);"
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,45,return i;
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,78,public InvocationBuilder verified() {
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,79,this.verified = true;
True,test/org/mockito/internal/invocation/InvocationBuilder.java,test/org/mockito/internal/invocation/InvocationBuilder.java,80,return this;
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,11,import java.lang.reflect.Method;
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,16,import org.junit.Before;
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,21,import org.mockitousage.IMethods;
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,26,private InvocationMatcher simpleMethod;
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,28,@Before
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,29,public void setup() {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,30,simpleMethod = new InvocationBuilder().simpleMethod().toInvocationMatcher();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,70,@Test
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,71,public void shouldKnowIfIsSimilarTo() throws Exception {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,72,Invocation same = new InvocationBuilder().simpleMethod().toInvocation();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,73,assertTrue(simpleMethod.isSimilarTo(same));
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,75,Invocation different = new InvocationBuilder().differentMethod().toInvocation();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,76,assertFalse(simpleMethod.isSimilarTo(different));
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,79,@Test
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,80,public void shouldNotBeSimilarToVerifiedInvocation() throws Exception {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,81,Invocation verified = new InvocationBuilder().simpleMethod().verified().toInvocation();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,82,assertFalse(simpleMethod.isSimilarTo(verified));
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,85,@Test
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,86,public void shouldNotBeSimilarIfMocksAreDifferent() throws Exception {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,87,"Invocation onDifferentMock = new InvocationBuilder().simpleMethod().mock(""different mock"").toInvocation();"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,88,assertFalse(simpleMethod.isSimilarTo(onDifferentMock));
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,91,@Test
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,92,public void shouldNotBeSimilarIfIsOverloadedButUsedWithTheSameArg() throws Exception {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,93,"Method method = IMethods.class.getMethod(""simpleMethod"", String.class);"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,94,"Method overloadedMethod = IMethods.class.getMethod(""simpleMethod"", Object.class);"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,96,"String sameArg = ""test"";"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,98,InvocationMatcher invocation = new InvocationBuilder().method(method).arg(sameArg).toInvocationMatcher();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,99,Invocation overloadedInvocation = new InvocationBuilder().method(overloadedMethod).arg(sameArg).toInvocation();
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,101,assertFalse(invocation.isSimilarTo(overloadedInvocation));
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,104,@Test
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,105,public void shouldBeSimilarIfIsOverloadedButUsedWithDifferentArg() throws Exception {
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,106,"Method method = IMethods.class.getMethod(""simpleMethod"", String.class);"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,107,"Method overloadedMethod = IMethods.class.getMethod(""simpleMethod"", Object.class);"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,109,"InvocationMatcher invocation = new InvocationBuilder().method(method).arg(""foo"").toInvocationMatcher();"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,110,"Invocation overloadedInvocation = new InvocationBuilder().method(overloadedMethod).arg(""bar"").toInvocation();"
True,test/org/mockito/internal/invocation/InvocationMatcherTest.java,test/org/mockito/internal/invocation/InvocationMatcherTest.java,112,assertTrue(invocation.isSimilarTo(overloadedInvocation));
False,test/org/mockito/internal/invocation/InvocationTest.java,test/org/mockito/internal/invocation/InvocationTest.java,14,mport org.hamcrest.CoreMatchers;
False,test/org/mockito/internal/invocation/InvocationTest.java,test/org/mockito/internal/invocation/InvocationTest.java,17,mport org.junit.matchers.IsCollectionContaining;
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,75,Test
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,76,ublic void shouldFindSimilarUnverifiedInvocationByName() throws Exception {
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,77,impleMethodInvocation.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,78,"nvocation found = finder.findSimilarInvocation(invocations, new InvocationMatcher(simpleMethodInvocation), atLeastOnce());"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,79,"ssertSame(found, simpleMethodInvocationTwo);"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,82,Test
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,83,ublic void shouldNotFindSimilarInvocationBecauseAllAreVerified() throws Exception {
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,84,impleMethodInvocation.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,85,impleMethodInvocationTwo.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,86,ifferentMethodInvocation.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,88,"nvocation found = finder.findSimilarInvocation(invocations, new InvocationMatcher(simpleMethodInvocation), atLeastOnce());"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,89,ssertNull(found);
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,92,Test
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,93,ublic void shouldLookForSimilarInvocationsOnlyOnTheSameMock() throws Exception {
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,94,"nvocation onDifferentMock = new InvocationBuilder().simpleMethod().mock(""different mock"").toInvocation();"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,95,nvocations.addFirst(onDifferentMock);
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,97,"nvocation found = finder.findSimilarInvocation(invocations, new InvocationMatcher(simpleMethodInvocation), atLeastOnce());"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,98,"ssertNotSame(onDifferentMock, found);"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,101,Test
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,102,ublic void shouldReturnLastUnverifiedFromTheSameMockOnly() throws Exception {
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,103,"nvocation onDifferentMock = new InvocationBuilder().simpleMethod().mock(""different mock"").toInvocation();"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,104,nvocations.addFirst(onDifferentMock);
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,106,impleMethodInvocation.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,107,impleMethodInvocationTwo.markVerified();
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,109,"nvocation found = finder.findSimilarInvocation(invocations, new InvocationMatcher(simpleMethodInvocation), atLeastOnce());"
False,test/org/mockito/internal/invocation/InvocationsFinderTest.java,test/org/mockito/internal/invocation/InvocationsFinderTest.java,110,"ssertNotSame(onDifferentMock, found);"
