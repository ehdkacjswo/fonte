is_addition,old_file_path,new_file_path,line_num,content
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,30,if (optionalInstance != null) {
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,31,try {
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,32,"new ShallowCopyTool().copy(optionalInstance, mock);"
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,33,} catch (UnableToCopyFieldValue e) {
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,34,//Ignore - spying should be used only occasionally and if some field cannot be copied then let's be it
True,src/org/mockito/internal/util/MockUtil.java,src/org/mockito/internal/util/MockUtil.java,38,//TODO: does it make sense to set instance?
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,1,package org.mockito.internal.util;
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,3,import java.lang.reflect.Field;
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,5,public class ShallowCopyTool {
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,7,"public <T> void copy(T from, T to) throws UnableToCopyFieldValue {"
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,8,Field[] fieldsFrom = from.getClass().getDeclaredFields();
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,9,Field[] fieldsTo = to.getClass().getDeclaredFields();
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,10,"assert fieldsFrom.length == fieldsTo.length : ""Objects should be of the same type"";"
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,12,for (int i = 0; i < fieldsFrom.length; i++) {
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,13,try {
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,14,fieldsFrom[i].setAccessible(true);
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,15,fieldsTo[i].setAccessible(true);
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,16,Object value = fieldsFrom[i].get(from);
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,17,"fieldsTo[i].set(to, value);"
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,18,} catch (Throwable t) {
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,19,throw new UnableToCopyFieldValue(
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,20,"""Unable to copy value from field: "" + fieldsFrom[i] +"
True,src/org/mockito/internal/util/ShallowCopyTool.java,src/org/mockito/internal/util/ShallowCopyTool.java,21,""" to field: "" + fieldsTo[i], t);"
True,src/org/mockito/internal/util/UnableToCopyFieldValue.java,src/org/mockito/internal/util/UnableToCopyFieldValue.java,1,package org.mockito.internal.util;
True,src/org/mockito/internal/util/UnableToCopyFieldValue.java,src/org/mockito/internal/util/UnableToCopyFieldValue.java,3,class UnableToCopyFieldValue extends Exception {
True,src/org/mockito/internal/util/UnableToCopyFieldValue.java,src/org/mockito/internal/util/UnableToCopyFieldValue.java,5,private static final long serialVersionUID = 1L;
True,src/org/mockito/internal/util/UnableToCopyFieldValue.java,src/org/mockito/internal/util/UnableToCopyFieldValue.java,7,"public UnableToCopyFieldValue(String message, Throwable t) {"
True,src/org/mockito/internal/util/UnableToCopyFieldValue.java,src/org/mockito/internal/util/UnableToCopyFieldValue.java,8,"super(message, t);"
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,1,package org.mockito.internal.util;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,3,import static org.junit.Assert.*;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,5,import org.junit.Test;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,6,import org.mockitoutil.TestBase;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,9,public class ShallowCopyToolTest extends TestBase {
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,11,private ShallowCopyTool tool = new ShallowCopyTool();
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,13,//TODO: inherited fields
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,14,class SomeObject {
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,15,private int fieldOne = 1;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,16,"String fieldTwo = ""2"";"
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,17,protected Object fieldThree = new Object();
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,18,public SomeOtherObject fieldFour = new SomeOtherObject();
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,19,final int fieldFive;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,20,public SomeObject(int fieldFiveValue) {
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,21,this.fieldFive = fieldFiveValue;
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,25,class SomeOtherObject {}
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,27,@Test
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,28,public void shouldShallowCopy() throws Exception {
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,29,//given
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,30,SomeObject first = new SomeObject(100);
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,31,SomeObject second = new SomeObject(200);
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,32,"assertEquals(200, second.fieldFive);"
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,34,//when
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,35,"tool.copy(first, second);"
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,37,//then
True,test/org/mockito/internal/util/ShallowCopyToolTest.java,test/org/mockito/internal/util/ShallowCopyToolTest.java,38,"assertEquals(100, second.fieldFive);"
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,2,* Copyright (c) 2007 Mockito contributors
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,3,* This program is made available under the terms of the MIT License.
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,5,package org.mockitousage.spies;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,7,import static org.mockito.Mockito.*;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,9,import org.junit.Ignore;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,10,import org.junit.Test;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,11,import org.mockito.Mock;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,12,import org.mockitoutil.TestBase;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,14,@Ignore
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,15,"@SuppressWarnings(""unchecked"")"
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,16,public class PartialMockingWithSpiesTest extends TestBase {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,18,class Person {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,19,"private final String defaultName = ""Default name"";"
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,21,public String getName() {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,22,return guessName();
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,25,protected String guessName() {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,26,return defaultName;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,30,@Mock
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,31,Person mock;
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,33,@Test
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,34,public void shouldCallRealMethdsEvenDelegatedToOtherSelfMethod() {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,35,// when
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,36,String name = mock.getName();
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,38,// then
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,39,"assertEquals(""Default name"", name);"
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,42,@Test
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,43,public void shouldVerify() {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,44,// when
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,45,mock.getName();
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,47,// then
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,48,verify(mock).guessName();
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,51,@Test
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,52,public void shouldStub() {
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,53,// given
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,54,"when(mock.guessName()).thenReturn(""John"");"
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,55,// when
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,56,String name = mock.getName();
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,57,// then
True,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,test/org/mockitousage/spies/PartialMockingWithSpiesTest.java,58,"assertEquals(""John"", name);"
False,test/org/mockitousage/SpyingOnRealObjectsTest.java,test/org/mockitousage/spies/SpyingOnRealObjectsTest.java,5,ackage org.mockitousage;
True,test/org/mockitousage/SpyingOnRealObjectsTest.java,test/org/mockitousage/spies/SpyingOnRealObjectsTest.java,5,package org.mockitousage.spies;
