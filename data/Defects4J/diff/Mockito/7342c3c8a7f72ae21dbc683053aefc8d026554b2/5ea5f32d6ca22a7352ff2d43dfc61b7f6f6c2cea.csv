is_addition,old_file_path,new_file_path,line_num,content
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,1,package org.mockito.internal.util.reflection;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,3,import org.mockito.internal.util.Checks;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,4,import org.mockito.internal.util.ListUtil;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,5,import org.mockito.internal.util.ListUtil.Filter;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,7,import java.lang.annotation.Annotation;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,8,import java.lang.reflect.Field;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,9,import java.util.ArrayList;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,10,import java.util.List;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,13,* Small fluent reflection tools to work with fields
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,15,public abstract class Fields {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,18,public static InstanceFields allFieldsInHierarchy(Object instance) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,19,List<InstanceField> instanceFields = new ArrayList<InstanceField>();
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,20,for (Class<?> clazz = instance.getClass(); clazz != Object.class; clazz = clazz.getSuperclass()) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,21,"instanceFields.addAll(instanceFieldsIn(instance, clazz));"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,23,"return new InstanceFields(instance, instanceFields);"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,26,public static Filter<InstanceField> notAnnotatedBy(final Class<? extends Annotation>... annotations) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,27,return new Filter<InstanceField>() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,28,public boolean isOut(InstanceField instanceField) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,29,"Checks.checkNotNull(annotations, ""Provide at least one annotation class"");"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,31,for (Class<? extends Annotation> annotation : annotations) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,32,if(instanceField.isAnnotatedBy(annotation)) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,33,return false;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,36,return true;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,41,private static Filter<InstanceField> nullField() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,42,return new Filter<InstanceField>() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,43,public boolean isOut(InstanceField instanceField) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,44,return instanceField.isNotNull();
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,49,"private static List<InstanceField> instanceFieldsIn(Object instance, Class<?> clazz) {"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,50,List<InstanceField> instanceDeclaredFields = new ArrayList<InstanceField>();
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,51,Field[] declaredFields = clazz.getDeclaredFields();
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,52,for (Field declaredField : declaredFields) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,53,"InstanceField instanceField = new InstanceField(declaredField, instance);"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,54,instanceDeclaredFields.add(instanceField);
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,56,return instanceDeclaredFields;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,58,public static class InstanceFields {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,59,private final Object instance;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,61,private final List<InstanceField> instanceFields;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,63,"public InstanceFields(Object instance, List<InstanceField> instanceFields) {"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,64,this.instance = instance;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,65,this.instanceFields = instanceFields;
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,68,// TODO get Filter out of ListFilter
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,69,public InstanceFields filter(Filter<InstanceField> withFilter) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,70,"return new InstanceFields(instance, ListUtil.filter(instanceFields, withFilter));"
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,73,public InstanceFields notNull() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,74,return filter(nullField());
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,77,public List<InstanceField> instanceFields() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,78,return new ArrayList<InstanceField>(instanceFields);
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,81,public List<Object> assignedValues() {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,82,List<Object> values = new ArrayList<Object>(instanceFields.size());
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,83,for (InstanceField instanceField : instanceFields) {
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,84,values.add(instanceField.read());
True,src/org/mockito/internal/util/reflection/Fields.java,src/org/mockito/internal/util/reflection/Fields.java,86,return values;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,1,package org.mockito.internal.util.reflection;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,3,import java.lang.annotation.Annotation;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,4,import java.lang.reflect.Field;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,9,public class InstanceField {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,10,private final Field field;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,11,private final Object instance;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,12,private FieldReader fieldReader;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,14,"public InstanceField(Field field, Object instance) {"
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,15,this.field = field;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,16,this.instance = instance;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,19,public Object read() {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,20,return reader().read();
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,23,public void set(Object value) {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,24,"new FieldSetter(instance, field).set(value);"
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,27,public boolean isNotNull() {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,28,return reader().isNull();
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,31,public boolean isAnnotatedBy(Class<? extends Annotation> annotation) {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,32,return field.isAnnotationPresent(annotation);
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,35,public <A extends Annotation> A annotation(Class<A> annotationClass) {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,36,return field.getAnnotation(annotationClass);
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,39,public Field jdkField() {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,40,return field;
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,43,private FieldReader reader() {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,44,if (fieldReader == null) {
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,45,"fieldReader = new FieldReader(instance, field);"
True,src/org/mockito/internal/util/reflection/InstanceField.java,src/org/mockito/internal/util/reflection/InstanceField.java,47,return fieldReader;
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,5,import org.mockito.MockitoAnnotations;
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,8,import org.mockito.internal.util.reflection.Fields;
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,13,import java.util.Collection;
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,17,import static org.mockito.internal.util.reflection.Fields.notAnnotatedBy;
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,29,rivate Set<Object> instanceMocksOf(Object instance) {
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,30,lass<?> testClass = instance.getClass();
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,31,et<Object> instanceMocks = new HashSet<Object>();
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,33,or (Class<?> clazz = testClass; clazz != Object.class; clazz = clazz.getSuperclass()) {
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,34,"nstanceMocks.addAll(instanceMocksIn(instance, clazz));"
False,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,36,eturn instanceMocks;
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,34,private Collection<Object> instanceMocksOf(Object instance) {
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,35,return Fields.allFieldsInHierarchy(instance)
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,36,".filter(notAnnotatedBy(Mock.class,"
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,37,"Spy.class,"
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,38,MockitoAnnotations.Mock.class))
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,39,.notNull()
True,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,subprojects/testng/src/main/java/org/mockito/testng/MockitoAfterTestNGMethod.java,40,.assignedValues();
True,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,12,import java.util.Observable;
True,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,27,@Mock Observable will_be_nulled;
True,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,55,@Test
True,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,56,public void dont_fail_when_reseting_null_field() throws Exception {
True,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,subprojects/testng/src/test/java/org/mockitousage/testng/MockFieldsShouldBeResetBetweenTestMethodsTest.java,57,will_be_nulled = null;
