simpler code for issue 231, as witty proposed by Ssczepan
