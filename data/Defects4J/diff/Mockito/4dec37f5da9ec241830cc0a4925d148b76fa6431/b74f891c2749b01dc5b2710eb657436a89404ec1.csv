is_addition,old_file_path,new_file_path,line_num,content
False,subprojects/testng/src/main/java/DummyTestNgListener.java,subprojects/testng/src/main/java/DummyTestNgListener.java,1,ublic class DummyTestNgListener {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,1,package org.mockito.testng;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,3,import org.mockito.Mock;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,4,import org.mockito.Mockito;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,5,import org.mockito.MockitoAnnotations;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,6,import org.mockito.Spy;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,7,import org.mockito.exceptions.base.MockitoException;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,8,import org.testng.IInvokedMethod;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,9,import org.testng.IInvokedMethodListener;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,10,import org.testng.ITestContext;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,11,import org.testng.ITestListener;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,12,import org.testng.ITestNGListener;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,13,import org.testng.ITestNGMethod;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,14,import org.testng.ITestResult;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,15,import org.testng.annotations.Listeners;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,17,import java.lang.reflect.Field;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,18,import java.util.HashSet;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,19,import java.util.Set;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,22,"* Mockito TestNG Listener, this listener adds the following behavior to your test :"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,23,* <ul>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,24,*   <li>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,25,"*      Initializes mocks annotated with {@link Mock},"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,26,*      so that <strong>explicit usage of {@link org.mockito.MockitoAnnotations#initMocks(Object)} is not necessary</strong>.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,27,*      Mocks are initialized before each test method.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,28,*   <li>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,29,*      validates framework usage after each test method. See javadoc for {@link Mockito#validateMockitoUsage()}.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,30,* </ul>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,32,"* Runner is completely optional - there are other ways you can get &#064;Mock working, for example by writing a base class."
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,33,* Explicitly validating framework usage is also optional because it is triggered automatically by Mockito every time you use the framework.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,34,* See javadoc for {@link Mockito#validateMockitoUsage()}.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,35,* <p>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,36,* Read more about &#064;Mock annotation in javadoc for {@link MockitoAnnotations}
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,37,"* <pre class=""code""><code class=""java"">"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,38,* <b>&#064;Listeners(org.mockito.testng.MockitoTestNGListener.class)</b>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,39,* public class ExampleTest {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,41,*     &#064;Mock
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,42,*     private List list;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,44,*     &#064;Test
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,45,*     public void shouldDoSomething() {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,46,*         list.add(100);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,49,* </code></pre>
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,51,"public class MockitoTestNGListener implements ITestListener, IInvokedMethodListener {"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,54,* Init fields with annotated fields for instances that are annotated with the TestNG listener
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,55,* {@link MockitoTestNGListener}.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,57,* @param context TestContext
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,59,public void onStart(ITestContext context) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,60,if(context.getAllTestMethods() == null) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,61,return;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,64,for (Object instance : allTestInstancesWithMockitoListener(context.getAllTestMethods())) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,65,MockitoAnnotations.initMocks(instance);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,69,"public void beforeInvocation(IInvokedMethod method, ITestResult testResult) { }"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,73,* Validate Mockito's state then reset the mocks.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,75,* @param method The test method.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,76,* @param testResult TestNG result.
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,78,"public void afterInvocation(IInvokedMethod method, ITestResult testResult) {"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,79,resetMocks(testResult.getInstance());
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,80,Mockito.validateMockitoUsage();
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,83,private void resetMocks(Object instance) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,84,Mockito.reset(instanceMocksOf(instance).toArray());
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,87,private Set<Object> instanceMocksOf(Object instance) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,88,Set<Object> instanceMocks = new HashSet<Object>();
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,89,Field[] declaredFields = instance.getClass().getDeclaredFields();
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,90,for (Field declaredField : declaredFields) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,91,if(declaredField.isAnnotationPresent(Mock.class) || declaredField.isAnnotationPresent(Spy.class)) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,92,declaredField.setAccessible(true);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,93,try {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,94,Object fieldValue = declaredField.get(instance);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,95,if (fieldValue != null) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,96,instanceMocks.add(fieldValue);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,98,} catch (IllegalAccessException e) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,99,"throw new MockitoException(""Could not access field "" + declaredField.getName());"
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,103,return instanceMocks;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,106,private Set<Object> allTestInstancesWithMockitoListener(ITestNGMethod[] testMethods) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,107,Set<Object> testInstancesWithMockitoListener = new HashSet<Object>();
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,108,for (Object testInstance : allTestInstances(testMethods)) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,109,if(hasMockitoTestNGListener(testInstance)) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,110,testInstancesWithMockitoListener.add(testInstance);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,113,return testInstancesWithMockitoListener;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,116,private boolean hasMockitoTestNGListener(Object testInstance) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,117,Listeners listeners = testInstance.getClass().getAnnotation(Listeners.class);
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,118,if (listeners == null) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,119,return false;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,122,for (Class<? extends ITestNGListener> listenerClass : listeners.value()) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,123,if (MockitoTestNGListener.class == listenerClass) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,124,return true;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,127,return false;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,130,private Set<Object> allTestInstances(ITestNGMethod[] testMethods) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,131,Set<Object> allTestInstances = new HashSet<Object>();
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,132,for (ITestNGMethod testMethod : testMethods) {
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,133,allTestInstances.add(testMethod.getInstance());
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,135,return allTestInstances;
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,138,public void onTestStart(ITestResult result) { }
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,139,public void onTestSuccess(ITestResult result) { }
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,140,public void onTestFailure(ITestResult result) { }
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,141,public void onTestSkipped(ITestResult result) { }
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,142,public void onTestFailedButWithinSuccessPercentage(ITestResult result) { }
True,subprojects/testng/src/main/java/MockitoTestNGListener.java,subprojects/testng/src/main/java/MockitoTestNGListener.java,143,public void onFinish(ITestContext context) { }
False,subprojects/testng/src/test/java/DummyTestNgListenerTest.java,subprojects/testng/src/test/java/DummyTestNgListenerTest.java,1,ublic class DummyTestNgListenerTest {
