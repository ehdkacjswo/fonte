Basic support for creating mocks using constructor

Issue #92
