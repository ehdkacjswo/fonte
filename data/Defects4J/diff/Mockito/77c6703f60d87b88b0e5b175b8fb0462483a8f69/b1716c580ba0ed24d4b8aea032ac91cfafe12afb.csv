is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,9,mport org.mockito.internal.util.MockUtil;
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,9,import org.mockito.internal.configuration.injection.FinalMockCandidateFilter;
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,10,import org.mockito.internal.configuration.injection.MockCandidateFilter;
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,11,import org.mockito.internal.configuration.injection.NameBasedCandidateFilter;
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,12,import org.mockito.internal.configuration.injection.TypeBasedCandidateFilter;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,11,mport org.mockito.internal.util.reflection.FieldSetter;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,14,mport java.util.ArrayList;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,15,mport java.util.Collection;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,16,mport java.util.List;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,26,rivate final MockUtil mockUtil = new MockUtil();
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,25,private final MockCandidateFilter mockCandidateFilter = new TypeBasedCandidateFilter(new NameBasedCandidateFilter(new FinalMockCandidateFilter()));
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,53,"/ TODO refactor using a CoR, maybe configured with config."
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,55,"ist<Object> mockCandidates = selectMockCondidatesOnType(mocks, field.getType());"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,56,f(mockCandidates.size() > 1) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,57,"ockCandidates = selectMockCandidateOnName(mockCandidates, field.getName());"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,59,f(mockCandidates.size() == 1) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,60,"nject(field, fieldInstance, mockCandidates.get(0));"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,61, else {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,62,"/ don't fail, the user need to provide other dependencies"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,67,"rivate void inject(Field field, Object fieldInstance, Object matchingMock) {"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,68,ry {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,69,"ew FieldSetter(fieldInstance, field).set(matchingMock);"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,70, catch (Exception e) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,71,"hrow new MockitoException(""Problems injecting dependency in "" + field.getName(), e);"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,75,"rivate List<Object> selectMockCandidateOnName(Collection<Object> mocks, String fieldName) {"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,76,ist<Object> mockNameMatches = new ArrayList<Object>();
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,77,or (Object mock : mocks) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,78,f(fieldName.equals(mockUtil.getMockName(mock).toString())) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,79,ockNameMatches.add(mock);
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,82,eturn mockNameMatches;
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,85,"rivate List<Object> selectMockCondidatesOnType(Collection<Object> mocks, Class<?> fieldClass) {"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,86,ist<Object> mockTypeMatches = new ArrayList<Object>();
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,87,or (Object mock : mocks) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,88,f(fieldClass.isAssignableFrom(mock.getClass())) {
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,89,ockTypeMatches.add(mock);
True,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,53,"mockCandidateFilter.filterCandidate(mocks, field, fieldInstance).thenInject();"
False,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,src/org/mockito/internal/configuration/DefaultInjectionEngine.java,92,eturn mockTypeMatches;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,1,package org.mockito.internal.configuration.injection;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,3,import org.mockito.exceptions.base.MockitoException;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,4,import org.mockito.internal.util.reflection.FieldSetter;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,6,import java.lang.reflect.Field;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,7,import java.util.Collection;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,10,* This node returns an actual injecter which will be either :
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,12,* <ul>
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,13,* <li>an {@link Injecter} that do nothing if a candidate couldn't be found</li>
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,14,* <li>an {@link Injecter} that do will inject the final candidate to the field</li>
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,15,* </ul>
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,17,public class FinalMockCandidateFilter implements MockCandidateFilter {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,18,"public Injecter filterCandidate(final Collection<Object> mocks, final Field field, final Object fieldInstance) {"
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,19,if(mocks.size() == 1) {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,20,final Object matchingMock = mocks.iterator().next();
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,22,return new Injecter() {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,23,public boolean thenInject() {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,24,try {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,25,"new FieldSetter(fieldInstance, field).set(matchingMock);"
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,26,} catch (Exception e) {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,27,"throw new MockitoException(""Problems injecting dependency in "" + field.getName(), e);"
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,29,return true;
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,34,return new Injecter() {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,35,public boolean thenInject() {
True,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,src/org/mockito/internal/configuration/injection/FinalMockCandidateFilter.java,36,return false;
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,1,package org.mockito.internal.configuration.injection;
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,4,* Created by IntelliJ IDEA.
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,5,* User: brice
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,6,* Date: 23 oct. 2010
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,7,* Time: 18:01:48
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,8,* To change this template use File | Settings | File Templates.
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,10,public interface Injecter {
True,src/org/mockito/internal/configuration/injection/Injecter.java,src/org/mockito/internal/configuration/injection/Injecter.java,12,boolean thenInject();
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,1,package org.mockito.internal.configuration.injection;
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,3,import java.lang.reflect.Field;
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,4,import java.util.Collection;
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,6,public interface MockCandidateFilter {
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,8,Injecter filterCandidate(
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,9,"Collection<Object> mocks,"
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,10,"Field fieldToBeInjected,"
True,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,src/org/mockito/internal/configuration/injection/MockCandidateFilter.java,11,Object fieldInstance
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,1,package org.mockito.internal.configuration.injection;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,3,import org.mockito.internal.util.MockUtil;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,5,import java.lang.reflect.Field;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,6,import java.util.ArrayList;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,7,import java.util.Collection;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,8,import java.util.List;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,10,public class NameBasedCandidateFilter implements MockCandidateFilter {
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,11,private final MockCandidateFilter next;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,12,private final MockUtil mockUtil = new MockUtil();
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,14,public NameBasedCandidateFilter(MockCandidateFilter next) {
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,15,this.next = next;
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,18,"public Injecter filterCandidate(Collection<Object> mocks, Field field, Object fieldInstance) {"
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,19,List<Object> mockNameMatches = new ArrayList<Object>();
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,20,if(mocks.size() > 1) {
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,21,for (Object mock : mocks) {
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,22,if (field.getName().equals(mockUtil.getMockName(mock).toString())) {
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,23,mockNameMatches.add(mock);
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,26,"return next.filterCandidate(mockNameMatches, field, fieldInstance);"
True,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/NameBasedCandidateFilter.java,28,"return next.filterCandidate(mocks, field, fieldInstance);"
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,1,package org.mockito.internal.configuration.injection;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,3,import java.lang.reflect.Field;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,4,import java.util.ArrayList;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,5,import java.util.Collection;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,6,import java.util.List;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,8,public class TypeBasedCandidateFilter implements MockCandidateFilter {
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,10,MockCandidateFilter next;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,12,public TypeBasedCandidateFilter(MockCandidateFilter next) {
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,13,this.next = next;
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,16,"public Injecter filterCandidate(Collection<Object> mocks, Field field, Object fieldInstance) {"
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,17,List<Object> mockTypeMatches = new ArrayList<Object>();
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,18,for (Object mock : mocks) {
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,19,if (field.getType().isAssignableFrom(mock.getClass())) {
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,20,mockTypeMatches.add(mock);
True,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,src/org/mockito/internal/configuration/injection/TypeBasedCandidateFilter.java,24,"return next.filterCandidate(mockTypeMatches, field, fieldInstance);"
