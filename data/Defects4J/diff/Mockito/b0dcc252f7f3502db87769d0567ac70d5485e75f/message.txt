Fixed issue 112.
Actually, the issue was already fixed in previous 1-2 revisons because the invalid implemntation had also different manifestations (bug 116). Wanted to add a unit tests provided by contributor.

--HG--
extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%401589
