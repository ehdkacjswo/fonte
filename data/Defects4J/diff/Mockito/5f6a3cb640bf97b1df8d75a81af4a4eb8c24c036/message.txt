Refactoring and tidy-up in the publications comparison story
