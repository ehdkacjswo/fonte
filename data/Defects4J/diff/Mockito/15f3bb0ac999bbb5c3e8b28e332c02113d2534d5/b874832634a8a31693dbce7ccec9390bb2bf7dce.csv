is_addition,old_file_path,new_file_path,line_num,content
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,10,mport org.mockito.exceptions.*;
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,16,private final Stubber stubber = new Stubber();
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,50,stubber.setInvocationForPotentialStubbing(invocationWithMatchers);
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,66,stubber.setInvocationForPotentialStubbing(invocationWithMatchers);
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,70,eturn behavior.resultFor(invocationWithMatchers.getInvocation());
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,71,return stubber.resultFor(invocationWithMatchers.getInvocation());
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,95,ehavior.addResult(Result.createReturnResult(value));
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,96,behavior.lastInvocationWasStubbed();
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,97,stubber.addReturnValue(value);
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,100,alidateThrowable(throwable);
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,101,ehavior.addResult(Result.createThrowResult(throwable));
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,102,behavior.lastInvocationWasStubbed();
True,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,103,stubber.addThrowable(throwable);
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,104,rivate void validateThrowable(Throwable throwable) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,105,f (throwable == null) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,106,xceptions.cannotStubWithNullThrowable();
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,109,f (throwable instanceof RuntimeException || throwable instanceof Error) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,110,eturn;
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,113,f (!isValidCheckedException(throwable)) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,114,xceptions.checkedExceptionInvalid(throwable);
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,118,rivate boolean isValidCheckedException(Throwable throwable) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,119,"/TODO move validation logic to behavior, so that we don't need to expose getInvocationForStubbing()"
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,120,nvocation lastInvocation = behavior.getInvocationForStubbing().getInvocation();
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,122,lass<?>[] exceptions = lastInvocation.getMethod().getExceptionTypes();
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,123,lass<?> throwableClass = throwable.getClass();
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,124,or (Class<?> exception : exceptions) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,125,f (exception.isAssignableFrom(throwableClass)) {
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,126,eturn true;
False,src/org/mockito/internal/MockControl.java,src/org/mockito/internal/MockControl.java,130,eturn false;
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,15,rivate LinkedList<StubbedInvocation> stubbed = new LinkedList<StubbedInvocation>();
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,18,rivate ExpectedInvocation invocationForStubbing;
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,22,his.invocationForStubbing = invocation;
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,25,ublic void addResult(Result result) {
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,26,ssert invocationForStubbing != null;
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,27,egisteredInvocations.removeLast();
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,28,"tubbed.addFirst(new StubbedInvocation(invocationForStubbing, result));"
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,143,ublic Object resultFor(Invocation wanted) throws Throwable {
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,144,or (StubbedInvocation s : stubbed) {
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,145,f (s.matches(wanted)) {
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,146,eturn s.getResult().answer();
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,150,eturn ToTypeMappings.emptyReturnValueFor(wanted.getMethod().getReturnType());
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,165,ublic ExpectedInvocation getInvocationForStubbing() {
False,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,166,eturn invocationForStubbing;
True,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,146,public void lastInvocationWasStubbed() {
True,src/org/mockito/internal/MockitoBehavior.java,src/org/mockito/internal/MockitoBehavior.java,147,registeredInvocations.removeLast();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,1,package org.mockito.internal;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,3,import java.util.LinkedList;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,5,import org.mockito.exceptions.Exceptions;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,7,public class Stubber {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,9,private ExpectedInvocation invocationForStubbing;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,10,private LinkedList<StubbedInvocation> stubbed = new LinkedList<StubbedInvocation>();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,12,public void addReturnValue(Object value) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,13,addResult(Result.createReturnResult(value));
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,16,public void addThrowable(Throwable throwable) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,17,validateThrowable(throwable);
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,18,addResult(Result.createThrowResult(throwable));
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,21,private void addResult(Result result) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,22,assert invocationForStubbing != null;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,23,"stubbed.addFirst(new StubbedInvocation(invocationForStubbing, result));"
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,26,public Object resultFor(Invocation wanted) throws Throwable {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,27,for (StubbedInvocation s : stubbed) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,28,if (s.matches(wanted)) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,29,return s.getResult().answer();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,33,return ToTypeMappings.emptyReturnValueFor(wanted.getMethod().getReturnType());
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,36,private void validateThrowable(Throwable throwable) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,37,if (throwable == null) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,38,Exceptions.cannotStubWithNullThrowable();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,41,if (throwable instanceof RuntimeException || throwable instanceof Error) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,42,return;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,45,if (!isValidCheckedException(throwable)) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,46,Exceptions.checkedExceptionInvalid(throwable);
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,50,private boolean isValidCheckedException(Throwable throwable) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,51,Invocation lastInvocation = invocationForStubbing.getInvocation();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,53,Class<?>[] exceptions = lastInvocation.getMethod().getExceptionTypes();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,54,Class<?> throwableClass = throwable.getClass();
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,55,for (Class<?> exception : exceptions) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,56,if (exception.isAssignableFrom(throwableClass)) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,57,return true;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,61,return false;
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,64,public void setInvocationForPotentialStubbing(ExpectedInvocation invocation) {
True,src/org/mockito/internal/Stubber.java,src/org/mockito/internal/Stubber.java,65,this.invocationForStubbing = invocation;
