is_addition,old_file_path,new_file_path,line_num,content
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,2,*  Licensed to the Apache Software Foundation (ASF) under one or more
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,3,*  contributor license agreements.  See the NOTICE file distributed with
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,4,*  this work for additional information regarding copyright ownership.
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,5,"*  The ASF licenses this file to You under the Apache License, Version 2.0"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,6,"*  (the ""License""); you may not use this file except in compliance with"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,7,*  the License.  You may obtain a copy of the License at
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,9,*      http://www.apache.org/licenses/LICENSE-2.0
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,11,"*  Unless required by applicable law or agreed to in writing, software"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,12,"*  distributed under the License is distributed on an ""AS IS"" BASIS,"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,13,"*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,14,*  See the License for the specific language governing permissions and
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,15,*  limitations under the License.
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,19,package org.apache.commons.compress.archivers.zip;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,21,import java.io.File;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,22,import java.io.FileInputStream;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,23,import java.net.URI;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,24,import java.net.URL;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,25,import java.util.Random;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,27,import org.junit.Test;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,28,import static org.junit.Assert.assertEquals;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,29,import static org.junit.Assert.assertNull;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,30,import static org.junit.Assume.assumeNotNull;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,31,import static org.junit.Assume.assumeTrue;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,33,public class Zip64SupportTest {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,35,private static File getFile(String name) throws Throwable {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,36,URL url = Zip64SupportTest.class.getResource(name);
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,37,assumeNotNull(url);
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,38,File file = new File(new URI(url.toString()));
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,39,assumeTrue(file.exists());
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,40,return file;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,43,private static File get5GBZerosFile() throws Throwable {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,44,"return getFile(""/5GB_of_Zeros.zip"");"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,47,private static File get100KFileFile() throws Throwable {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,48,"return getFile(""/100k_Files.zip"");"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,51,private static final long FIVE_BILLION = 5000000000l;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,52,private static final int ONE_HUNDRED_THOUSAND = 100000;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,54,@Test public void read5GBOfZerosUsingInputStream() throws Throwable {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,55,FileInputStream fin = new FileInputStream(get5GBZerosFile());
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,56,ZipArchiveInputStream zin = null;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,57,try {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,58,zin = new ZipArchiveInputStream(fin);
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,59,ZipArchiveEntry zae = zin.getNextZipEntry();
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,60,"assertEquals(""5GB_of_Zeros"", zae.getName());"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,61,"assertEquals(FIVE_BILLION, zae.getSize());"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,62,byte[] buf = new byte[1024 * 1024];
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,63,long read = 0;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,64,Random r = new Random(System.currentTimeMillis());
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,65,int readNow;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,66,"while ((readNow = zin.read(buf, 0, buf.length)) > 0) {"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,67,// testing all bytes for a value of 0 is going to take
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,68,"// too long, just pick a few ones randomly"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,69,for (int i = 0; i < 1024; i++) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,70,int idx = r.nextInt(readNow);
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,71,"assertEquals(""testing byte "" + (read + idx), 0, buf[idx]);"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,73,read += readNow;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,75,"assertEquals(FIVE_BILLION, read);"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,76,assertNull(zin.getNextZipEntry());
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,77,} finally {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,78,if (zin != null) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,79,zin.close();
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,81,if (fin != null) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,82,fin.close();
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,87,@Test public void read100KFilesUsingInputStream() throws Throwable {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,88,FileInputStream fin = new FileInputStream(get100KFileFile());
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,89,ZipArchiveInputStream zin = null;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,90,try {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,91,zin = new ZipArchiveInputStream(fin);
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,92,int files = 0;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,93,ZipArchiveEntry zae = null;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,94,while ((zae = zin.getNextZipEntry()) != null) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,95,if (!zae.isDirectory()) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,96,files++;
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,97,"assertEquals(0, zae.getSize());"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,100,"assertEquals(ONE_HUNDRED_THOUSAND, files);"
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,101,} finally {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,102,if (zin != null) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,103,zin.close();
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,105,if (fin != null) {
True,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,src/test/java/org/apache/commons/compress/archivers/zip/Zip64SupportTest.java,106,fin.close();
