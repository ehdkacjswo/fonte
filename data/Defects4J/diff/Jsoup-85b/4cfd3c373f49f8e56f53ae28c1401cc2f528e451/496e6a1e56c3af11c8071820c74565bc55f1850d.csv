is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,3,mport java.io.File;
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,4,mport java.io.FileInputStream;
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,5,mport java.io.IOException;
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,6,mport java.io.InputStream;
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,7,mport java.io.InputStreamReader;
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,8,mport java.io.Reader;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,3,import org.apache.commons.lang.Validate;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,5,import java.io.*;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,6,import java.net.URL;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,7,import java.net.HttpURLConnection;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,23,InputStream inStream = new FileInputStream(in);
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,24,"String data = readInputStream(inStream, charsetName);"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,25,inStream.close();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,26,return data;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,30,Fetches a URL and gets as a string.
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,31,@param url
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,32,@param timeoutMillis
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,33,@return
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,34,@throws IOException
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,36,"static String load(URL url, int timeoutMillis) throws IOException {"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,37,String protocol = url.getProtocol();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,38,"Validate.isTrue(protocol.equals(""http"") || protocol.equals(""https""), ""Only http & https protocols supported"");"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,40,HttpURLConnection conn = (HttpURLConnection) url.openConnection();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,41,conn.setInstanceFollowRedirects(true);
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,42,conn.setConnectTimeout(timeoutMillis);
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,43,conn.setReadTimeout(timeoutMillis);
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,44,conn.connect();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,46,int res = conn.getResponseCode();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,47,if (res != HttpURLConnection.HTTP_OK)
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,48,"throw new IOException(res + "" error loading URL "" + url.toString());"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,49,InputStream inStream = new BufferedInputStream(conn.getInputStream());
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,50,"String charSet = ""UTF-8""; // todo[must]: get from content-encoding, or http-equiv (two-pass?)"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,52,"String data = readInputStream(inStream, charSet);"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,53,inStream.close();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,54,return data;
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,57,"private static String readInputStream(InputStream inStream, String charsetName) throws IOException {"
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,26,nputStream inStream = new FileInputStream(in);
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,37,eturn data.toString();
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,70,return data.toString();
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,5,import java.net.URL;
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,43,"Fetch a URL, and parse it as HTML."
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,44,@param url URL to fetch (with a GET). The protocol muse be {@code http} or {@code https}.
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,45,"@param timeoutMillis Connection and read timeout, in milliseconds. If exceeded, IOException is thrown."
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,46,@return The parsed HTML.
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,47,"@throws IOException If the final server response != 200 (redirects are followed), or if there's an error reading"
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,48,the response stream.
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,50,"public static Document parse(URL url, int timeoutMillis) throws IOException {"
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,51,"String html = DataUtil.load(url, timeoutMillis);"
True,src/main/java/org/jsoup/Jsoup.java,src/main/java/org/jsoup/Jsoup.java,52,"return parse(html, url.toExternalForm());"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,1,package org.jsoup.integration;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,3,import org.junit.Test;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,4,import static org.junit.Assert.*;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,5,import org.jsoup.nodes.Document;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,6,import org.jsoup.Jsoup;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,8,import java.net.URL;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,9,import java.io.IOException;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,12,"Tests the URL connection. Not enabled by default, so tests don't require network connection."
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,14,"@author Jonathan Hedley, jonathan@hedley.net */"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,15,public class UrlConnectTest {
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,16,// @Test // uncomment to enable test
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,17,public void testFetchURl() throws IOException {
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,18,"String url = ""http://www.google.com""; // no trailing / to force redir"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,19,"Document doc = Jsoup.parse(new URL(url), 10*1000);"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,20,"assertTrue(doc.title().contains(""Google""));"
