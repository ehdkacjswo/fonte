is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,743,"f (location != null && location.startsWith(""http:/"") && location.charAt(6) != '/') // fix broken Location: http:/temp/AAG_New/en/index.php"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,743,"if (location.startsWith(""http:/"") && location.charAt(6) != '/') // fix broken Location: http:/temp/AAG_New/en/index.php"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,10,import org.jsoup.integration.servlets.RedirectServlet;
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,29,import static org.junit.Assert.assertNull;
False,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,37,ublic static void setUp() throws Exception {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,39,public static void setUp() {
False,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,43,ublic static void tearDown() throws Exception {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,45,public static void tearDown() {
False,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,83,"eturn doc.select(""th:contains("" + key + "") + td"").first().text();"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,85,"final Element first = doc.select(""th:contains("" + key + "") + td"").first();"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,86,return first != null ? first.text() : null;
False,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,402,"ssertEquals(true, threw);"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,405,assertTrue(threw);
False,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,417,"ssertEquals(true, threw);"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,420,assertTrue(threw);
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,423,@Test public void handlesRedirect() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,424,Document doc = Jsoup.connect(RedirectServlet.Url)
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,425,".data(RedirectServlet.LocationParam, HelloServlet.Url)"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,426,.get();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,428,"Element p = doc.selectFirst(""p"");"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,429,"assertEquals(""Hello, World!"", p.text());"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,431,"assertEquals(HelloServlet.Url, doc.location());"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,434,@Test public void handlesEmptyRedirect() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,435,boolean threw = false;
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,436,try {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,437,Connection.Response res = Jsoup.connect(RedirectServlet.Url)
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,438,.execute();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,439,} catch (IOException e) {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,440,"assertTrue(e.getMessage().contains(""Too many redirects""));"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,441,threw = true;
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,443,assertTrue(threw);
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,446,@Test public void doesNotPostFor302() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,447,final Document doc = Jsoup.connect(RedirectServlet.Url)
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,448,".data(""Hello"", ""there"")"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,449,".data(RedirectServlet.LocationParam, EchoServlet.Url)"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,450,.post();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,452,"assertEquals(EchoServlet.Url, doc.location());"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,453,"assertEquals(""GET"", ihVal(""Method"", doc));"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,454,"assertNull(ihVal(""Hello"", doc)); // data not sent"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,457,@Test public void doesPostFor307() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,458,final Document doc = Jsoup.connect(RedirectServlet.Url)
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,459,".data(""Hello"", ""there"")"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,460,".data(RedirectServlet.LocationParam, EchoServlet.Url)"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,461,".data(RedirectServlet.CodeParam, ""307"")"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,462,.post();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,464,"assertEquals(EchoServlet.Url, doc.location());"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,465,"assertEquals(""POST"", ihVal(""Method"", doc));"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,466,"assertEquals(""there"", ihVal(""Hello"", doc));"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,1,package org.jsoup.integration.servlets;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,3,import org.jsoup.integration.TestServer;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,5,import javax.servlet.ServletException;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,6,import javax.servlet.http.HttpServletRequest;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,7,import javax.servlet.http.HttpServletResponse;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,8,import java.io.IOException;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,10,public class RedirectServlet extends BaseServlet {
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,11,public static final String Url = TestServer.map(RedirectServlet.class);
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,12,"public static final String LocationParam = ""loc"";"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,13,"public static final String CodeParam = ""code"";"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,14,private static final int DefaultCode = HttpServletResponse.SC_MOVED_TEMPORARILY;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,16,@Override
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,17,"protected void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,18,String location = req.getParameter(LocationParam);
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,19,if (location == null)
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,20,"location = """";"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,22,int intCode = DefaultCode;
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,23,String code = req.getParameter(CodeParam);
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,24,if (code != null)
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,25,intCode = Integer.parseInt(code);
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,27,"res.setHeader(""Location"", location);"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,28,res.setStatus(intCode);
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,31,@Override
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,32,"protected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {"
True,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,src/test/java/org/jsoup/integration/servlets/RedirectServlet.java,33,"doGet(req, res);"
False,src/test/java/org/jsoup/integration/servlets/SlowRider.java,src/test/java/org/jsoup/integration/servlets/SlowRider.java,5,mport javax.servlet.ServletException;
False,src/test/java/org/jsoup/integration/servlets/SlowRider.java,src/test/java/org/jsoup/integration/servlets/SlowRider.java,21,"rotected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {"
True,src/test/java/org/jsoup/integration/servlets/SlowRider.java,src/test/java/org/jsoup/integration/servlets/SlowRider.java,19,"protected void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {"
