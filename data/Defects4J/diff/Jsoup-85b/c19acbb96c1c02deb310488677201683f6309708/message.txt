Support infinite timeouts

Fixes #968
