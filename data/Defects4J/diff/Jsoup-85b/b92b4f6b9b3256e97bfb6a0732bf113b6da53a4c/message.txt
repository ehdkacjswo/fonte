isEmpty() should bufferUp

isEmpty wasn't checking to see if more content was able to be read, so when called directly without a consume() could give misleading results.

Fixes #995
