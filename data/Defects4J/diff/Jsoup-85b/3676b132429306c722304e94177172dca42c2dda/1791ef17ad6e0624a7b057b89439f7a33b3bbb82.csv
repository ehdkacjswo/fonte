is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/jsoup/helper/DataUtil.java,src/main/java/org/jsoup/helper/DataUtil.java,102,nput.mark(firstReadBufferSize);
False,src/main/java/org/jsoup/helper/DataUtil.java,src/main/java/org/jsoup/helper/DataUtil.java,103,"yteBuffer firstBytes = readToByteBuffer(input, firstReadBufferSize - 1); // -1 because we read one more to see if completed"
True,src/main/java/org/jsoup/helper/DataUtil.java,src/main/java/org/jsoup/helper/DataUtil.java,102,input.mark(bufferSize);
True,src/main/java/org/jsoup/helper/DataUtil.java,src/main/java/org/jsoup/helper/DataUtil.java,103,"ByteBuffer firstBytes = readToByteBuffer(input, firstReadBufferSize - 1); // -1 because we read one more to see if completed. First read is < buffer size, so can't be invalid."
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,49,import java.util.zip.Inflater;
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,50,import java.util.zip.InflaterInputStream;
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,784,"f (res.hasHeaderWithValue(CONTENT_ENCODING, ""gzip""))"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,786,"if (res.hasHeaderWithValue(CONTENT_ENCODING, ""gzip"")) {"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,788,"} else if (res.hasHeaderWithValue(CONTENT_ENCODING, ""deflate"")) {"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,789,"res.bodyStream = new InflaterInputStream(res.bodyStream, new Inflater(true));"
False,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,162,"rotected static boolean shouldCollapseAttribute(String key, String val, Document.OutputSettings out) {"
False,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,163,/ todo: optimize
False,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,164,"eturn (val == null || """".equals(val) || val.equalsIgnoreCase(key))"
False,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,165,& out.syntax() == Document.OutputSettings.Syntax.html
False,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,166,& isBooleanAttribute(key);
True,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,162,"protected static boolean shouldCollapseAttribute(final String key, final String val, final Document.OutputSettings out) {"
True,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,163,return (
True,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,164,out.syntax() == Document.OutputSettings.Syntax.html &&
True,src/main/java/org/jsoup/nodes/Attribute.java,src/main/java/org/jsoup/nodes/Attribute.java,165,"(val == null || ("""".equals(val) || val.equalsIgnoreCase(key)) && Attribute.isBooleanAttribute(key)));"
False,src/main/java/org/jsoup/nodes/Attributes.java,src/main/java/org/jsoup/nodes/Attributes.java,319,f (!(out.syntax() == Document.OutputSettings.Syntax.html
False,src/main/java/org/jsoup/nodes/Attributes.java,src/main/java/org/jsoup/nodes/Attributes.java,320,& (val == null || val.equals(key) && Attribute.isBooleanAttribute(key)))) {
True,src/main/java/org/jsoup/nodes/Attributes.java,src/main/java/org/jsoup/nodes/Attributes.java,319,"if (!Attribute.shouldCollapseAttribute(key, val, out)) {"
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1041,"// make sure there is a space between block tags and immediately following text nodes <div>One</div>Two should be ""One Two""."
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1042,if (node instanceof Element) {
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1043,Element element = (Element) node;
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1044,if (element.isBlock() && (node.nextSibling() instanceof TextNode) && !TextNode.lastCharIsWhitespace(accum))
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1045,accum.append(' ');
False,src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java,src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java,382,/ todo: ignore LF if next token
True,src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java,src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java,382,"tb.reader.matchConsume(""\n""); // ignore LF if next token"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,5,import org.jsoup.integration.servlets.Deflateservlet;
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,371,@Test
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,372,public void supportsDeflate() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,373,Connection.Response res = Jsoup.connect(Deflateservlet.Url).execute();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,374,"assertEquals(""deflate"", res.header(""Content-Encoding""));"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,376,Document doc = res.parse();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,377,"assertEquals(""Hello, World!"", doc.selectFirst(""p"").text());"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,1,package org.jsoup.integration.servlets;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,3,import org.jsoup.integration.TestServer;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,5,import javax.servlet.ServletException;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,6,import javax.servlet.http.HttpServletRequest;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,7,import javax.servlet.http.HttpServletResponse;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,8,import java.io.IOException;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,9,import java.nio.charset.StandardCharsets;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,10,import java.util.zip.Deflater;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,11,import java.util.zip.DeflaterOutputStream;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,13,public class Deflateservlet extends BaseServlet {
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,14,public static final String Url = TestServer.map(Deflateservlet.class);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,16,@Override
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,17,"protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,18,res.setContentType(TextHtml);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,19,res.setStatus(HttpServletResponse.SC_OK);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,20,"res.setHeader(""Content-Encoding"", ""deflate"");"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,22,"String doc = ""<p>Hello, World!<p>That should be enough, right?<p>Hello, World!<p>That should be enough, right?"";"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,24,DeflaterOutputStream stream = new DeflaterOutputStream(
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,25,"res.getOutputStream(),"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,26,"new Deflater(Deflater.BEST_COMPRESSION, true)); // true = nowrap zlib headers"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,28,stream.write(doc.getBytes(StandardCharsets.UTF_8));
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,29,stream.close();
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,32,"// allow the servlet to run as a main program, for local test"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,33,public static void main(String[] args) {
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,34,TestServer.start();
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,35,System.out.println(Url);
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1313,@Test
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1314,public void booleanAttributeOutput() {
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1315,"Document doc = Jsoup.parse(""<img src=foo noshade='' nohref async=async autofocus=false>"");"
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1316,"Element img = doc.selectFirst(""img"");"
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1318,"assertEquals(""<img src=\""foo\"" noshade nohref async autofocus=\""false\"">"", img.outerHtml());"
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1321,@Test
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1322,public void textHasSpaceAfterBlockTags() {
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1323,"Document doc = Jsoup.parse(""<div>One</div>Two"");"
True,src/test/java/org/jsoup/nodes/ElementTest.java,src/test/java/org/jsoup/nodes/ElementTest.java,1324,"assertEquals(""One Two"", doc.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,1160,@Test public void preSkipsFirstNewline() {
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,1161,"Document doc = Jsoup.parse(""<pre>\n\nOne\nTwo\n</pre>"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,1162,"Element pre = doc.selectFirst(""pre"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,1163,"assertEquals(""One\nTwo"", pre.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,1164,"assertEquals(""\nOne\nTwo\n"", pre.wholeText());"
