is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/jsoup/helper/StringUtil.java,src/main/java/org/jsoup/helper/StringUtil.java,230," Maintains a cached StringBuilder, to minimize new StringBuilder GCs. Prevents it from growing to big per thread."
True,src/main/java/org/jsoup/helper/StringUtil.java,src/main/java/org/jsoup/helper/StringUtil.java,230,"* Maintains a cached StringBuilder, to minimize new StringBuilder GCs. Prevents it from growing too big per thread."
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,1,package org.jsoup.nodes;
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,3,import org.jsoup.UncheckedIOException;
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,5,import java.io.IOException;
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,8,"* A Character Data node, to support CDATA sections."
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,10,public class CDataNode extends TextNode {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,11,public CDataNode(String text) {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,12,super(text);
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,15,@Override
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,16,public String nodeName() {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,17,"return ""#cdata"";"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,21,"* Get the unencoded, <b>non-normalized</b> text content of this CDataNode."
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,22,"* @return unencoded, non-normalized text"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,24,@Override
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,25,public String text() {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,26,return getWholeText();
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,29,@Override
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,30,"void outerHtmlHead(Appendable accum, int depth, Document.OutputSettings out) throws IOException {"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,31,accum
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,32,".append(""<![CDATA["")"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,33,.append(getWholeText());
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,36,@Override
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,37,"void outerHtmlTail(Appendable accum, int depth, Document.OutputSettings out) {"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,38,try {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,39,"accum.append(""]]>"");"
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,40,} catch (IOException e) {
True,src/main/java/org/jsoup/nodes/CDataNode.java,src/main/java/org/jsoup/nodes/CDataNode.java,41,throw new UncheckedIOException(e);
False,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1100,f (preserveWhitespace(textNode.parentNode))
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1100,if (preserveWhitespace(textNode.parentNode) || textNode instanceof CDataNode)
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1183,} else if (childNode instanceof CDataNode) {
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1184,// this shouldn't really happen because the html parser won't see the cdata as anything special when parsing script.
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1185,// but incase another type gets through.
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1186,CDataNode cDataNode = (CDataNode) childNode;
True,src/main/java/org/jsoup/nodes/Element.java,src/main/java/org/jsoup/nodes/Element.java,1187,sb.append(cDataNode.getWholeText());
False,src/main/java/org/jsoup/nodes/TextNode.java,src/main/java/org/jsoup/nodes/TextNode.java,46,eturn normaliseWhitespace(getWholeText());
True,src/main/java/org/jsoup/nodes/TextNode.java,src/main/java/org/jsoup/nodes/TextNode.java,46,return StringUtil.normaliseWhitespace(getWholeText());
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,5,import org.jsoup.nodes.CDataNode;
False,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,258,tring tagName = currentElement().tagName();
False,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,259,"f (tagName.equals(""script"") || tagName.equals(""style""))"
False,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,260,ode = new DataNode(characterToken.getData());
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,259,final String tagName = currentElement().tagName();
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,260,final String data = characterToken.getData();
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,262,if (characterToken.isCData())
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,263,node = new CDataNode(data);
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,264,"else if (tagName.equals(""script"") || tagName.equals(""style""))"
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,265,node = new DataNode(data);
False,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,262,ode = new TextNode(characterToken.getData());
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,267,node = new TextNode(data);
False,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,283,inal static class Character extends Token {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,283,static class Character extends Token {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,312,final static class CData extends Character {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,313,CData(String data) {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,314,super();
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,315,this.data(data);
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,318,@Override
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,319,public String toString() {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,320,"return ""<![CDATA["" + getData() + ""]]>"";"
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,372,final boolean isCData() {
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,373,return this instanceof CData;
False,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,372,"haracter,"
True,src/main/java/org/jsoup/parser/Token.java,src/main/java/org/jsoup/parser/Token.java,389,"Character, // note no CData - treated in builder as an extension of Character"
True,src/main/java/org/jsoup/parser/TokeniserState.java,src/main/java/org/jsoup/parser/TokeniserState.java,920,t.createTempBuffer();
False,src/main/java/org/jsoup/parser/TokeniserState.java,src/main/java/org/jsoup/parser/TokeniserState.java,1603,.emit(data);
True,src/main/java/org/jsoup/parser/TokeniserState.java,src/main/java/org/jsoup/parser/TokeniserState.java,1604,t.dataBuffer.append(data);
True,src/main/java/org/jsoup/parser/TokeniserState.java,src/main/java/org/jsoup/parser/TokeniserState.java,1606,t.emit(new Token.CData(t.dataBuffer.toString()));
False,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,99,oid insert(Token.Character characterToken) {
False,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,100,ode node = new TextNode(characterToken.getData());
False,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,101,nsertNode(node);
True,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,99,void insert(Token.Character token) {
True,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,100,final String data = token.getData();
True,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,src/main/java/org/jsoup/parser/XmlTreeBuilder.java,101,insertNode(token.isCData() ? new CDataNode(data) : new TextNode(data));
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,7,import org.jsoup.nodes.CDataNode;
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,9,import org.jsoup.nodes.DataNode;
False,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,308,"tring h = ""<div id=1><![CDATA[<html>\n<foo><&amp;]]></div>""; // the &amp; in there should remain literal"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,310,"String h = ""<div id=1><![CDATA[<html>\n <foo><&amp;]]></div>""; // the &amp; in there should remain literal"
False,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,311,"ssertEquals(""<html> <foo><&amp;"", div.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,313,"assertEquals(""<html>\n <foo><&amp;"", div.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,318,@Test public void roundTripsCdata() {
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,319,"String h = ""<div id=1><![CDATA[\n<html>\n <foo><&amp;]]></div>"";"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,320,Document doc = Jsoup.parse(h);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,321,"Element div = doc.getElementById(""1"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,322,"assertEquals(""<html>\n <foo><&amp;"", div.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,323,"assertEquals(0, div.children().size());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,324,"assertEquals(1, div.childNodeSize()); // no elements, one text node"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,326,"assertEquals(""<div id=\""1\""><![CDATA[\n<html>\n <foo><&amp;]]>\n</div>"", div.outerHtml());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,328,CDataNode cdata = (CDataNode) div.textNodes().get(0);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,329,"assertEquals(""\n<html>\n <foo><&amp;"", cdata.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,332,@Test public void handlesCdataAcrossBuffer() {
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,333,StringBuilder sb = new StringBuilder();
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,334,while (sb.length() <= CharacterReader.maxBufferLen) {
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,335,"sb.append(""A suitable amount of CData.\n"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,337,String cdata = sb.toString();
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,338,"String h = ""<div><![CDATA["" + cdata + ""]]></div>"";"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,339,Document doc = Jsoup.parse(h);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,340,"Element div = doc.selectFirst(""div"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,342,CDataNode node = (CDataNode) div.textNodes().get(0);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,343,"assertEquals(cdata, node.text());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,346,@Test public void handlesCdataInScript() {
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,347,"String html = ""<script type=\""text/javascript\"">//<![CDATA[\n\n  foo();\n//]]></script>"";"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,348,Document doc = Jsoup.parse(html);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,350,"String data = ""//<![CDATA[\n\n  foo();\n//]]>"";"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,351,"Element script = doc.selectFirst(""script"");"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,352,"assertEquals("""", script.text()); // won't be parsed as cdata because in script data section"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,353,"assertEquals(data, script.data());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,354,"assertEquals(html, script.outerHtml());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,356,DataNode dataNode = (DataNode) script.childNode(0);
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,357,"assertEquals(data, dataNode.getWholeData());"
True,src/test/java/org/jsoup/parser/HtmlParserTest.java,src/test/java/org/jsoup/parser/HtmlParserTest.java,358,"// see - not a cdata node, because in script. contrast with XmlTreeBuilder - will be cdata."
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,6,import org.jsoup.nodes.CDataNode;
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,8,import org.jsoup.nodes.Element;
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,194,@Test public void roundTripsCdata() {
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,195,"String xml = ""<div id=1><![CDATA[\n<html>\n <foo><&amp;]]></div>"";"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,196,"Document doc = Jsoup.parse(xml, """", Parser.xmlParser());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,198,"Element div = doc.getElementById(""1"");"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,199,"assertEquals(""<html>\n <foo><&amp;"", div.text());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,200,"assertEquals(0, div.children().size());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,201,"assertEquals(1, div.childNodeSize()); // no elements, one text node"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,203,"assertEquals(""<div id=\""1\""><![CDATA[\n<html>\n <foo><&amp;]]>\n</div>"", div.outerHtml());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,205,CDataNode cdata = (CDataNode) div.textNodes().get(0);
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,206,"assertEquals(""\n<html>\n <foo><&amp;"", cdata.text());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,209,@Test public void cdataPreservesWhiteSpace() {
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,210,"String xml = ""<script type=\""text/javascript\"">//<![CDATA[\n\n  foo();\n//]]></script>"";"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,211,"Document doc = Jsoup.parse(xml, """", Parser.xmlParser());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,212,"assertEquals(xml, doc.outerHtml());"
True,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java,214,"assertEquals(""//\n\n  foo();\n//"", doc.selectFirst(""script"").text());"
