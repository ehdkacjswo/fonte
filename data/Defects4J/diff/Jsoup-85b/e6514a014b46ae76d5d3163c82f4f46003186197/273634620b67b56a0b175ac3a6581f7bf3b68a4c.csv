is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/jsoup/Connection.java,src/main/java/org/jsoup/Connection.java,4,import org.jsoup.parser.HtmlTreeBuilder;
False,src/main/java/org/jsoup/Connection.java,src/main/java/org/jsoup/Connection.java,213, Provide an alternate parser to use when parsing the response to a Document.
True,src/main/java/org/jsoup/Connection.java,src/main/java/org/jsoup/Connection.java,214,"* Provide an alternate parser to use when parsing the response to a Document. If not set, defaults to the HTML"
True,src/main/java/org/jsoup/Connection.java,src/main/java/org/jsoup/Connection.java,215,"* parser, unless the response content-type is XML, in which case the XML parser is used."
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,360,private boolean parserDefined = false; // called parser(...) vs initialized in ctor
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,441,parserDefined = true;
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,473, For example {@code application/atom+xml;charset=utf-8}.
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,474," Stepping through it: start with {@code ""application/""}, follow with word"
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,475," characters up to a {@code ""+xml""}, and then maybe more ({@code .*})."
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,475,"* Matches XML content types (like text/xml, application/xhtml+xml;charset=UTF8, etc)"
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,477,"rivate static final Pattern xmlContentTypeRxp = Pattern.compile(""application/\\w+\\+xml.*"");"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,477,"private static final Pattern xmlContentTypeRxp = Pattern.compile(""(application|text)/\\w*\\+?xml.*"");"
False,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,544,"& !contentType.startsWith(""application/xml"")"
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,549,// switch to the XML parser if content type is xml and not parser not explicitly set
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,550,if (contentType != null && xmlContentTypeRxp.matcher(contentType).matches()) {
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,551,// only flip it if a HttpConnection.Request (i.e. don't presume other impls want it):
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,552,if (req instanceof HttpConnection.Request && !((Request) req).parserDefined) {
True,src/main/java/org/jsoup/helper/HttpConnection.java,src/main/java/org/jsoup/helper/HttpConnection.java,553,req.parser(Parser.xmlParser());
False,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,14,lass HtmlTreeBuilder extends TreeBuilder {
True,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,src/main/java/org/jsoup/parser/HtmlTreeBuilder.java,14,public class HtmlTreeBuilder extends TreeBuilder {
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,7,import org.jsoup.helper.StringUtil;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,11,import org.jsoup.parser.HtmlTreeBuilder;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,12,import org.jsoup.parser.Parser;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,13,import org.jsoup.parser.XmlTreeBuilder;
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,501,@Test
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,502,public void fetchHandlesXml() throws IOException {
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,503,"// should auto-detect xml and use XML parser, unless explicitly requested the html parser"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,504,"String xmlUrl = ""http://direct.infohound.net/tools/parse-xml.xml"";"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,505,Connection con = Jsoup.connect(xmlUrl);
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,506,Document doc = con.get();
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,507,Connection.Request req = con.request();
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,508,assertTrue(req.parser().getTreeBuilder() instanceof XmlTreeBuilder);
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,509,"assertEquals(""<xml> <link> one </link> <table> Two </table> </xml>"", StringUtil.normaliseWhitespace(doc.outerHtml()));"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,512,@Test
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,513,public void fetchHandlesXmlAsHtmlWhenParserSet() throws IOException {
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,514,"// should auto-detect xml and use XML parser, unless explicitly requested the html parser"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,515,"String xmlUrl = ""http://direct.infohound.net/tools/parse-xml.xml"";"
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,516,Connection con = Jsoup.connect(xmlUrl).parser(Parser.htmlParser());
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,517,Document doc = con.get();
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,518,Connection.Request req = con.request();
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,519,assertTrue(req.parser().getTreeBuilder() instanceof HtmlTreeBuilder);
True,src/test/java/org/jsoup/integration/UrlConnectTest.java,src/test/java/org/jsoup/integration/UrlConnectTest.java,520,"assertEquals(""<html> <head></head> <body> <xml> <link>one <table> Two </table> </xml> </body> </html>"", StringUtil.normaliseWhitespace(doc.outerHtml()));"
