is_addition,old_file_path,new_file_path,line_num,content
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,5,import org.jsoup.integration.servlets.Deflateservlet;
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,371,@Test
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,372,public void supportsDeflate() throws IOException {
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,373,Connection.Response res = Jsoup.connect(Deflateservlet.Url).execute();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,374,"assertEquals(""deflate"", res.header(""Content-Encoding""));"
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,376,Document doc = res.parse();
True,src/test/java/org/jsoup/integration/ConnectTest.java,src/test/java/org/jsoup/integration/ConnectTest.java,377,"assertEquals(""Hello, World!"", doc.selectFirst(""p"").text());"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,1,package org.jsoup.integration.servlets;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,3,import org.jsoup.integration.TestServer;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,5,import javax.servlet.ServletException;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,6,import javax.servlet.http.HttpServletRequest;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,7,import javax.servlet.http.HttpServletResponse;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,8,import java.io.IOException;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,9,import java.nio.charset.StandardCharsets;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,10,import java.util.zip.Deflater;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,11,import java.util.zip.DeflaterOutputStream;
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,13,public class Deflateservlet extends BaseServlet {
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,14,public static final String Url = TestServer.map(Deflateservlet.class);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,16,@Override
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,17,"protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,18,res.setContentType(TextHtml);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,19,res.setStatus(HttpServletResponse.SC_OK);
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,20,"res.setHeader(""Content-Encoding"", ""deflate"");"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,22,"String doc = ""<p>Hello, World!<p>That should be enough, right?<p>Hello, World!<p>That should be enough, right?"";"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,24,DeflaterOutputStream stream = new DeflaterOutputStream(
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,25,"res.getOutputStream(),"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,26,"new Deflater(Deflater.BEST_COMPRESSION, true)); // true = nowrap zlib headers"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,28,stream.write(doc.getBytes(StandardCharsets.UTF_8));
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,29,stream.close();
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,32,"// allow the servlet to run as a main program, for local test"
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,33,public static void main(String[] args) {
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,34,TestServer.start();
True,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,src/test/java/org/jsoup/integration/servlets/Deflateservlet.java,35,System.out.println(Url);
