Make sure the HTML parser is correctly reset before reuse

Otherwise the stack and current form element were stuffed if the
DataUtil needed to reparse after switching content encoding.

Also, was needlessly redecoding when the character set was "utf-8"
because the check was case sensitive.
