Use the new differentation API for all optimizers.

The older API is still supported as of version 3.1, but is implemented
by wrapping the user function into the new API and then calling the new
code.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/math/trunk@1401838 13f79535-47bb-0310-9956-ffa450edef68
