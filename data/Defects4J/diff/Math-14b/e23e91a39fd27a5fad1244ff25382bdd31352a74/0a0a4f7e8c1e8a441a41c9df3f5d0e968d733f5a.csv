is_addition,old_file_path,new_file_path,line_num,content
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,2,* Licensed to the Apache Software Foundation (ASF) under one or more
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,3,* contributor license agreements.  See the NOTICE file distributed with
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,4,* this work for additional information regarding copyright ownership.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,5,"* The ASF licenses this file to You under the Apache License, Version 2.0"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,6,"* (the ""License""); you may not use this file except in compliance with"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,7,* the License.  You may obtain a copy of the License at
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,9,*      http://www.apache.org/licenses/LICENSE-2.0
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,11,"* Unless required by applicable law or agreed to in writing, software"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,12,"* distributed under the License is distributed on an ""AS IS"" BASIS,"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,13,"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,14,* See the License for the specific language governing permissions and
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,15,* limitations under the License.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,17,package org.apache.commons.math3.genetics;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,19,import java.util.concurrent.TimeUnit;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,21,import org.apache.commons.math3.exception.NumberIsTooSmallException;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,24,* Stops after a fixed amount of time has elapsed.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,26,* <p>
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,27,"* The first time {@link #isSatisfied(Population)} is invoked, the end time of"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,28,* the evolution is determined based on the provided <code>maxTime</code> value.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,29,"* Once the elapsed time reaches the configured <code>maxTime</code> value,"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,30,* {@link #isSatisfied(Population)} returns true.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,31,* </p>
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,33,* @version $Id$
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,34,* @since 3.1
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,36,public class FixedElapsedTime implements StoppingCondition {
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,37,/** Maximum allowed time period (in nanoseconds). */
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,38,private final long maxTimePeriod;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,40,/** The predetermined termination time (stopping condition). */
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,41,private long endTime = -1;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,44,* Create a new {@link FixedElapsedTime} instance.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,46,* @param maxTime maximum number of seconds generations are allowed to evolve
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,47,* @throws NumberIsTooSmallException if the provided time is &lt; 0
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,49,public FixedElapsedTime(final long maxTime) {
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,50,"this(maxTime, TimeUnit.SECONDS);"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,54,* Create a new {@link FixedElapsedTime} instance.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,56,* @param maxTime maximum time generations are allowed to evolve
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,57,* @param unit {@link TimeUnit} of the maxTime argument
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,58,* @throws NumberIsTooSmallException if the provided time is &lt; 0
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,60,"public FixedElapsedTime(final long maxTime, final TimeUnit unit) {"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,61,if (maxTime < 0) {
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,62,"throw new NumberIsTooSmallException(maxTime, 0, true);"
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,64,maxTimePeriod = unit.toNanos(maxTime);
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,68,* Determine whether or not the maximum allowed time has passed.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,69,* The termination time is determined after the first generation.
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,71,* @param population ignored (no impact on result)
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,72,* @return <code>true</code> IFF the maximum allowed time period has elapsed
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,74,public boolean isSatisfied(final Population population) {
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,75,if (endTime < 0) {
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,76,endTime = System.nanoTime() + maxTimePeriod;
True,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,src/main/java/org/apache/commons/math3/genetics/FixedElapsedTime.java,79,return System.nanoTime() >= endTime;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,2,* Licensed to the Apache Software Foundation (ASF) under one or more
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,3,* contributor license agreements.  See the NOTICE file distributed with
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,4,* this work for additional information regarding copyright ownership.
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,5,"* The ASF licenses this file to You under the Apache License, Version 2.0"
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,6,"* (the ""License""); you may not use this file except in compliance with"
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,7,* the License.  You may obtain a copy of the License at
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,9,*      http://www.apache.org/licenses/LICENSE-2.0
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,11,"* Unless required by applicable law or agreed to in writing, software"
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,12,"* distributed under the License is distributed on an ""AS IS"" BASIS,"
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,13,"* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,14,* See the License for the specific language governing permissions and
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,15,* limitations under the License.
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,17,package org.apache.commons.math3.genetics;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,19,import java.util.Iterator;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,20,import java.util.concurrent.TimeUnit;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,22,import org.apache.commons.math3.util.FastMath;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,23,import org.junit.Assert;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,24,import org.junit.Test;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,26,public class FixedElapsedTimeTest {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,28,@Test
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,29,public void testIsSatisfied() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,30,final Population pop = new Population() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,31,public void addChromosome(final Chromosome chromosome) {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,32,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,34,public Chromosome getFittestChromosome() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,35,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,36,return null;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,38,public int getPopulationLimit() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,39,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,40,return 0;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,42,public int getPopulationSize() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,43,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,44,return 0;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,46,public Population nextGeneration() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,47,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,48,return null;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,50,public Iterator<Chromosome> iterator() {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,51,// unimportant
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,52,return null;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,56,final long start = System.nanoTime();
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,57,final long duration = 3;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,58,"final FixedElapsedTime tec = new FixedElapsedTime(duration, TimeUnit.SECONDS);"
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,60,while (!tec.isSatisfied(pop)) {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,61,try {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,62,Thread.sleep(500);
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,63,} catch (InterruptedException e) {
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,64,// ignore
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,68,final long end = System.nanoTime();
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,69,final long elapsedTime = end - start;
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,70,final long diff = FastMath.abs(elapsedTime - TimeUnit.SECONDS.toNanos(duration));
True,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,src/test/java/org/apache/commons/math3/genetics/FixedElapsedTimeTest.java,72,Assert.assertTrue(diff < TimeUnit.MILLISECONDS.toNanos(100));
