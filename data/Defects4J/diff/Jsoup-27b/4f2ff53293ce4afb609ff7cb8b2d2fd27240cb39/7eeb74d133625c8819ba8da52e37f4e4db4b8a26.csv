is_addition,old_file_path,new_file_path,line_num,content
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,21,"rivate static final String defaultCharset = ""UTF-8""; // used if not found in header or http-equiv"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,21,"private static final String defaultCharset = ""UTF-8""; // used if not found in header or meta charset"
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,86,f (charsetName == null) { // determine from http-equiv. safe parse as UTF-8
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,86,if (charsetName == null) { // determine from meta. safe parse as UTF-8
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,87,"// look for <meta http-equiv=""Content-Type"" content=""text/html;charset=gb2312""> or HTML5 <meta charset=""gb2312"">"
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,89,"lement httpEquiv = doc.select(""meta[http-equiv]"").first();"
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,90,"f (httpEquiv != null) { // if not found, will keep utf-8 as best attempt"
False,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,91,"tring foundCharset = getCharsetFromContentType(httpEquiv.attr(""content""));"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,90,"Element meta = doc.select(""meta[http-equiv=content-type], meta[charset]"").first();"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,91,"if (meta != null) { // if not found, will keep utf-8 as best attempt"
True,src/main/java/org/jsoup/DataUtil.java,src/main/java/org/jsoup/DataUtil.java,92,"String foundCharset = meta.hasAttr(""http-equiv"") ? getCharsetFromContentType(meta.attr(""content"")) : meta.attr(""charset"");"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,79,"// tests <meta http-equiv=""Content-Type"" content=""text/html;charset=gb2312"">"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,92,@Test public void testHtml5Charset() throws IOException {
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,93,"// test that <meta charset=""gb2312""> works"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,94,"File in = getFile(""/htmltests/meta-charset-1.html"");"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,95,"Document doc = Jsoup.parse(in, null, ""http://example.com/""); //gb2312, has html5 <meta charset>"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,96,"assertEquals(""新"", doc.text());"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,98,"// double check, no charset, falls back to utf8 which is incorrect"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,99,"in = getFile(""/htmltests/meta-charset-2.html""); //"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,100,"doc = Jsoup.parse(in, null, ""http://example.com""); // gb2312, no charset"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,101,"assertFalse(""新"".equals(doc.text()));"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,103,// confirm fallback to utf8
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,104,"in = getFile(""/htmltests/meta-charset-3.html"");"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,105,"doc = Jsoup.parse(in, null, ""http://example.com/""); // utf8, no charset"
True,src/test/java/org/jsoup/integration/ParseTest.java,src/test/java/org/jsoup/integration/ParseTest.java,106,"assertEquals(""新"", doc.text());"
