StringUtils equals() relies on undefined behavior